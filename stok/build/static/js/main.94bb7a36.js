/*! For license information please see main.94bb7a36.js.LICENSE.txt */
(()=>{var __webpack_modules__={161:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isSymbol=function(e){return"symbol"===typeof e||e instanceof Symbol}},203:(e,t,r)=>{"use strict";r.d(t,{$x:()=>m,E_:()=>E,F0:()=>M,Fq:()=>d,GU:()=>_,Gd:()=>c,I:()=>S,IO:()=>A,JR:()=>x,LR:()=>y,Lz:()=>j,OK:()=>l,Qd:()=>v,RX:()=>f,Rv:()=>I,Xw:()=>T,YM:()=>n,_2:()=>P,_A:()=>s,_M:()=>h,aG:()=>b,aZ:()=>o,gT:()=>C,hB:()=>w,jZ:()=>O,p:()=>g,t3:()=>i,u0:()=>k,v2:()=>u,ym:()=>a,zL:()=>p});const n={LIBRARY_NAME:"MSAL.JS",SKU:"msal.js.common",DEFAULT_AUTHORITY:"https://login.microsoftonline.com/common/",DEFAULT_AUTHORITY_HOST:"login.microsoftonline.com",DEFAULT_COMMON_TENANT:"common",ADFS:"adfs",DSTS:"dstsv2",AAD_INSTANCE_DISCOVERY_ENDPT:"https://login.microsoftonline.com/common/discovery/instance?api-version=1.1&authorization_endpoint=",CIAM_AUTH_URL:".ciamlogin.com",AAD_TENANT_DOMAIN_SUFFIX:".onmicrosoft.com",RESOURCE_DELIM:"|",NO_ACCOUNT:"NO_ACCOUNT",CLAIMS:"claims",CONSUMER_UTID:"9188040d-6c67-4c5b-b112-36a304b66dad",OPENID_SCOPE:"openid",PROFILE_SCOPE:"profile",OFFLINE_ACCESS_SCOPE:"offline_access",EMAIL_SCOPE:"email",CODE_GRANT_TYPE:"authorization_code",RT_GRANT_TYPE:"refresh_token",S256_CODE_CHALLENGE_METHOD:"S256",URL_FORM_CONTENT_TYPE:"application/x-www-form-urlencoded;charset=utf-8",AUTHORIZATION_PENDING:"authorization_pending",NOT_DEFINED:"not_defined",EMPTY_STRING:"",NOT_APPLICABLE:"N/A",NOT_AVAILABLE:"Not Available",FORWARD_SLASH:"/",IMDS_ENDPOINT:"http://169.254.169.254/metadata/instance/compute/location",IMDS_VERSION:"2020-06-01",IMDS_TIMEOUT:2e3,AZURE_REGION_AUTO_DISCOVER_FLAG:"TryAutoDetect",REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX:"login.microsoft.com",KNOWN_PUBLIC_CLOUDS:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"],SHR_NONCE_VALIDITY:240,INVALID_INSTANCE:"invalid_instance"},i={SUCCESS:200,SUCCESS_RANGE_START:200,SUCCESS_RANGE_END:299,REDIRECT:302,CLIENT_ERROR:400,CLIENT_ERROR_RANGE_START:400,BAD_REQUEST:400,UNAUTHORIZED:401,NOT_FOUND:404,REQUEST_TIMEOUT:408,GONE:410,TOO_MANY_REQUESTS:429,CLIENT_ERROR_RANGE_END:499,SERVER_ERROR:500,SERVER_ERROR_RANGE_START:500,SERVICE_UNAVAILABLE:503,GATEWAY_TIMEOUT:504,SERVER_ERROR_RANGE_END:599,MULTI_SIDED_ERROR:600},a={GET:"GET",POST:"POST"},o=[n.OPENID_SCOPE,n.PROFILE_SCOPE,n.OFFLINE_ACCESS_SCOPE],s=[...o,n.EMAIL_SCOPE],l={CONTENT_TYPE:"Content-Type",CONTENT_LENGTH:"Content-Length",RETRY_AFTER:"Retry-After",CCS_HEADER:"X-AnchorMailbox",WWWAuthenticate:"WWW-Authenticate",AuthenticationInfo:"Authentication-Info",X_MS_REQUEST_ID:"x-ms-request-id",X_MS_HTTP_VERSION:"x-ms-httpver"},c={ACTIVE_ACCOUNT_FILTERS:"active-account-filters"},u={COMMON:"common",ORGANIZATIONS:"organizations",CONSUMERS:"consumers"},d={ACCESS_TOKEN:"access_token",XMS_CC:"xms_cc"},h={LOGIN:"login",SELECT_ACCOUNT:"select_account",CONSENT:"consent",NONE:"none",CREATE:"create",NO_SESSION:"no_session"},f={CODE:"code",IDTOKEN_TOKEN:"id_token token",IDTOKEN_TOKEN_REFRESHTOKEN:"id_token token refresh_token"},p={QUERY:"query",FRAGMENT:"fragment"},g={QUERY:"query",FRAGMENT:"fragment",FORM_POST:"form_post"},m={IMPLICIT_GRANT:"implicit",AUTHORIZATION_CODE_GRANT:"authorization_code",CLIENT_CREDENTIALS_GRANT:"client_credentials",RESOURCE_OWNER_PASSWORD_GRANT:"password",REFRESH_TOKEN_GRANT:"refresh_token",DEVICE_CODE_GRANT:"device_code",JWT_BEARER:"urn:ietf:params:oauth:grant-type:jwt-bearer"},v={MSSTS_ACCOUNT_TYPE:"MSSTS",ADFS_ACCOUNT_TYPE:"ADFS",MSAV1_ACCOUNT_TYPE:"MSA",GENERIC_ACCOUNT_TYPE:"Generic"},y={CACHE_KEY_SEPARATOR:"-",CLIENT_INFO_SEPARATOR:"."},b={ID_TOKEN:"IdToken",ACCESS_TOKEN:"AccessToken",ACCESS_TOKEN_WITH_AUTH_SCHEME:"AccessToken_With_AuthScheme",REFRESH_TOKEN:"RefreshToken"},_="appmetadata",x="client_info",w="1",k={CACHE_KEY:"authority-metadata",REFRESH_TIME_SECONDS:86400},E={CONFIG:"config",CACHE:"cache",NETWORK:"network",HARDCODED_VALUES:"hardcoded_values"},C={SCHEMA_VERSION:5,MAX_LAST_HEADER_BYTES:330,MAX_CACHED_ERRORS:50,CACHE_KEY:"server-telemetry",CATEGORY_SEPARATOR:"|",VALUE_SEPARATOR:",",OVERFLOW_TRUE:"1",OVERFLOW_FALSE:"0",UNKNOWN_ERROR:"unknown_error"},A={BEARER:"Bearer",POP:"pop",SSH:"ssh-cert"},T={DEFAULT_THROTTLE_TIME_SECONDS:60,DEFAULT_MAX_THROTTLE_TIME_SECONDS:3600,THROTTLING_PREFIX:"throttling",X_MS_LIB_CAPABILITY_VALUE:"retry-after, h429"},S={INVALID_GRANT_ERROR:"invalid_grant",CLIENT_MISMATCH_ERROR:"client_mismatch"},O={FAILED_AUTO_DETECTION:"1",INTERNAL_CACHE:"2",ENVIRONMENT_VARIABLE:"3",IMDS:"4"},P={CONFIGURED_NO_AUTO_DETECTION:"2",AUTO_DETECTION_REQUESTED_SUCCESSFUL:"4",AUTO_DETECTION_REQUESTED_FAILED:"5"},I={NOT_APPLICABLE:"0",FORCE_REFRESH_OR_CLAIMS:"1",NO_CACHED_ACCESS_TOKEN:"2",CACHED_ACCESS_TOKEN_EXPIRED:"3",PROACTIVELY_REFRESHED:"4"},j={Jwt:"JWT",Jwk:"JWK",Pop:"pop"},M=300},226:(e,t)=>{"use strict";var r=Symbol.for("react.element"),n=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function v(e,t,r){this.props=e,this.context=t,this.refs=m,this.updater=r||p}function y(){}function b(e,t,r){this.props=e,this.context=t,this.refs=m,this.updater=r||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var _=b.prototype=new y;_.constructor=b,g(_,v.prototype),_.isPureReactComponent=!0;var x=Array.isArray,w=Object.prototype.hasOwnProperty,k={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,n){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,i)&&!E.hasOwnProperty(i)&&(a[i]=t[i]);var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===a[i]&&(a[i]=l[i]);return{$$typeof:r,type:e,key:o,ref:s,props:a,_owner:k.current}}function A(e){return"object"===typeof e&&null!==e&&e.$$typeof===r}var T=/\/+/g;function S(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function O(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case r:case n:l=!0}}if(l)return o=o(l=e),e=""===a?"."+S(l,0):a,x(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),O(o,t,i,"",function(e){return e})):null!=o&&(A(o)&&(o=function(e,t){return{$$typeof:r,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(l=0,a=""===a?".":a+":",x(e))for(var c=0;c<e.length;c++){var u=a+S(s=e[c],c);l+=O(s,t,i,u,o)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(s=e.next()).done;)l+=O(s=s.value,t,i,u=a+S(s,c++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function P(e,t,r){if(null==e)return e;var n=[],i=0;return O(e,n,"","",function(e){return t.call(r,e,i++)}),n}function I(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var j={current:null},M={transition:null},N={ReactCurrentDispatcher:j,ReactCurrentBatchConfig:M,ReactCurrentOwner:k};function R(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:P,forEach:function(e,t,r){P(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return P(e,function(){t++}),t},toArray:function(e){return P(e,function(e){return e})||[]},only:function(e){if(!A(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=a,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N,t.act=R,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=g({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=k.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)w.call(t,c)&&!E.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:r,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=A,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:I}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=M.transition;M.transition={};try{e()}finally{M.transition=t}},t.unstable_act=R,t.useCallback=function(e,t){return j.current.useCallback(e,t)},t.useContext=function(e){return j.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return j.current.useDeferredValue(e)},t.useEffect=function(e,t){return j.current.useEffect(e,t)},t.useId=function(){return j.current.useId()},t.useImperativeHandle=function(e,t,r){return j.current.useImperativeHandle(e,t,r)},t.useInsertionEffect=function(e,t){return j.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return j.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return j.current.useMemo(e,t)},t.useReducer=function(e,t,r){return j.current.useReducer(e,t,r)},t.useRef=function(e){return j.current.useRef(e)},t.useState=function(e){return j.current.useState(e)},t.useSyncExternalStore=function(e,t,r){return j.current.useSyncExternalStore(e,t,r)},t.useTransition=function(){return j.current.useTransition()},t.version="18.3.1"},229:(e,t,r)=>{"use strict";r.d(t,{$:()=>n,V:()=>a});var n,i=r(203);!function(e){e[e.Error=0]="Error",e[e.Warning=1]="Warning",e[e.Info=2]="Info",e[e.Verbose=3]="Verbose",e[e.Trace=4]="Trace"}(n||(n={}));class a{constructor(e,t,r){this.level=n.Info;const o=e||a.createDefaultLoggerOptions();this.localCallback=o.loggerCallback||(()=>{}),this.piiLoggingEnabled=o.piiLoggingEnabled||!1,this.level="number"===typeof o.logLevel?o.logLevel:n.Info,this.correlationId=o.correlationId||i.YM.EMPTY_STRING,this.packageName=t||i.YM.EMPTY_STRING,this.packageVersion=r||i.YM.EMPTY_STRING}static createDefaultLoggerOptions(){return{loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:n.Info}}clone(e,t,r){return new a({loggerCallback:this.localCallback,piiLoggingEnabled:this.piiLoggingEnabled,logLevel:this.level,correlationId:r||this.correlationId},e,t)}logMessage(e,t){if(t.logLevel>this.level||!this.piiLoggingEnabled&&t.containsPii)return;const r=(new Date).toUTCString(),i="[".concat(r,"] : [").concat(t.correlationId||this.correlationId||"","]"),a="".concat(i," : ").concat(this.packageName,"@").concat(this.packageVersion," : ").concat(n[t.logLevel]," - ").concat(e);this.executeCallback(t.logLevel,a,t.containsPii||!1)}executeCallback(e,t,r){this.localCallback&&this.localCallback(e,t,r)}error(e,t){this.logMessage(e,{logLevel:n.Error,containsPii:!1,correlationId:t||i.YM.EMPTY_STRING})}errorPii(e,t){this.logMessage(e,{logLevel:n.Error,containsPii:!0,correlationId:t||i.YM.EMPTY_STRING})}warning(e,t){this.logMessage(e,{logLevel:n.Warning,containsPii:!1,correlationId:t||i.YM.EMPTY_STRING})}warningPii(e,t){this.logMessage(e,{logLevel:n.Warning,containsPii:!0,correlationId:t||i.YM.EMPTY_STRING})}info(e,t){this.logMessage(e,{logLevel:n.Info,containsPii:!1,correlationId:t||i.YM.EMPTY_STRING})}infoPii(e,t){this.logMessage(e,{logLevel:n.Info,containsPii:!0,correlationId:t||i.YM.EMPTY_STRING})}verbose(e,t){this.logMessage(e,{logLevel:n.Verbose,containsPii:!1,correlationId:t||i.YM.EMPTY_STRING})}verbosePii(e,t){this.logMessage(e,{logLevel:n.Verbose,containsPii:!0,correlationId:t||i.YM.EMPTY_STRING})}trace(e,t){this.logMessage(e,{logLevel:n.Trace,containsPii:!1,correlationId:t||i.YM.EMPTY_STRING})}tracePii(e,t){this.logMessage(e,{logLevel:n.Trace,containsPii:!0,correlationId:t||i.YM.EMPTY_STRING})}isPiiLoggingEnabled(){return this.piiLoggingEnabled||!1}}},292:(e,t,r)=>{e.exports=r(8421).uniqBy},306:(e,t,r)=>{"use strict";var n=r(9643),i=r(1261);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function g(e,t,r,n,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){m[e]=new g(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];m[t]=new g(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){m[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){m[e]=new g(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){m[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){m[e]=new g(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){m[e]=new g(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){m[e]=new g(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){m[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)});var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,r,n){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:n||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,r,n){if(null===t||"undefined"===typeof t||function(e,t,r,n){if(null!==r&&0===r.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==r?!r.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,r,n))return!0;if(n)return!1;if(null!==r)switch(r.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,r,i,n)&&(r=null),n||null===i?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===r?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=null===r?3!==i.type&&"":r:(t=i.attributeName,n=i.attributeNamespace,null===r?e.removeAttribute(t):(r=3===(i=i.type)||4===i&&!0===r?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)}),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)});var _=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),w=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),T=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),j=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var M=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var N=Symbol.iterator;function R(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=N&&e[N]||e["@@iterator"])?e:null}var D,L=Object.assign;function U(e){if(void 0===D)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);D=t&&t[1]||""}return"\n"+D+e}var B=!1;function z(e,t){if(!e||B)return"";B=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=n.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var l="\n"+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=s);break}}}finally{B=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?U(e):""}function K(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 1:return e=z(e.type,!0);default:return""}}function q(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case w:return"Portal";case C:return"Profiler";case E:return"StrictMode";case O:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case A:return(e._context.displayName||"Context")+".Provider";case S:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case I:return null!==(t=e.displayName||null)?t:q(e.type)||"Memo";case j:t=e._payload,e=e._init;try{return q(e(t))}catch(r){}}return null}function F(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function V(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){n=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=W(e)?e.checked?"true":"false":e.value),(e=n)!==r&&(t.setValue(e),!0)}function Y(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var r=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:e._wrapperState.initialChecked})}function J(e,t){var r=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;r=H(null!=t.value?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function $(e,t){X(e,t);var r=H(t.value),n=t.type;if(null!=r)"number"===n?(0===r&&""===e.value||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if("submit"===n||"reset"===n)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,r):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!("submit"!==n&&"reset"!==n||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}""!==(r=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==r&&(e.name=r)}function ee(e,t,r){"number"===t&&Y(e.ownerDocument)===e||(null==r?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var te=Array.isArray;function re(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+H(r),t=null,i=0;i<e.length;i++){if(e[i].value===r)return e[i].selected=!0,void(n&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ne(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var r=t.value;if(null==r){if(r=t.children,t=t.defaultValue,null!=r){if(null!=t)throw Error(a(92));if(te(r)){if(1<r.length)throw Error(a(93));r=r[0]}t=r}null==t&&(t=""),r=t}e._wrapperState={initialValue:H(r)}}function ae(e,t){var r=H(t.value),n=H(t.defaultValue);null!=r&&((r=""+r)!==e.value&&(e.value=r),null==t.defaultValue&&e.defaultValue!==r&&(e.defaultValue=r)),null!=n&&(e.defaultValue=""+n)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,r,n){MSApp.execUnsafeLocalFunction(function(){return ue(e,t)})}:ue);function he(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ge(e,t,r){return null==t||"boolean"===typeof t||""===t?"":r||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function me(e,t){for(var r in e=e.style,t)if(t.hasOwnProperty(r)){var n=0===r.indexOf("--"),i=ge(r,t[r],n);"float"===r&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}Object.keys(fe).forEach(function(e){pe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]})});var ve=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _e=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,ke=null,Ee=null;function Ce(e){if(e=bi(e)){if("function"!==typeof we)throw Error(a(280));var t=e.stateNode;t&&(t=xi(t),we(e.stateNode,e.type,t))}}function Ae(e){ke?Ee?Ee.push(e):Ee=[e]:ke=e}function Te(){if(ke){var e=ke,t=Ee;if(Ee=ke=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function Se(e,t){return e(t)}function Oe(){}var Pe=!1;function Ie(e,t,r){if(Pe)return e(t,r);Pe=!0;try{return Se(e,t,r)}finally{Pe=!1,(null!==ke||null!==Ee)&&(Oe(),Te())}}function je(e,t){var r=e.stateNode;if(null===r)return null;var n=xi(r);if(null===n)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(r&&"function"!==typeof r)throw Error(a(231,t,typeof r));return r}var Me=!1;if(u)try{var Ne={};Object.defineProperty(Ne,"passive",{get:function(){Me=!0}}),window.addEventListener("test",Ne,Ne),window.removeEventListener("test",Ne,Ne)}catch(ue){Me=!1}function Re(e,t,r,n,i,a,o,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(u){this.onError(u)}}var De=!1,Le=null,Ue=!1,Be=null,ze={onError:function(e){De=!0,Le=e}};function Ke(e,t,r,n,i,a,o,s,l){De=!1,Le=null,Re.apply(ze,arguments)}function qe(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function Fe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(qe(e)!==e)throw Error(a(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=qe(e)))throw Error(a(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(n=i.return)){r=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===r)return He(i),e;if(o===n)return He(i),t;o=o.sibling}throw Error(a(188))}if(r.return!==n.return)r=i,n=o;else{for(var s=!1,l=i.child;l;){if(l===r){s=!0,r=i,n=o;break}if(l===n){s=!0,n=i,r=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===r){s=!0,r=o,n=i;break}if(l===n){s=!0,n=o,r=i;break}l=l.sibling}if(!s)throw Error(a(189))}}if(r.alternate!==n)throw Error(a(190))}if(3!==r.tag)throw Error(a(188));return r.stateNode.current===r?e:t}(e))?Ve(e):null}function Ve(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ve(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Ye=i.unstable_cancelCallback,Qe=i.unstable_shouldYield,Je=i.unstable_requestPaint,Xe=i.unstable_now,$e=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,rt=i.unstable_LowPriority,nt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var r=e.pendingLanes;if(0===r)return 0;var n=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&r;if(0!==o){var s=o&~i;0!==s?n=dt(s):0!==(a&=o)&&(n=dt(a))}else 0!==(o=r&~i)?n=dt(o):0!==a&&(n=dt(a));if(0===n)return 0;if(0!==t&&t!==n&&0===(t&i)&&((i=n&-n)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&n)&&(n|=16&r),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=n;0<t;)i=1<<(r=31-ot(t)),n|=e[r],t&=~i;return n}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function vt(e,t,r){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=r}function yt(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-ot(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var bt=0;function _t(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var xt,wt,kt,Et,Ct,At=!1,Tt=[],St=null,Ot=null,Pt=null,It=new Map,jt=new Map,Mt=[],Nt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rt(e,t){switch(e){case"focusin":case"focusout":St=null;break;case"dragenter":case"dragleave":Ot=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":It.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":jt.delete(t.pointerId)}}function Dt(e,t,r,n,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&wt(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Lt(e){var t=yi(e.target);if(null!==t){var r=qe(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=Fe(r)))return e.blockedOn=t,void Ct(e.priority,function(){kt(r)})}else if(3===t&&r.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function Ut(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var r=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==r)return null!==(t=bi(r))&&wt(t),e.blockedOn=r,!1;var n=new(r=e.nativeEvent).constructor(r.type,r);_e=n,r.target.dispatchEvent(n),_e=null,t.shift()}return!0}function Bt(e,t,r){Ut(e)&&r.delete(t)}function zt(){At=!1,null!==St&&Ut(St)&&(St=null),null!==Ot&&Ut(Ot)&&(Ot=null),null!==Pt&&Ut(Pt)&&(Pt=null),It.forEach(Bt),jt.forEach(Bt)}function Kt(e,t){e.blockedOn===t&&(e.blockedOn=null,At||(At=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,zt)))}function qt(e){function t(t){return Kt(t,e)}if(0<Tt.length){Kt(Tt[0],e);for(var r=1;r<Tt.length;r++){var n=Tt[r];n.blockedOn===e&&(n.blockedOn=null)}}for(null!==St&&Kt(St,e),null!==Ot&&Kt(Ot,e),null!==Pt&&Kt(Pt,e),It.forEach(t),jt.forEach(t),r=0;r<Mt.length;r++)(n=Mt[r]).blockedOn===e&&(n.blockedOn=null);for(;0<Mt.length&&null===(r=Mt[0]).blockedOn;)Lt(r),null===r.blockedOn&&Mt.shift()}var Ft=_.ReactCurrentBatchConfig,Ht=!0;function Wt(e,t,r,n){var i=bt,a=Ft.transition;Ft.transition=null;try{bt=1,Gt(e,t,r,n)}finally{bt=i,Ft.transition=a}}function Vt(e,t,r,n){var i=bt,a=Ft.transition;Ft.transition=null;try{bt=4,Gt(e,t,r,n)}finally{bt=i,Ft.transition=a}}function Gt(e,t,r,n){if(Ht){var i=Qt(e,t,r,n);if(null===i)Hn(e,t,n,Yt,r),Rt(e,n);else if(function(e,t,r,n,i){switch(t){case"focusin":return St=Dt(St,e,t,r,n,i),!0;case"dragenter":return Ot=Dt(Ot,e,t,r,n,i),!0;case"mouseover":return Pt=Dt(Pt,e,t,r,n,i),!0;case"pointerover":var a=i.pointerId;return It.set(a,Dt(It.get(a)||null,e,t,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,jt.set(a,Dt(jt.get(a)||null,e,t,r,n,i)),!0}return!1}(i,e,t,r,n))n.stopPropagation();else if(Rt(e,n),4&t&&-1<Nt.indexOf(e)){for(;null!==i;){var a=bi(i);if(null!==a&&xt(a),null===(a=Qt(e,t,r,n))&&Hn(e,t,n,Yt,r),a===i)break;i=a}null!==i&&n.stopPropagation()}else Hn(e,t,n,null,r)}}var Yt=null;function Qt(e,t,r,n){if(Yt=null,null!==(e=yi(e=xe(n))))if(null===(t=qe(e)))e=null;else if(13===(r=t.tag)){if(null!==(e=Fe(t)))return e;e=null}else if(3===r){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yt=e,null}function Jt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($e()){case Ze:return 1;case et:return 4;case tt:case rt:return 16;case nt:return 536870912;default:return 16}default:return 16}}var Xt=null,$t=null,Zt=null;function er(){if(Zt)return Zt;var e,t,r=$t,n=r.length,i="value"in Xt?Xt.value:Xt.textContent,a=i.length;for(e=0;e<n&&r[e]===i[e];e++);var o=n-e;for(t=1;t<=o&&r[n-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tr(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function rr(){return!0}function nr(){return!1}function ir(e){function t(t,r,n,i,a){for(var o in this._reactName=t,this._targetInst=n,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?rr:nr,this.isPropagationStopped=nr,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=rr)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=rr)},persist:function(){},isPersistent:rr}),t}var ar,or,sr,lr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cr=ir(lr),ur=L({},lr,{view:0,detail:0}),dr=ir(ur),hr=L({},ur,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Er,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sr&&(sr&&"mousemove"===e.type?(ar=e.screenX-sr.screenX,or=e.screenY-sr.screenY):or=ar=0,sr=e),ar)},movementY:function(e){return"movementY"in e?e.movementY:or}}),fr=ir(hr),pr=ir(L({},hr,{dataTransfer:0})),gr=ir(L({},ur,{relatedTarget:0})),mr=ir(L({},lr,{animationName:0,elapsedTime:0,pseudoElement:0})),vr=L({},lr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yr=ir(vr),br=ir(L({},lr,{data:0})),_r={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=wr[e])&&!!t[e]}function Er(){return kr}var Cr=L({},ur,{key:function(e){if(e.key){var t=_r[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tr(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xr[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Er,charCode:function(e){return"keypress"===e.type?tr(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tr(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Ar=ir(Cr),Tr=ir(L({},hr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Sr=ir(L({},ur,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Er})),Or=ir(L({},lr,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pr=L({},hr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ir=ir(Pr),jr=[9,13,27,32],Mr=u&&"CompositionEvent"in window,Nr=null;u&&"documentMode"in document&&(Nr=document.documentMode);var Rr=u&&"TextEvent"in window&&!Nr,Dr=u&&(!Mr||Nr&&8<Nr&&11>=Nr),Lr=String.fromCharCode(32),Ur=!1;function Br(e,t){switch(e){case"keyup":return-1!==jr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zr(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Kr=!1;var qr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qr[e.type]:"textarea"===t}function Hr(e,t,r,n){Ae(n),0<(t=Vn(t,"onChange")).length&&(r=new cr("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Wr=null,Vr=null;function Gr(e){Un(e,0)}function Yr(e){if(G(_i(e)))return e}function Qr(e,t){if("change"===e)return t}var Jr=!1;if(u){var Xr;if(u){var $r="oninput"in document;if(!$r){var Zr=document.createElement("div");Zr.setAttribute("oninput","return;"),$r="function"===typeof Zr.oninput}Xr=$r}else Xr=!1;Jr=Xr&&(!document.documentMode||9<document.documentMode)}function en(){Wr&&(Wr.detachEvent("onpropertychange",tn),Vr=Wr=null)}function tn(e){if("value"===e.propertyName&&Yr(Vr)){var t=[];Hr(t,Vr,e,xe(e)),Ie(Gr,t)}}function rn(e,t,r){"focusin"===e?(en(),Vr=r,(Wr=t).attachEvent("onpropertychange",tn)):"focusout"===e&&en()}function nn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yr(Vr)}function an(e,t){if("click"===e)return Yr(t)}function on(e,t){if("input"===e||"change"===e)return Yr(t)}var sn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ln(e,t){if(sn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!d.call(t,i)||!sn(e[i],t[i]))return!1}return!0}function cn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function un(e,t){var r,n=cn(e);for(e=0;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=cn(n)}}function dn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hn(){for(var e=window,t=Y();t instanceof e.HTMLIFrameElement;){try{var r="string"===typeof t.contentWindow.location.href}catch(n){r=!1}if(!r)break;t=Y((e=t.contentWindow).document)}return t}function fn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pn(e){var t=hn(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&dn(r.ownerDocument.documentElement,r)){if(null!==n&&fn(r))if(t=n.start,void 0===(e=n.end)&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if((e=(t=r.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=void 0===n.end?a:Math.min(n.end,i),!e.extend&&a>n&&(i=n,n=a,a=i),i=un(r,a);var o=un(r,n);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=r;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof r.focus&&r.focus(),r=0;r<t.length;r++)(e=t[r]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gn=u&&"documentMode"in document&&11>=document.documentMode,mn=null,vn=null,yn=null,bn=!1;function _n(e,t,r){var n=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;bn||null==mn||mn!==Y(n)||("selectionStart"in(n=mn)&&fn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},yn&&ln(yn,n)||(yn=n,0<(n=Vn(vn,"onSelect")).length&&(t=new cr("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=mn)))}function xn(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var wn={animationend:xn("Animation","AnimationEnd"),animationiteration:xn("Animation","AnimationIteration"),animationstart:xn("Animation","AnimationStart"),transitionend:xn("Transition","TransitionEnd")},kn={},En={};function Cn(e){if(kn[e])return kn[e];if(!wn[e])return e;var t,r=wn[e];for(t in r)if(r.hasOwnProperty(t)&&t in En)return kn[e]=r[t];return e}u&&(En=document.createElement("div").style,"AnimationEvent"in window||(delete wn.animationend.animation,delete wn.animationiteration.animation,delete wn.animationstart.animation),"TransitionEvent"in window||delete wn.transitionend.transition);var An=Cn("animationend"),Tn=Cn("animationiteration"),Sn=Cn("animationstart"),On=Cn("transitionend"),Pn=new Map,In="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jn(e,t){Pn.set(e,t),l(t,[e])}for(var Mn=0;Mn<In.length;Mn++){var Nn=In[Mn];jn(Nn.toLowerCase(),"on"+(Nn[0].toUpperCase()+Nn.slice(1)))}jn(An,"onAnimationEnd"),jn(Tn,"onAnimationIteration"),jn(Sn,"onAnimationStart"),jn("dblclick","onDoubleClick"),jn("focusin","onFocus"),jn("focusout","onBlur"),jn(On,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dn=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rn));function Ln(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,function(e,t,r,n,i,o,s,l,c){if(Ke.apply(this,arguments),De){if(!De)throw Error(a(198));var u=Le;De=!1,Le=null,Ue||(Ue=!0,Be=u)}}(n,t,void 0,e),e.currentTarget=null}function Un(e,t){t=0!==(4&t);for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var o=n.length-1;0<=o;o--){var s=n[o],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;Ln(i,s,c),a=l}else for(o=0;o<n.length;o++){if(l=(s=n[o]).instance,c=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;Ln(i,s,c),a=l}}}if(Ue)throw e=Be,Ue=!1,Be=null,e}function Bn(e,t){var r=t[gi];void 0===r&&(r=t[gi]=new Set);var n=e+"__bubble";r.has(n)||(Fn(t,e,2,!1),r.add(n))}function zn(e,t,r){var n=0;t&&(n|=4),Fn(r,e,n,t)}var Kn="_reactListening"+Math.random().toString(36).slice(2);function qn(e){if(!e[Kn]){e[Kn]=!0,o.forEach(function(t){"selectionchange"!==t&&(Dn.has(t)||zn(t,!1,e),zn(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Kn]||(t[Kn]=!0,zn("selectionchange",!1,t))}}function Fn(e,t,r,n){switch(Jt(t)){case 1:var i=Wt;break;case 4:i=Vt;break;default:i=Gt}r=i.bind(null,t,r,e),i=void 0,!Me||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),n?void 0!==i?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):void 0!==i?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function Hn(e,t,r,n,i){var a=n;if(0===(1&t)&&0===(2&t)&&null!==n)e:for(;;){if(null===n)return;var o=n.tag;if(3===o||4===o){var s=n.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=n.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=yi(s)))return;if(5===(l=o.tag)||6===l){n=a=o;continue e}s=s.parentNode}}n=n.return}Ie(function(){var n=a,i=xe(r),o=[];e:{var s=Pn.get(e);if(void 0!==s){var l=cr,c=e;switch(e){case"keypress":if(0===tr(r))break e;case"keydown":case"keyup":l=Ar;break;case"focusin":c="focus",l=gr;break;case"focusout":c="blur",l=gr;break;case"beforeblur":case"afterblur":l=gr;break;case"click":if(2===r.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=pr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Sr;break;case An:case Tn:case Sn:l=mr;break;case On:l=Or;break;case"scroll":l=dr;break;case"wheel":l=Ir;break;case"copy":case"cut":case"paste":l=yr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Tr}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==s?s+"Capture":null:s;u=[];for(var f,p=n;null!==p;){var g=(f=p).stateNode;if(5===f.tag&&null!==g&&(f=g,null!==h&&(null!=(g=je(p,h))&&u.push(Wn(p,g,f)))),d)break;p=p.return}0<u.length&&(s=new l(s,c,null,r,i),o.push({event:s,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||r===_e||!(c=r.relatedTarget||r.fromElement)||!yi(c)&&!c[pi])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=n,null!==(c=(c=r.relatedTarget||r.toElement)?yi(c):null)&&(c!==(d=qe(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=n),l!==c)){if(u=fr,g="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Tr,g="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?s:_i(l),f=null==c?s:_i(c),(s=new u(g,p+"leave",l,r,i)).target=d,s.relatedTarget=f,g=null,yi(i)===n&&((u=new u(h,p+"enter",c,r,i)).target=f,u.relatedTarget=d,g=u),d=g,l&&c)e:{for(h=c,p=0,f=u=l;f;f=Gn(f))p++;for(f=0,g=h;g;g=Gn(g))f++;for(;0<p-f;)u=Gn(u),p--;for(;0<f-p;)h=Gn(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Gn(u),h=Gn(h)}u=null}else u=null;null!==l&&Yn(o,s,l,u,!1),null!==c&&null!==d&&Yn(o,d,c,u,!0)}if("select"===(l=(s=n?_i(n):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var m=Qr;else if(Fr(s))if(Jr)m=on;else{m=nn;var v=rn}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=an);switch(m&&(m=m(e,n))?Hr(o,m,r,i):(v&&v(e,s,n),"focusout"===e&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&ee(s,"number",s.value)),v=n?_i(n):window,e){case"focusin":(Fr(v)||"true"===v.contentEditable)&&(mn=v,vn=n,yn=null);break;case"focusout":yn=vn=mn=null;break;case"mousedown":bn=!0;break;case"contextmenu":case"mouseup":case"dragend":bn=!1,_n(o,r,i);break;case"selectionchange":if(gn)break;case"keydown":case"keyup":_n(o,r,i)}var y;if(Mr)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Kr?Br(e,r)&&(b="onCompositionEnd"):"keydown"===e&&229===r.keyCode&&(b="onCompositionStart");b&&(Dr&&"ko"!==r.locale&&(Kr||"onCompositionStart"!==b?"onCompositionEnd"===b&&Kr&&(y=er()):($t="value"in(Xt=i)?Xt.value:Xt.textContent,Kr=!0)),0<(v=Vn(n,b)).length&&(b=new br(b,e,null,r,i),o.push({event:b,listeners:v}),y?b.data=y:null!==(y=zr(r))&&(b.data=y))),(y=Rr?function(e,t){switch(e){case"compositionend":return zr(t);case"keypress":return 32!==t.which?null:(Ur=!0,Lr);case"textInput":return(e=t.data)===Lr&&Ur?null:e;default:return null}}(e,r):function(e,t){if(Kr)return"compositionend"===e||!Mr&&Br(e,t)?(e=er(),Zt=$t=Xt=null,Kr=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Dr&&"ko"!==t.locale?null:t.data}}(e,r))&&(0<(n=Vn(n,"onBeforeInput")).length&&(i=new br("onBeforeInput","beforeinput",null,r,i),o.push({event:i,listeners:n}),i.data=y))}Un(o,t)})}function Wn(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Vn(e,t){for(var r=t+"Capture",n=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=je(e,r))&&n.unshift(Wn(e,a,i)),null!=(a=je(e,t))&&n.push(Wn(e,a,i))),e=e.return}return n}function Gn(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Yn(e,t,r,n,i){for(var a=t._reactName,o=[];null!==r&&r!==n;){var s=r,l=s.alternate,c=s.stateNode;if(null!==l&&l===n)break;5===s.tag&&null!==c&&(s=c,i?null!=(l=je(r,a))&&o.unshift(Wn(r,l,s)):i||null!=(l=je(r,a))&&o.push(Wn(r,l,s))),r=r.return}0!==o.length&&e.push({event:t,listeners:o})}var Qn=/\r\n?/g,Jn=/\u0000|\uFFFD/g;function Xn(e){return("string"===typeof e?e:""+e).replace(Qn,"\n").replace(Jn,"")}function $n(e,t,r){if(t=Xn(t),Xn(e)!==t&&r)throw Error(a(425))}function Zn(){}var ei=null,ti=null;function ri(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ni="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ni;function si(e){setTimeout(function(){throw e})}function li(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&8===i.nodeType)if("/$"===(r=i.data)){if(0===n)return e.removeChild(i),void qt(t);n--}else"$"!==r&&"$?"!==r&&"$!"!==r||n++;r=i}while(r);qt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r){if(0===t)return e;t--}else"/$"===r&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,fi="__reactProps$"+di,pi="__reactContainer$"+di,gi="__reactEvents$"+di,mi="__reactListeners$"+di,vi="__reactHandles$"+di;function yi(e){var t=e[hi];if(t)return t;for(var r=e.parentNode;r;){if(t=r[pi]||r[hi]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=ui(e);null!==e;){if(r=e[hi])return r;e=ui(e)}return t}r=(e=r).parentNode}return null}function bi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function _i(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function xi(e){return e[fi]||null}var wi=[],ki=-1;function Ei(e){return{current:e}}function Ci(e){0>ki||(e.current=wi[ki],wi[ki]=null,ki--)}function Ai(e,t){ki++,wi[ki]=e.current,e.current=t}var Ti={},Si=Ei(Ti),Oi=Ei(!1),Pi=Ti;function Ii(e,t){var r=e.type.contextTypes;if(!r)return Ti;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in r)a[i]=t[i];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function ji(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Mi(){Ci(Oi),Ci(Si)}function Ni(e,t,r){if(Si.current!==Ti)throw Error(a(168));Ai(Si,t),Ai(Oi,r)}function Ri(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,"function"!==typeof n.getChildContext)return r;for(var i in n=n.getChildContext())if(!(i in t))throw Error(a(108,F(e)||"Unknown",i));return L({},r,n)}function Di(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Pi=Si.current,Ai(Si,e),Ai(Oi,Oi.current),!0}function Li(e,t,r){var n=e.stateNode;if(!n)throw Error(a(169));r?(e=Ri(e,t,Pi),n.__reactInternalMemoizedMergedChildContext=e,Ci(Oi),Ci(Si),Ai(Si,e)):Ci(Oi),Ai(Oi,r)}var Ui=null,Bi=!1,zi=!1;function Ki(e){null===Ui?Ui=[e]:Ui.push(e)}function qi(){if(!zi&&null!==Ui){zi=!0;var e=0,t=bt;try{var r=Ui;for(bt=1;e<r.length;e++){var n=r[e];do{n=n(!0)}while(null!==n)}Ui=null,Bi=!1}catch(i){throw null!==Ui&&(Ui=Ui.slice(e+1)),Ge(Ze,qi),i}finally{bt=t,zi=!1}}return null}var Fi=[],Hi=0,Wi=null,Vi=0,Gi=[],Yi=0,Qi=null,Ji=1,Xi="";function $i(e,t){Fi[Hi++]=Vi,Fi[Hi++]=Wi,Wi=e,Vi=t}function Zi(e,t,r){Gi[Yi++]=Ji,Gi[Yi++]=Xi,Gi[Yi++]=Qi,Qi=e;var n=Ji;e=Xi;var i=32-ot(n)-1;n&=~(1<<i),r+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(n&(1<<o)-1).toString(32),n>>=o,i-=o,Ji=1<<32-ot(t)+i|r<<i|n,Xi=a+e}else Ji=1<<a|r<<i|n,Xi=e}function ea(e){null!==e.return&&($i(e,1),Zi(e,1,0))}function ta(e){for(;e===Wi;)Wi=Fi[--Hi],Fi[Hi]=null,Vi=Fi[--Hi],Fi[Hi]=null;for(;e===Qi;)Qi=Gi[--Yi],Gi[Yi]=null,Xi=Gi[--Yi],Gi[Yi]=null,Ji=Gi[--Yi],Gi[Yi]=null}var ra=null,na=null,ia=!1,aa=null;function oa(e,t){var r=Ic(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,null===(t=e.deletions)?(e.deletions=[r],e.flags|=16):t.push(r)}function sa(e,t){switch(e.tag){case 5:var r=e.type;return null!==(t=1!==t.nodeType||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ra=e,na=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ra=e,na=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(r=null!==Qi?{id:Ji,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},(r=Ic(18,null,null,0)).stateNode=t,r.return=e,e.child=r,ra=e,na=null,!0);default:return!1}}function la(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=na;if(t){var r=t;if(!sa(e,t)){if(la(e))throw Error(a(418));t=ci(r.nextSibling);var n=ra;t&&sa(e,t)?oa(n,r):(e.flags=-4097&e.flags|2,ia=!1,ra=e)}}else{if(la(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,ra=e}}}function ua(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ra=e}function da(e){if(e!==ra)return!1;if(!ia)return ua(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ri(e.type,e.memoizedProps)),t&&(t=na)){if(la(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(ua(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var r=e.data;if("/$"===r){if(0===t){na=ci(e.nextSibling);break e}t--}else"$"!==r&&"$!"!==r&&"$?"!==r||t++}e=e.nextSibling}na=null}}else na=ra?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=na;e;)e=ci(e.nextSibling)}function fa(){na=ra=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var ga=_.ReactCurrentBatchConfig;function ma(e,t,r){if(null!==(e=r.ref)&&"function"!==typeof e&&"object"!==typeof e){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(a(309));var n=r.stateNode}if(!n)throw Error(a(147,e));var i=n,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!r._owner)throw Error(a(290,e))}return e}function va(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ya(e){return(0,e._init)(e._payload)}function ba(e){function t(t,r){if(e){var n=t.deletions;null===n?(t.deletions=[r],t.flags|=16):n.push(r)}}function r(r,n){if(!e)return null;for(;null!==n;)t(r,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Mc(e,t)).index=0,e.sibling=null,e}function o(t,r,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<r?(t.flags|=2,r):n:(t.flags|=2,r):(t.flags|=1048576,r)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,r,n){return null===t||6!==t.tag?((t=Lc(r,e.mode,n)).return=e,t):((t=i(t,r)).return=e,t)}function c(e,t,r,n){var a=r.type;return a===k?d(e,t,r.props.children,n,r.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===j&&ya(a)===t.type)?((n=i(t,r.props)).ref=ma(e,t,r),n.return=e,n):((n=Nc(r.type,r.key,r.props,null,e.mode,n)).ref=ma(e,t,r),n.return=e,n)}function u(e,t,r,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=Uc(r,e.mode,n)).return=e,t):((t=i(t,r.children||[])).return=e,t)}function d(e,t,r,n,a){return null===t||7!==t.tag?((t=Rc(r,e.mode,n,a)).return=e,t):((t=i(t,r)).return=e,t)}function h(e,t,r){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Lc(""+t,e.mode,r)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(r=Nc(t.type,t.key,t.props,null,e.mode,r)).ref=ma(e,null,t),r.return=e,r;case w:return(t=Uc(t,e.mode,r)).return=e,t;case j:return h(e,(0,t._init)(t._payload),r)}if(te(t)||R(t))return(t=Rc(t,e.mode,r,null)).return=e,t;va(e,t)}return null}function f(e,t,r,n){var i=null!==t?t.key:null;if("string"===typeof r&&""!==r||"number"===typeof r)return null!==i?null:l(e,t,""+r,n);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return r.key===i?c(e,t,r,n):null;case w:return r.key===i?u(e,t,r,n):null;case j:return f(e,t,(i=r._init)(r._payload),n)}if(te(r)||R(r))return null!==i?null:d(e,t,r,n,null);va(e,r)}return null}function p(e,t,r,n,i){if("string"===typeof n&&""!==n||"number"===typeof n)return l(t,e=e.get(r)||null,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return c(t,e=e.get(null===n.key?r:n.key)||null,n,i);case w:return u(t,e=e.get(null===n.key?r:n.key)||null,n,i);case j:return p(e,t,r,(0,n._init)(n._payload),i)}if(te(n)||R(n))return d(t,e=e.get(r)||null,n,i,null);va(t,n)}return null}function g(i,a,s,l){for(var c=null,u=null,d=a,g=a=0,m=null;null!==d&&g<s.length;g++){d.index>g?(m=d,d=null):m=d.sibling;var v=f(i,d,s[g],l);if(null===v){null===d&&(d=m);break}e&&d&&null===v.alternate&&t(i,d),a=o(v,a,g),null===u?c=v:u.sibling=v,u=v,d=m}if(g===s.length)return r(i,d),ia&&$i(i,g),c;if(null===d){for(;g<s.length;g++)null!==(d=h(i,s[g],l))&&(a=o(d,a,g),null===u?c=d:u.sibling=d,u=d);return ia&&$i(i,g),c}for(d=n(i,d);g<s.length;g++)null!==(m=p(d,i,g,s[g],l))&&(e&&null!==m.alternate&&d.delete(null===m.key?g:m.key),a=o(m,a,g),null===u?c=m:u.sibling=m,u=m);return e&&d.forEach(function(e){return t(i,e)}),ia&&$i(i,g),c}function m(i,s,l,c){var u=R(l);if("function"!==typeof u)throw Error(a(150));if(null==(l=u.call(l)))throw Error(a(151));for(var d=u=null,g=s,m=s=0,v=null,y=l.next();null!==g&&!y.done;m++,y=l.next()){g.index>m?(v=g,g=null):v=g.sibling;var b=f(i,g,y.value,c);if(null===b){null===g&&(g=v);break}e&&g&&null===b.alternate&&t(i,g),s=o(b,s,m),null===d?u=b:d.sibling=b,d=b,g=v}if(y.done)return r(i,g),ia&&$i(i,m),u;if(null===g){for(;!y.done;m++,y=l.next())null!==(y=h(i,y.value,c))&&(s=o(y,s,m),null===d?u=y:d.sibling=y,d=y);return ia&&$i(i,m),u}for(g=n(i,g);!y.done;m++,y=l.next())null!==(y=p(g,i,m,y.value,c))&&(e&&null!==y.alternate&&g.delete(null===y.key?m:y.key),s=o(y,s,m),null===d?u=y:d.sibling=y,d=y);return e&&g.forEach(function(e){return t(i,e)}),ia&&$i(i,m),u}return function e(n,a,o,l){if("object"===typeof o&&null!==o&&o.type===k&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case x:e:{for(var c=o.key,u=a;null!==u;){if(u.key===c){if((c=o.type)===k){if(7===u.tag){r(n,u.sibling),(a=i(u,o.props.children)).return=n,n=a;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===j&&ya(c)===u.type){r(n,u.sibling),(a=i(u,o.props)).ref=ma(n,u,o),a.return=n,n=a;break e}r(n,u);break}t(n,u),u=u.sibling}o.type===k?((a=Rc(o.props.children,n.mode,l,o.key)).return=n,n=a):((l=Nc(o.type,o.key,o.props,null,n.mode,l)).ref=ma(n,a,o),l.return=n,n=l)}return s(n);case w:e:{for(u=o.key;null!==a;){if(a.key===u){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){r(n,a.sibling),(a=i(a,o.children||[])).return=n,n=a;break e}r(n,a);break}t(n,a),a=a.sibling}(a=Uc(o,n.mode,l)).return=n,n=a}return s(n);case j:return e(n,a,(u=o._init)(o._payload),l)}if(te(o))return g(n,a,o,l);if(R(o))return m(n,a,o,l);va(n,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(r(n,a.sibling),(a=i(a,o)).return=n,n=a):(r(n,a),(a=Lc(o,n.mode,l)).return=n,n=a),s(n)):r(n,a)}}var _a=ba(!0),xa=ba(!1),wa=Ei(null),ka=null,Ea=null,Ca=null;function Aa(){Ca=Ea=ka=null}function Ta(e){var t=wa.current;Ci(wa),e._currentValue=t}function Sa(e,t,r){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==n&&(n.childLanes|=t)):null!==n&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Oa(e,t){ka=e,Ca=Ea=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bs=!0),e.firstContext=null)}function Pa(e){var t=e._currentValue;if(Ca!==e)if(e={context:e,memoizedValue:t,next:null},null===Ea){if(null===ka)throw Error(a(308));Ea=e,ka.dependencies={lanes:0,firstContext:e}}else Ea=Ea.next=e;return t}var Ia=null;function ja(e){null===Ia?Ia=[e]:Ia.push(e)}function Ma(e,t,r,n){var i=t.interleaved;return null===i?(r.next=r,ja(t)):(r.next=i.next,i.next=r),t.interleaved=r,Na(e,n)}function Na(e,t){e.lanes|=t;var r=e.alternate;for(null!==r&&(r.lanes|=t),r=e,e=e.return;null!==e;)e.childLanes|=t,null!==(r=e.alternate)&&(r.childLanes|=t),r=e,e=e.return;return 3===r.tag?r.stateNode:null}var Ra=!1;function Da(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function La(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ua(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ba(e,t,r){var n=e.updateQueue;if(null===n)return null;if(n=n.shared,0!==(2&Sl)){var i=n.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),n.pending=t,Na(e,r)}return null===(i=n.interleaved)?(t.next=t,ja(n)):(t.next=i.next,i.next=t),n.interleaved=t,Na(e,r)}function za(e,t,r){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&r))){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,yt(e,r)}}function Ka(e,t){var r=e.updateQueue,n=e.alternate;if(null!==n&&r===(n=n.updateQueue)){var i=null,a=null;if(null!==(r=r.firstBaseUpdate)){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};null===a?i=a=o:a=a.next=o,r=r.next}while(null!==r);null===a?i=a=t:a=a.next=t}else i=a=t;return r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},void(e.updateQueue=r)}null===(e=r.lastBaseUpdate)?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function qa(e,t,r,n){var i=e.updateQueue;Ra=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,c=l.next;l.next=null,null===o?a=c:o.next=c,o=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==a){var d=i.baseState;for(o=0,u=c=l=null,s=a;;){var h=s.lane,f=s.eventTime;if((n&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,g=s;switch(h=t,f=r,g.tag){case 1:if("function"===typeof(p=g.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=g.payload)?p.call(f,d,h):p)||void 0===h)break e;d=L({},d,h);break e;case 2:Ra=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else f={eventTime:f,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,o|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Dl|=o,e.lanes=o,e.memoizedState=d}}function Fa(e,t,r){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(null!==i){if(n.callback=null,n=r,"function"!==typeof i)throw Error(a(191,i));i.call(n)}}}var Ha={},Wa=Ei(Ha),Va=Ei(Ha),Ga=Ei(Ha);function Ya(e){if(e===Ha)throw Error(a(174));return e}function Qa(e,t){switch(Ai(Ga,t),Ai(Va,e),Ai(Wa,Ha),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ci(Wa),Ai(Wa,t)}function Ja(){Ci(Wa),Ci(Va),Ci(Ga)}function Xa(e){Ya(Ga.current);var t=Ya(Wa.current),r=le(t,e.type);t!==r&&(Ai(Va,e),Ai(Wa,r))}function $a(e){Va.current===e&&(Ci(Wa),Ci(Va))}var Za=Ei(0);function eo(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||"$?"===r.data||"$!"===r.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var to=[];function ro(){for(var e=0;e<to.length;e++)to[e]._workInProgressVersionPrimary=null;to.length=0}var no=_.ReactCurrentDispatcher,io=_.ReactCurrentBatchConfig,ao=0,oo=null,so=null,lo=null,co=!1,uo=!1,ho=0,fo=0;function po(){throw Error(a(321))}function go(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!sn(e[r],t[r]))return!1;return!0}function mo(e,t,r,n,i,o){if(ao=o,oo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,no.current=null===e||null===e.memoizedState?Zo:es,e=r(n,i),uo){o=0;do{if(uo=!1,ho=0,25<=o)throw Error(a(301));o+=1,lo=so=null,t.updateQueue=null,no.current=ts,e=r(n,i)}while(uo)}if(no.current=$o,t=null!==so&&null!==so.next,ao=0,lo=so=oo=null,co=!1,t)throw Error(a(300));return e}function vo(){var e=0!==ho;return ho=0,e}function yo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===lo?oo.memoizedState=lo=e:lo=lo.next=e,lo}function bo(){if(null===so){var e=oo.alternate;e=null!==e?e.memoizedState:null}else e=so.next;var t=null===lo?oo.memoizedState:lo.next;if(null!==t)lo=t,so=e;else{if(null===e)throw Error(a(310));e={memoizedState:(so=e).memoizedState,baseState:so.baseState,baseQueue:so.baseQueue,queue:so.queue,next:null},null===lo?oo.memoizedState=lo=e:lo=lo.next=e}return lo}function _o(e,t){return"function"===typeof t?t(e):t}function xo(e){var t=bo(),r=t.queue;if(null===r)throw Error(a(311));r.lastRenderedReducer=e;var n=so,i=n.baseQueue,o=r.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}n.baseQueue=i=o,r.pending=null}if(null!==i){o=i.next,n=n.baseState;var l=s=null,c=null,u=o;do{var d=u.lane;if((ao&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,s=n):c=c.next=h,oo.lanes|=d,Dl|=d}u=u.next}while(null!==u&&u!==o);null===c?s=n:c.next=l,sn(n,t.memoizedState)||(bs=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=c,r.lastRenderedState=n}if(null!==(e=r.interleaved)){i=e;do{o=i.lane,oo.lanes|=o,Dl|=o,i=i.next}while(i!==e)}else null===i&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function wo(e){var t=bo(),r=t.queue;if(null===r)throw Error(a(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,o=t.memoizedState;if(null!==i){r.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sn(o,t.memoizedState)||(bs=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function ko(){}function Eo(e,t){var r=oo,n=bo(),i=t(),o=!sn(n.memoizedState,i);if(o&&(n.memoizedState=i,bs=!0),n=n.queue,Do(To.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||null!==lo&&1&lo.memoizedState.tag){if(r.flags|=2048,Io(9,Ao.bind(null,r,n,i,t),void 0,null),null===Ol)throw Error(a(349));0!==(30&ao)||Co(r,t,i)}return i}function Co(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.stores=[e]):null===(r=t.stores)?t.stores=[e]:r.push(e)}function Ao(e,t,r,n){t.value=r,t.getSnapshot=n,So(t)&&Oo(e)}function To(e,t,r){return r(function(){So(t)&&Oo(e)})}function So(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!sn(e,r)}catch(n){return!0}}function Oo(e){var t=Na(e,1);null!==t&&rc(t,e,1,-1)}function Po(e){var t=yo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_o,lastRenderedState:e},t.queue=e,e=e.dispatch=Yo.bind(null,oo,e),[t.memoizedState,e]}function Io(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.lastEffect=e.next=e):null===(r=t.lastEffect)?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e),e}function jo(){return bo().memoizedState}function Mo(e,t,r,n){var i=yo();oo.flags|=e,i.memoizedState=Io(1|t,r,void 0,void 0===n?null:n)}function No(e,t,r,n){var i=bo();n=void 0===n?null:n;var a=void 0;if(null!==so){var o=so.memoizedState;if(a=o.destroy,null!==n&&go(n,o.deps))return void(i.memoizedState=Io(t,r,a,n))}oo.flags|=e,i.memoizedState=Io(1|t,r,a,n)}function Ro(e,t){return Mo(8390656,8,e,t)}function Do(e,t){return No(2048,8,e,t)}function Lo(e,t){return No(4,2,e,t)}function Uo(e,t){return No(4,4,e,t)}function Bo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function zo(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,No(4,4,Bo.bind(null,t,e),r)}function Ko(){}function qo(e,t){var r=bo();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&go(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Fo(e,t){var r=bo();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&go(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Ho(e,t,r){return 0===(21&ao)?(e.baseState&&(e.baseState=!1,bs=!0),e.memoizedState=r):(sn(r,t)||(r=gt(),oo.lanes|=r,Dl|=r,e.baseState=!0),t)}function Wo(e,t){var r=bt;bt=0!==r&&4>r?r:4,e(!0);var n=io.transition;io.transition={};try{e(!1),t()}finally{bt=r,io.transition=n}}function Vo(){return bo().memoizedState}function Go(e,t,r){var n=tc(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Qo(e))Jo(t,r);else if(null!==(r=Ma(e,t,r,n))){rc(r,e,n,ec()),Xo(r,t,n)}}function Yo(e,t,r){var n=tc(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Qo(e))Jo(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,r);if(i.hasEagerState=!0,i.eagerState=s,sn(s,o)){var l=t.interleaved;return null===l?(i.next=i,ja(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(r=Ma(e,t,i,n))&&(rc(r,e,n,i=ec()),Xo(r,t,n))}}function Qo(e){var t=e.alternate;return e===oo||null!==t&&t===oo}function Jo(e,t){uo=co=!0;var r=e.pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Xo(e,t,r){if(0!==(4194240&r)){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,yt(e,r)}}var $o={readContext:Pa,useCallback:po,useContext:po,useEffect:po,useImperativeHandle:po,useInsertionEffect:po,useLayoutEffect:po,useMemo:po,useReducer:po,useRef:po,useState:po,useDebugValue:po,useDeferredValue:po,useTransition:po,useMutableSource:po,useSyncExternalStore:po,useId:po,unstable_isNewReconciler:!1},Zo={readContext:Pa,useCallback:function(e,t){return yo().memoizedState=[e,void 0===t?null:t],e},useContext:Pa,useEffect:Ro,useImperativeHandle:function(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,Mo(4194308,4,Bo.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Mo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Mo(4,2,e,t)},useMemo:function(e,t){var r=yo();return t=void 0===t?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=yo();return t=void 0!==r?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Go.bind(null,oo,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},yo().memoizedState=e},useState:Po,useDebugValue:Ko,useDeferredValue:function(e){return yo().memoizedState=e},useTransition:function(){var e=Po(!1),t=e[0];return e=Wo.bind(null,e[1]),yo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=oo,i=yo();if(ia){if(void 0===r)throw Error(a(407));r=r()}else{if(r=t(),null===Ol)throw Error(a(349));0!==(30&ao)||Co(n,t,r)}i.memoizedState=r;var o={value:r,getSnapshot:t};return i.queue=o,Ro(To.bind(null,n,o,e),[e]),n.flags|=2048,Io(9,Ao.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=yo(),t=Ol.identifierPrefix;if(ia){var r=Xi;t=":"+t+"R"+(r=(Ji&~(1<<32-ot(Ji)-1)).toString(32)+r),0<(r=ho++)&&(t+="H"+r.toString(32)),t+=":"}else t=":"+t+"r"+(r=fo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},es={readContext:Pa,useCallback:qo,useContext:Pa,useEffect:Do,useImperativeHandle:zo,useInsertionEffect:Lo,useLayoutEffect:Uo,useMemo:Fo,useReducer:xo,useRef:jo,useState:function(){return xo(_o)},useDebugValue:Ko,useDeferredValue:function(e){return Ho(bo(),so.memoizedState,e)},useTransition:function(){return[xo(_o)[0],bo().memoizedState]},useMutableSource:ko,useSyncExternalStore:Eo,useId:Vo,unstable_isNewReconciler:!1},ts={readContext:Pa,useCallback:qo,useContext:Pa,useEffect:Do,useImperativeHandle:zo,useInsertionEffect:Lo,useLayoutEffect:Uo,useMemo:Fo,useReducer:wo,useRef:jo,useState:function(){return wo(_o)},useDebugValue:Ko,useDeferredValue:function(e){var t=bo();return null===so?t.memoizedState=e:Ho(t,so.memoizedState,e)},useTransition:function(){return[wo(_o)[0],bo().memoizedState]},useMutableSource:ko,useSyncExternalStore:Eo,useId:Vo,unstable_isNewReconciler:!1};function rs(e,t){if(e&&e.defaultProps){for(var r in t=L({},t),e=e.defaultProps)void 0===t[r]&&(t[r]=e[r]);return t}return t}function ns(e,t,r,n){r=null===(r=r(n,t=e.memoizedState))||void 0===r?t:L({},t,r),e.memoizedState=r,0===e.lanes&&(e.updateQueue.baseState=r)}var is={isMounted:function(e){return!!(e=e._reactInternals)&&qe(e)===e},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=ec(),i=tc(e),a=Ua(n,i);a.payload=t,void 0!==r&&null!==r&&(a.callback=r),null!==(t=Ba(e,a,i))&&(rc(t,e,i,n),za(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=ec(),i=tc(e),a=Ua(n,i);a.tag=1,a.payload=t,void 0!==r&&null!==r&&(a.callback=r),null!==(t=Ba(e,a,i))&&(rc(t,e,i,n),za(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ec(),n=tc(e),i=Ua(r,n);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Ba(e,i,n))&&(rc(t,e,n,r),za(t,e,n))}};function as(e,t,r,n,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!ln(r,n)||!ln(i,a))}function os(e,t,r){var n=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=Pa(a):(i=ji(t)?Pi:Si.current,a=(n=null!==(n=t.contextTypes)&&void 0!==n)?Ii(e,i):Ti),t=new t(r,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=is,e.stateNode=t,t._reactInternals=e,n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ss(e,t,r,n){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,n),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&is.enqueueReplaceState(t,t.state,null)}function ls(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},Da(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Pa(a):(a=ji(t)?Pi:Si.current,i.context=Ii(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ns(e,t,a,r),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&is.enqueueReplaceState(i,i.state,null),qa(e,r,i,n),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function cs(e,t){try{var r="",n=t;do{r+=K(n),n=n.return}while(n);var i=r}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function us(e,t,r){return{value:e,source:null,stack:null!=r?r:null,digest:null!=t?t:null}}function ds(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var hs="function"===typeof WeakMap?WeakMap:Map;function fs(e,t,r){(r=Ua(-1,r)).tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Hl||(Hl=!0,Wl=n),ds(0,t)},r}function ps(e,t,r){(r=Ua(-1,r)).tag=3;var n=e.type.getDerivedStateFromError;if("function"===typeof n){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){ds(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(r.callback=function(){ds(0,t),"function"!==typeof n&&(null===Vl?Vl=new Set([this]):Vl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),r}function gs(e,t,r){var n=e.pingCache;if(null===n){n=e.pingCache=new hs;var i=new Set;n.set(t,i)}else void 0===(i=n.get(t))&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=Cc.bind(null,e,t,r),t.then(e,e))}function ms(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function vs(e,t,r,n,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,1===r.tag&&(null===r.alternate?r.tag=17:((t=Ua(-1,1)).tag=2,Ba(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ys=_.ReactCurrentOwner,bs=!1;function _s(e,t,r,n){t.child=null===e?xa(t,null,r,n):_a(t,e.child,r,n)}function xs(e,t,r,n,i){r=r.render;var a=t.ref;return Oa(t,i),n=mo(e,t,r,n,a,i),r=vo(),null===e||bs?(ia&&r&&ea(t),t.flags|=1,_s(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i))}function ws(e,t,r,n,i){if(null===e){var a=r.type;return"function"!==typeof a||jc(a)||void 0!==a.defaultProps||null!==r.compare||void 0!==r.defaultProps?((e=Nc(r.type,null,n,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,ks(e,t,a,n,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((r=null!==(r=r.compare)?r:ln)(o,n)&&e.ref===t.ref)return Hs(e,t,i)}return t.flags|=1,(e=Mc(a,n)).ref=t.ref,e.return=t,t.child=e}function ks(e,t,r,n,i){if(null!==e){var a=e.memoizedProps;if(ln(a,n)&&e.ref===t.ref){if(bs=!1,t.pendingProps=n=a,0===(e.lanes&i))return t.lanes=e.lanes,Hs(e,t,i);0!==(131072&e.flags)&&(bs=!0)}}return As(e,t,r,n,i)}function Es(e,t,r){var n=t.pendingProps,i=n.children,a=null!==e?e.memoizedState:null;if("hidden"===n.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ai(Ml,jl),jl|=r;else{if(0===(1073741824&r))return e=null!==a?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ai(Ml,jl),jl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=null!==a?a.baseLanes:r,Ai(Ml,jl),jl|=n}else null!==a?(n=a.baseLanes|r,t.memoizedState=null):n=r,Ai(Ml,jl),jl|=n;return _s(e,t,i,r),t.child}function Cs(e,t){var r=t.ref;(null===e&&null!==r||null!==e&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function As(e,t,r,n,i){var a=ji(r)?Pi:Si.current;return a=Ii(t,a),Oa(t,i),r=mo(e,t,r,n,a,i),n=vo(),null===e||bs?(ia&&n&&ea(t),t.flags|=1,_s(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i))}function Ts(e,t,r,n,i){if(ji(r)){var a=!0;Di(t)}else a=!1;if(Oa(t,i),null===t.stateNode)Fs(e,t),os(t,r,n),ls(t,r,n,i),n=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,c=r.contextType;"object"===typeof c&&null!==c?c=Pa(c):c=Ii(t,c=ji(r)?Pi:Si.current);var u=r.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==n||l!==c)&&ss(t,o,n,c),Ra=!1;var h=t.memoizedState;o.state=h,qa(t,n,o,i),l=t.memoizedState,s!==n||h!==l||Oi.current||Ra?("function"===typeof u&&(ns(t,r,u,n),l=t.memoizedState),(s=Ra||as(t,r,s,n,h,l,c))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),o.props=n,o.state=l,o.context=c,n=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,La(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:rs(t.type,s),o.props=c,d=t.pendingProps,h=o.context,"object"===typeof(l=r.contextType)&&null!==l?l=Pa(l):l=Ii(t,l=ji(r)?Pi:Si.current);var f=r.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==d||h!==l)&&ss(t,o,n,l),Ra=!1,h=t.memoizedState,o.state=h,qa(t,n,o,i);var p=t.memoizedState;s!==d||h!==p||Oi.current||Ra?("function"===typeof f&&(ns(t,r,f,n),p=t.memoizedState),(c=Ra||as(t,r,c,n,h,p,l)||!1)?(u||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(n,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(n,p,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=p),o.props=n,o.state=p,o.context=l,n=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Ss(e,t,r,n,a,i)}function Ss(e,t,r,n,i,a){Cs(e,t);var o=0!==(128&t.flags);if(!n&&!o)return i&&Li(t,r,!1),Hs(e,t,a);n=t.stateNode,ys.current=t;var s=o&&"function"!==typeof r.getDerivedStateFromError?null:n.render();return t.flags|=1,null!==e&&o?(t.child=_a(t,e.child,null,a),t.child=_a(t,null,s,a)):_s(e,t,s,a),t.memoizedState=n.state,i&&Li(t,r,!0),t.child}function Os(e){var t=e.stateNode;t.pendingContext?Ni(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ni(0,t.context,!1),Qa(e,t.containerInfo)}function Ps(e,t,r,n,i){return fa(),pa(i),t.flags|=256,_s(e,t,r,n),t.child}var Is,js,Ms,Ns,Rs={dehydrated:null,treeContext:null,retryLane:0};function Ds(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ls(e,t,r){var n,i=t.pendingProps,o=Za.current,s=!1,l=0!==(128&t.flags);if((n=l)||(n=(null===e||null!==e.memoizedState)&&0!==(2&o)),n?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ai(Za,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,s?(i=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=Dc(l,i,0,null),e=Rc(e,i,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ds(r),t.memoizedState=Rs,e):Us(t,l));if(null!==(o=e.memoizedState)&&null!==(n=o.dehydrated))return function(e,t,r,n,i,o,s){if(r)return 256&t.flags?(t.flags&=-257,Bs(e,t,s,n=us(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=n.fallback,i=t.mode,n=Dc({mode:"visible",children:n.children},i,0,null),(o=Rc(o,i,s,null)).flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,0!==(1&t.mode)&&_a(t,e.child,null,s),t.child.memoizedState=Ds(s),t.memoizedState=Rs,o);if(0===(1&t.mode))return Bs(e,t,s,null);if("$!"===i.data){if(n=i.nextSibling&&i.nextSibling.dataset)var l=n.dgst;return n=l,Bs(e,t,s,n=us(o=Error(a(419)),n,void 0))}if(l=0!==(s&e.childLanes),bs||l){if(null!==(n=Ol)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(n.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Na(e,i),rc(n,e,i,-1))}return gc(),Bs(e,t,s,n=us(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Tc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,na=ci(i.nextSibling),ra=t,ia=!0,aa=null,null!==e&&(Gi[Yi++]=Ji,Gi[Yi++]=Xi,Gi[Yi++]=Qi,Ji=e.id,Xi=e.overflow,Qi=t),t=Us(t,n.children),t.flags|=4096,t)}(e,t,l,i,n,o,r);if(s){s=i.fallback,l=t.mode,n=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Mc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==n?s=Mc(n,s):(s=Rc(s,l,r,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,l=null===(l=e.child.memoizedState)?Ds(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~r,t.memoizedState=Rs,i}return e=(s=e.child).sibling,i=Mc(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=r),i.return=t,i.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=i,t.memoizedState=null,i}function Us(e,t){return(t=Dc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Bs(e,t,r,n){return null!==n&&pa(n),_a(t,e.child,null,r),(e=Us(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zs(e,t,r){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),Sa(e.return,t,r)}function Ks(e,t,r,n,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function qs(e,t,r){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(_s(e,t,n.children,r),0!==(2&(n=Za.current)))n=1&n|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zs(e,r,t);else if(19===e.tag)zs(e,r,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Ai(Za,n),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;null!==r;)null!==(e=r.alternate)&&null===eo(e)&&(i=r),r=r.sibling;null===(r=i)?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),Ks(t,!1,i,r,a);break;case"backwards":for(r=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===eo(e)){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}Ks(t,!0,r,null,a);break;case"together":Ks(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Fs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hs(e,t,r){if(null!==e&&(t.dependencies=e.dependencies),Dl|=t.lanes,0===(r&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(r=Mc(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=Mc(e,e.pendingProps)).return=t;r.sibling=null}return t.child}function Ws(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Vs(e){var t=null!==e.alternate&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;null!==i;)r|=i.lanes|i.childLanes,n|=14680064&i.subtreeFlags,n|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Gs(e,t,r){var n=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vs(t),null;case 1:case 17:return ji(t.type)&&Mi(),Vs(t),null;case 3:return n=t.stateNode,Ja(),Ci(Oi),Ci(Si),ro(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(da(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(oc(aa),aa=null))),js(e,t),Vs(t),null;case 5:$a(t);var i=Ya(Ga.current);if(r=t.type,null!==e&&null!=t.stateNode)Ms(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(null===t.stateNode)throw Error(a(166));return Vs(t),null}if(e=Ya(Wa.current),da(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[hi]=t,n[fi]=o,e=0!==(1&t.mode),r){case"dialog":Bn("cancel",n),Bn("close",n);break;case"iframe":case"object":case"embed":Bn("load",n);break;case"video":case"audio":for(i=0;i<Rn.length;i++)Bn(Rn[i],n);break;case"source":Bn("error",n);break;case"img":case"image":case"link":Bn("error",n),Bn("load",n);break;case"details":Bn("toggle",n);break;case"input":J(n,o),Bn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},Bn("invalid",n);break;case"textarea":ie(n,o),Bn("invalid",n)}for(var l in ye(r,o),i=null,o)if(o.hasOwnProperty(l)){var c=o[l];"children"===l?"string"===typeof c?n.textContent!==c&&(!0!==o.suppressHydrationWarning&&$n(n.textContent,c,e),i=["children",c]):"number"===typeof c&&n.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&$n(n.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Bn("scroll",n)}switch(r){case"input":V(n),Z(n,o,!0);break;case"textarea":V(n),oe(n);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(n.onclick=Zn)}n=i,t.updateQueue=n,null!==n&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(r)),"http://www.w3.org/1999/xhtml"===e?"script"===r?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof n.is?e=l.createElement(r,{is:n.is}):(e=l.createElement(r),"select"===r&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,r),e[hi]=t,e[fi]=n,Is(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(r,n),r){case"dialog":Bn("cancel",e),Bn("close",e),i=n;break;case"iframe":case"object":case"embed":Bn("load",e),i=n;break;case"video":case"audio":for(i=0;i<Rn.length;i++)Bn(Rn[i],e);i=n;break;case"source":Bn("error",e),i=n;break;case"img":case"image":case"link":Bn("error",e),Bn("load",e),i=n;break;case"details":Bn("toggle",e),i=n;break;case"input":J(e,n),i=Q(e,n),Bn("invalid",e);break;case"option":default:i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=L({},n,{value:void 0}),Bn("invalid",e);break;case"textarea":ie(e,n),i=ne(e,n),Bn("invalid",e)}for(o in ye(r,i),c=i)if(c.hasOwnProperty(o)){var u=c[o];"style"===o?me(e,u):"dangerouslySetInnerHTML"===o?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===o?"string"===typeof u?("textarea"!==r||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=u&&"onScroll"===o&&Bn("scroll",e):null!=u&&b(e,o,u,l))}switch(r){case"input":V(e),Z(e,n,!1);break;case"textarea":V(e),oe(e);break;case"option":null!=n.value&&e.setAttribute("value",""+H(n.value));break;case"select":e.multiple=!!n.multiple,null!=(o=n.value)?re(e,!!n.multiple,o,!1):null!=n.defaultValue&&re(e,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zn)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Vs(t),null;case 6:if(e&&null!=t.stateNode)Ns(e,t,e.memoizedProps,n);else{if("string"!==typeof n&&null===t.stateNode)throw Error(a(166));if(r=Ya(Ga.current),Ya(Wa.current),da(t)){if(n=t.stateNode,r=t.memoizedProps,n[hi]=t,(o=n.nodeValue!==r)&&null!==(e=ra))switch(e.tag){case 3:$n(n.nodeValue,r,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&$n(n.nodeValue,r,0!==(1&e.mode))}o&&(t.flags|=4)}else(n=(9===r.nodeType?r:r.ownerDocument).createTextNode(n))[hi]=t,t.stateNode=n}return Vs(t),null;case 13:if(Ci(Za),n=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==na&&0!==(1&t.mode)&&0===(128&t.flags))ha(),fa(),t.flags|=98560,o=!1;else if(o=da(t),null!==n&&null!==n.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else fa(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Vs(t),o=!1}else null!==aa&&(oc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=r,t):((n=null!==n)!==(null!==e&&null!==e.memoizedState)&&n&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Za.current)?0===Nl&&(Nl=3):gc())),null!==t.updateQueue&&(t.flags|=4),Vs(t),null);case 4:return Ja(),js(e,t),null===e&&qn(t.stateNode.containerInfo),Vs(t),null;case 10:return Ta(t.type._context),Vs(t),null;case 19:if(Ci(Za),null===(o=t.memoizedState))return Vs(t),null;if(n=0!==(128&t.flags),null===(l=o.rendering))if(n)Ws(o,!1);else{if(0!==Nl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=eo(e))){for(t.flags|=128,Ws(o,!1),null!==(n=l.updateQueue)&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;null!==r;)e=n,(o=r).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ai(Za,1&Za.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>ql&&(t.flags|=128,n=!0,Ws(o,!1),t.lanes=4194304)}else{if(!n)if(null!==(e=eo(l))){if(t.flags|=128,n=!0,null!==(r=e.updateQueue)&&(t.updateQueue=r,t.flags|=4),Ws(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!ia)return Vs(t),null}else 2*Xe()-o.renderingStartTime>ql&&1073741824!==r&&(t.flags|=128,n=!0,Ws(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(r=o.last)?r.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,r=Za.current,Ai(Za,n?1&r|2:1&r),t):(Vs(t),null);case 22:case 23:return dc(),n=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==n&&(t.flags|=8192),n&&0!==(1&t.mode)?0!==(1073741824&jl)&&(Vs(t),6&t.subtreeFlags&&(t.flags|=8192)):Vs(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Ys(e,t){switch(ta(t),t.tag){case 1:return ji(t.type)&&Mi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ja(),Ci(Oi),Ci(Si),ro(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return $a(t),null;case 13:if(Ci(Za),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));fa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ci(Za),null;case 4:return Ja(),null;case 10:return Ta(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Is=function(e,t){for(var r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},js=function(){},Ms=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,Ya(Wa.current);var a,o=null;switch(r){case"input":i=Q(e,i),n=Q(e,n),o=[];break;case"select":i=L({},i,{value:void 0}),n=L({},n,{value:void 0}),o=[];break;case"textarea":i=ne(e,i),n=ne(e,n),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof n.onClick&&(e.onclick=Zn)}for(u in ye(r,n),r=null,i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(a in l)l.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in n){var c=n[u];if(l=null!=i?i[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(r||(r={}),r[a]=c[a])}else r||(o||(o=[]),o.push(u,r)),r=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(o=o||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(s.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Bn("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}r&&(o=o||[]).push("style",r);var u=o;(t.updateQueue=u)&&(t.flags|=4)}},Ns=function(e,t,r,n){r!==n&&(t.flags|=4)};var Qs=!1,Js=!1,Xs="function"===typeof WeakSet?WeakSet:Set,$s=null;function Zs(e,t){var r=e.ref;if(null!==r)if("function"===typeof r)try{r(null)}catch(n){Ec(e,t,n)}else r.current=null}function el(e,t,r){try{r()}catch(n){Ec(e,t,n)}}var tl=!1;function rl(e,t,r){var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var i=n=n.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&el(t,r,a)}i=i.next}while(i!==n)}}function nl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function il(e){var t=e.ref;if(null!==t){var r=e.stateNode;e.tag,e=r,"function"===typeof t?t(e):t.current=e}}function al(e){var t=e.alternate;null!==t&&(e.alternate=null,al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[fi],delete t[gi],delete t[mi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ol(e){return 5===e.tag||3===e.tag||4===e.tag}function sl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ol(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?8===r.nodeType?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(8===r.nodeType?(t=r.parentNode).insertBefore(e,r):(t=r).appendChild(e),null!==(r=r._reactRootContainer)&&void 0!==r||null!==t.onclick||(t.onclick=Zn));else if(4!==n&&null!==(e=e.child))for(ll(e,t,r),e=e.sibling;null!==e;)ll(e,t,r),e=e.sibling}function cl(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(4!==n&&null!==(e=e.child))for(cl(e,t,r),e=e.sibling;null!==e;)cl(e,t,r),e=e.sibling}var ul=null,dl=!1;function hl(e,t,r){for(r=r.child;null!==r;)fl(e,t,r),r=r.sibling}function fl(e,t,r){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,r)}catch(s){}switch(r.tag){case 5:Js||Zs(r,t);case 6:var n=ul,i=dl;ul=null,hl(e,t,r),dl=i,null!==(ul=n)&&(dl?(e=ul,r=r.stateNode,8===e.nodeType?e.parentNode.removeChild(r):e.removeChild(r)):ul.removeChild(r.stateNode));break;case 18:null!==ul&&(dl?(e=ul,r=r.stateNode,8===e.nodeType?li(e.parentNode,r):1===e.nodeType&&li(e,r),qt(e)):li(ul,r.stateNode));break;case 4:n=ul,i=dl,ul=r.stateNode.containerInfo,dl=!0,hl(e,t,r),ul=n,dl=i;break;case 0:case 11:case 14:case 15:if(!Js&&(null!==(n=r.updateQueue)&&null!==(n=n.lastEffect))){i=n=n.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&el(r,t,o),i=i.next}while(i!==n)}hl(e,t,r);break;case 1:if(!Js&&(Zs(r,t),"function"===typeof(n=r.stateNode).componentWillUnmount))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(s){Ec(r,t,s)}hl(e,t,r);break;case 21:hl(e,t,r);break;case 22:1&r.mode?(Js=(n=Js)||null!==r.memoizedState,hl(e,t,r),Js=n):hl(e,t,r);break;default:hl(e,t,r)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var r=e.stateNode;null===r&&(r=e.stateNode=new Xs),t.forEach(function(t){var n=Sc.bind(null,e,t);r.has(t)||(r.add(t),t.then(n,n))})}}function gl(e,t){var r=t.deletions;if(null!==r)for(var n=0;n<r.length;n++){var i=r[n];try{var o=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===ul)throw Error(a(160));fl(o,s,i),ul=null,dl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){Ec(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ml(t,e),t=t.sibling}function ml(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gl(t,e),vl(e),4&n){try{rl(3,e,e.return),nl(3,e)}catch(m){Ec(e,e.return,m)}try{rl(5,e,e.return)}catch(m){Ec(e,e.return,m)}}break;case 1:gl(t,e),vl(e),512&n&&null!==r&&Zs(r,r.return);break;case 5:if(gl(t,e),vl(e),512&n&&null!==r&&Zs(r,r.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){Ec(e,e.return,m)}}if(4&n&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==r?r.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===o.type&&null!=o.name&&X(i,o),be(l,s);var u=be(l,o);for(s=0;s<c.length;s+=2){var d=c[s],h=c[s+1];"style"===d?me(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):b(i,d,h,u)}switch(l){case"input":$(i,o);break;case"textarea":ae(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?re(i,!!o.multiple,p,!1):f!==!!o.multiple&&(null!=o.defaultValue?re(i,!!o.multiple,o.defaultValue,!0):re(i,!!o.multiple,o.multiple?[]:"",!1))}i[fi]=o}catch(m){Ec(e,e.return,m)}}break;case 6:if(gl(t,e),vl(e),4&n){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Ec(e,e.return,m)}}break;case 3:if(gl(t,e),vl(e),4&n&&null!==r&&r.memoizedState.isDehydrated)try{qt(t.containerInfo)}catch(m){Ec(e,e.return,m)}break;case 4:default:gl(t,e),vl(e);break;case 13:gl(t,e),vl(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Kl=Xe())),4&n&&pl(e);break;case 22:if(d=null!==r&&null!==r.memoizedState,1&e.mode?(Js=(u=Js)||d,gl(t,e),Js=u):gl(t,e),vl(e),8192&n){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for($s=e,d=e.child;null!==d;){for(h=$s=d;null!==$s;){switch(p=(f=$s).child,f.tag){case 0:case 11:case 14:case 15:rl(4,f,f.return);break;case 1:Zs(f,f.return);var g=f.stateNode;if("function"===typeof g.componentWillUnmount){n=f,r=f.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){Ec(n,r,m)}}break;case 5:Zs(f,f.return);break;case 22:if(null!==f.memoizedState){xl(h);continue}}null!==p?(p.return=f,$s=p):xl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=h.stateNode,s=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=ge("display",s))}catch(m){Ec(e,e.return,m)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(m){Ec(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:gl(t,e),vl(e),4&n&&pl(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var r=e.return;null!==r;){if(ol(r)){var n=r;break e}r=r.return}throw Error(a(160))}switch(n.tag){case 5:var i=n.stateNode;32&n.flags&&(he(i,""),n.flags&=-33),cl(e,sl(e),i);break;case 3:case 4:var o=n.stateNode.containerInfo;ll(e,sl(e),o);break;default:throw Error(a(161))}}catch(s){Ec(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,r){$s=e,bl(e,t,r)}function bl(e,t,r){for(var n=0!==(1&e.mode);null!==$s;){var i=$s,a=i.child;if(22===i.tag&&n){var o=null!==i.memoizedState||Qs;if(!o){var s=i.alternate,l=null!==s&&null!==s.memoizedState||Js;s=Qs;var c=Js;if(Qs=o,(Js=l)&&!c)for($s=i;null!==$s;)l=(o=$s).child,22===o.tag&&null!==o.memoizedState?wl(i):null!==l?(l.return=o,$s=l):wl(i);for(;null!==a;)$s=a,bl(a,t,r),a=a.sibling;$s=i,Qs=s,Js=c}_l(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,$s=a):_l(e)}}function _l(e){for(;null!==$s;){var t=$s;if(0!==(8772&t.flags)){var r=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Js||nl(5,t);break;case 1:var n=t.stateNode;if(4&t.flags&&!Js)if(null===r)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:rs(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Fa(t,o,n);break;case 3:var s=t.updateQueue;if(null!==s){if(r=null,null!==t.child)switch(t.child.tag){case 5:case 1:r=t.child.stateNode}Fa(t,s,r)}break;case 5:var l=t.stateNode;if(null===r&&4&t.flags){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&qt(h)}}}break;default:throw Error(a(163))}Js||512&t.flags&&il(t)}catch(f){Ec(t,t.return,f)}}if(t===e){$s=null;break}if(null!==(r=t.sibling)){r.return=t.return,$s=r;break}$s=t.return}}function xl(e){for(;null!==$s;){var t=$s;if(t===e){$s=null;break}var r=t.sibling;if(null!==r){r.return=t.return,$s=r;break}$s=t.return}}function wl(e){for(;null!==$s;){var t=$s;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{nl(4,t)}catch(l){Ec(t,r,l)}break;case 1:var n=t.stateNode;if("function"===typeof n.componentDidMount){var i=t.return;try{n.componentDidMount()}catch(l){Ec(t,i,l)}}var a=t.return;try{il(t)}catch(l){Ec(t,a,l)}break;case 5:var o=t.return;try{il(t)}catch(l){Ec(t,o,l)}}}catch(l){Ec(t,t.return,l)}if(t===e){$s=null;break}var s=t.sibling;if(null!==s){s.return=t.return,$s=s;break}$s=t.return}}var kl,El=Math.ceil,Cl=_.ReactCurrentDispatcher,Al=_.ReactCurrentOwner,Tl=_.ReactCurrentBatchConfig,Sl=0,Ol=null,Pl=null,Il=0,jl=0,Ml=Ei(0),Nl=0,Rl=null,Dl=0,Ll=0,Ul=0,Bl=null,zl=null,Kl=0,ql=1/0,Fl=null,Hl=!1,Wl=null,Vl=null,Gl=!1,Yl=null,Ql=0,Jl=0,Xl=null,$l=-1,Zl=0;function ec(){return 0!==(6&Sl)?Xe():-1!==$l?$l:$l=Xe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Sl)&&0!==Il?Il&-Il:null!==ga.transition?(0===Zl&&(Zl=gt()),Zl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Jt(e.type)}function rc(e,t,r,n){if(50<Jl)throw Jl=0,Xl=null,Error(a(185));vt(e,r,n),0!==(2&Sl)&&e===Ol||(e===Ol&&(0===(2&Sl)&&(Ll|=r),4===Nl&&sc(e,Il)),nc(e,n),1===r&&0===Sl&&0===(1&t.mode)&&(ql=Xe()+500,Bi&&qi()))}function nc(e,t){var r=e.callbackNode;!function(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,l=i[o];-1===l?0!==(s&r)&&0===(s&n)||(i[o]=ft(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var n=ht(e,e===Ol?Il:0);if(0===n)null!==r&&Ye(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(null!=r&&Ye(r),1===t)0===e.tag?function(e){Bi=!0,Ki(e)}(lc.bind(null,e)):Ki(lc.bind(null,e)),oi(function(){0===(6&Sl)&&qi()}),r=null;else{switch(_t(n)){case 1:r=Ze;break;case 4:r=et;break;case 16:default:r=tt;break;case 536870912:r=nt}r=Oc(r,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function ic(e,t){if($l=-1,Zl=0,0!==(6&Sl))throw Error(a(327));var r=e.callbackNode;if(wc()&&e.callbackNode!==r)return null;var n=ht(e,e===Ol?Il:0);if(0===n)return null;if(0!==(30&n)||0!==(n&e.expiredLanes)||t)t=mc(e,n);else{t=n;var i=Sl;Sl|=2;var o=pc();for(Ol===e&&Il===t||(Fl=null,ql=Xe()+500,hc(e,t));;)try{yc();break}catch(l){fc(e,l)}Aa(),Cl.current=o,Sl=i,null!==Pl?t=0:(Ol=null,Il=0,t=Nl)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(n=i,t=ac(e,i))),1===t)throw r=Rl,hc(e,0),sc(e,n),nc(e,Xe()),r;if(6===t)sc(e,n);else{if(i=e.current.alternate,0===(30&n)&&!function(e){for(var t=e;;){if(16384&t.flags){var r=t.updateQueue;if(null!==r&&null!==(r=r.stores))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!sn(a(),i))return!1}catch(s){return!1}}}if(r=t.child,16384&t.subtreeFlags&&null!==r)r.return=t,t=r;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=mc(e,n))&&(0!==(o=pt(e))&&(n=o,t=ac(e,o))),1===t))throw r=Rl,hc(e,0),sc(e,n),nc(e,Xe()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(a(345));case 2:case 5:xc(e,zl,Fl);break;case 3:if(sc(e,n),(130023424&n)===n&&10<(t=Kl+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&n)!==n){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ni(xc.bind(null,e,zl,Fl),t);break}xc(e,zl,Fl);break;case 4:if(sc(e,n),(4194240&n)===n)break;for(t=e.eventTimes,i=-1;0<n;){var s=31-ot(n);o=1<<s,(s=t[s])>i&&(i=s),n&=~o}if(n=i,10<(n=(120>(n=Xe()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*El(n/1960))-n)){e.timeoutHandle=ni(xc.bind(null,e,zl,Fl),n);break}xc(e,zl,Fl);break;default:throw Error(a(329))}}}return nc(e,Xe()),e.callbackNode===r?ic.bind(null,e):null}function ac(e,t){var r=Bl;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=mc(e,t))&&(t=zl,zl=r,null!==t&&oc(t)),e}function oc(e){null===zl?zl=e:zl.push.apply(zl,e)}function sc(e,t){for(t&=~Ul,t&=~Ll,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ot(t),n=1<<r;e[r]=-1,t&=~n}}function lc(e){if(0!==(6&Sl))throw Error(a(327));wc();var t=ht(e,0);if(0===(1&t))return nc(e,Xe()),null;var r=mc(e,t);if(0!==e.tag&&2===r){var n=pt(e);0!==n&&(t=n,r=ac(e,n))}if(1===r)throw r=Rl,hc(e,0),sc(e,t),nc(e,Xe()),r;if(6===r)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xc(e,zl,Fl),nc(e,Xe()),null}function cc(e,t){var r=Sl;Sl|=1;try{return e(t)}finally{0===(Sl=r)&&(ql=Xe()+500,Bi&&qi())}}function uc(e){null!==Yl&&0===Yl.tag&&0===(6&Sl)&&wc();var t=Sl;Sl|=1;var r=Tl.transition,n=bt;try{if(Tl.transition=null,bt=1,e)return e()}finally{bt=n,Tl.transition=r,0===(6&(Sl=t))&&qi()}}function dc(){jl=Ml.current,Ci(Ml)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(-1!==r&&(e.timeoutHandle=-1,ii(r)),null!==Pl)for(r=Pl.return;null!==r;){var n=r;switch(ta(n),n.tag){case 1:null!==(n=n.type.childContextTypes)&&void 0!==n&&Mi();break;case 3:Ja(),Ci(Oi),Ci(Si),ro();break;case 5:$a(n);break;case 4:Ja();break;case 13:case 19:Ci(Za);break;case 10:Ta(n.type._context);break;case 22:case 23:dc()}r=r.return}if(Ol=e,Pl=e=Mc(e.current,null),Il=jl=t,Nl=0,Rl=null,Ul=Ll=Dl=0,zl=Bl=null,null!==Ia){for(t=0;t<Ia.length;t++)if(null!==(n=(r=Ia[t]).interleaved)){r.interleaved=null;var i=n.next,a=r.pending;if(null!==a){var o=a.next;a.next=i,n.next=o}r.pending=n}Ia=null}return e}function fc(e,t){for(;;){var r=Pl;try{if(Aa(),no.current=$o,co){for(var n=oo.memoizedState;null!==n;){var i=n.queue;null!==i&&(i.pending=null),n=n.next}co=!1}if(ao=0,lo=so=oo=null,uo=!1,ho=0,Al.current=null,null===r||null===r.return){Nl=1,Rl=t,Pl=null;break}e:{var o=e,s=r.return,l=r,c=t;if(t=Il,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=ms(s);if(null!==p){p.flags&=-257,vs(p,s,l,0,t),1&p.mode&&gs(o,u,t),c=u;var g=(t=p).updateQueue;if(null===g){var m=new Set;m.add(c),t.updateQueue=m}else g.add(c);break e}if(0===(1&t)){gs(o,u,t),gc();break e}c=Error(a(426))}else if(ia&&1&l.mode){var v=ms(s);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),vs(v,s,l,0,t),pa(cs(c,l));break e}}o=c=cs(c,l),4!==Nl&&(Nl=2),null===Bl?Bl=[o]:Bl.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ka(o,fs(0,c,t));break e;case 1:l=c;var y=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Vl||!Vl.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,Ka(o,ps(o,l,t));break e}}o=o.return}while(null!==o)}_c(r)}catch(_){t=_,Pl===r&&null!==r&&(Pl=r=r.return);continue}break}}function pc(){var e=Cl.current;return Cl.current=$o,null===e?$o:e}function gc(){0!==Nl&&3!==Nl&&2!==Nl||(Nl=4),null===Ol||0===(268435455&Dl)&&0===(268435455&Ll)||sc(Ol,Il)}function mc(e,t){var r=Sl;Sl|=2;var n=pc();for(Ol===e&&Il===t||(Fl=null,hc(e,t));;)try{vc();break}catch(i){fc(e,i)}if(Aa(),Sl=r,Cl.current=n,null!==Pl)throw Error(a(261));return Ol=null,Il=0,Nl}function vc(){for(;null!==Pl;)bc(Pl)}function yc(){for(;null!==Pl&&!Qe();)bc(Pl)}function bc(e){var t=kl(e.alternate,e,jl);e.memoizedProps=e.pendingProps,null===t?_c(e):Pl=t,Al.current=null}function _c(e){var t=e;do{var r=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(r=Gs(r,t,jl)))return void(Pl=r)}else{if(null!==(r=Ys(r,t)))return r.flags&=32767,void(Pl=r);if(null===e)return Nl=6,void(Pl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Pl=t);Pl=t=e}while(null!==t);0===Nl&&(Nl=5)}function xc(e,t,r){var n=bt,i=Tl.transition;try{Tl.transition=null,bt=1,function(e,t,r,n){do{wc()}while(null!==Yl);if(0!==(6&Sl))throw Error(a(327));r=e.finishedWork;var i=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(function(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-ot(r),a=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~a}}(e,o),e===Ol&&(Pl=Ol=null,Il=0),0===(2064&r.subtreeFlags)&&0===(2064&r.flags)||Gl||(Gl=!0,Oc(tt,function(){return wc(),null})),o=0!==(15990&r.flags),0!==(15990&r.subtreeFlags)||o){o=Tl.transition,Tl.transition=null;var s=bt;bt=1;var l=Sl;Sl|=4,Al.current=null,function(e,t){if(ei=Ht,fn(e=hn())){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(r=(r=e.ownerDocument)&&r.defaultView||window).getSelection&&r.getSelection();if(n&&0!==n.rangeCount){r=n.anchorNode;var i=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch(x){r=null;break e}var s=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==r||0!==i&&3!==h.nodeType||(l=s+i),h!==o||0!==n&&3!==h.nodeType||(c=s+n),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===r&&++u===i&&(l=s),f===o&&++d===n&&(c=s),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}r=-1===l||-1===c?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(ti={focusedElem:e,selectionRange:r},Ht=!1,$s=t;null!==$s;)if(e=(t=$s).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,$s=e;else for(;null!==$s;){t=$s;try{var g=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var m=g.memoizedProps,v=g.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:rs(t.type,m),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var _=t.stateNode.containerInfo;1===_.nodeType?_.textContent="":9===_.nodeType&&_.documentElement&&_.removeChild(_.documentElement);break;default:throw Error(a(163))}}catch(x){Ec(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,$s=e;break}$s=t.return}g=tl,tl=!1}(e,r),ml(r,e),pn(ti),Ht=!!ei,ti=ei=null,e.current=r,yl(r,e,i),Je(),Sl=l,bt=s,Tl.transition=o}else e.current=r;if(Gl&&(Gl=!1,Yl=e,Ql=i),o=e.pendingLanes,0===o&&(Vl=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(r.stateNode),nc(e,Xe()),null!==t)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Hl)throw Hl=!1,e=Wl,Wl=null,e;0!==(1&Ql)&&0!==e.tag&&wc(),o=e.pendingLanes,0!==(1&o)?e===Xl?Jl++:(Jl=0,Xl=e):Jl=0,qi()}(e,t,r,n)}finally{Tl.transition=i,bt=n}return null}function wc(){if(null!==Yl){var e=_t(Ql),t=Tl.transition,r=bt;try{if(Tl.transition=null,bt=16>e?16:e,null===Yl)var n=!1;else{if(e=Yl,Yl=null,Ql=0,0!==(6&Sl))throw Error(a(331));var i=Sl;for(Sl|=4,$s=e.current;null!==$s;){var o=$s,s=o.child;if(0!==(16&$s.flags)){var l=o.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for($s=u;null!==$s;){var d=$s;switch(d.tag){case 0:case 11:case 15:rl(8,d,o)}var h=d.child;if(null!==h)h.return=d,$s=h;else for(;null!==$s;){var f=(d=$s).sibling,p=d.return;if(al(d),d===u){$s=null;break}if(null!==f){f.return=p,$s=f;break}$s=p}}}var g=o.alternate;if(null!==g){var m=g.child;if(null!==m){g.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(null!==m)}}$s=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,$s=s;else e:for(;null!==$s;){if(0!==(2048&(o=$s).flags))switch(o.tag){case 0:case 11:case 15:rl(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,$s=y;break e}$s=o.return}}var b=e.current;for($s=b;null!==$s;){var _=(s=$s).child;if(0!==(2064&s.subtreeFlags)&&null!==_)_.return=s,$s=_;else e:for(s=b;null!==$s;){if(0!==(2048&(l=$s).flags))try{switch(l.tag){case 0:case 11:case 15:nl(9,l)}}catch(w){Ec(l,l.return,w)}if(l===s){$s=null;break e}var x=l.sibling;if(null!==x){x.return=l.return,$s=x;break e}$s=l.return}}if(Sl=i,qi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(w){}n=!0}return n}finally{bt=r,Tl.transition=t}}return!1}function kc(e,t,r){e=Ba(e,t=fs(0,t=cs(r,t),1),1),t=ec(),null!==e&&(vt(e,1,t),nc(e,t))}function Ec(e,t,r){if(3===e.tag)kc(e,e,r);else for(;null!==t;){if(3===t.tag){kc(t,e,r);break}if(1===t.tag){var n=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===Vl||!Vl.has(n))){t=Ba(t,e=ps(t,e=cs(r,e),1),1),e=ec(),null!==t&&(vt(t,1,e),nc(t,e));break}}t=t.return}}function Cc(e,t,r){var n=e.pingCache;null!==n&&n.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&r,Ol===e&&(Il&r)===r&&(4===Nl||3===Nl&&(130023424&Il)===Il&&500>Xe()-Kl?hc(e,0):Ul|=r),nc(e,t)}function Ac(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var r=ec();null!==(e=Na(e,t))&&(vt(e,t,r),nc(e,r))}function Tc(e){var t=e.memoizedState,r=0;null!==t&&(r=t.retryLane),Ac(e,r)}function Sc(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;null!==i&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(a(314))}null!==n&&n.delete(t),Ac(e,r)}function Oc(e,t){return Ge(e,t)}function Pc(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ic(e,t,r,n){return new Pc(e,t,r,n)}function jc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Mc(e,t){var r=e.alternate;return null===r?((r=Ic(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=14680064&e.flags,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Nc(e,t,r,n,i,o){var s=2;if(n=e,"function"===typeof e)jc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case k:return Rc(r.children,i,o,t);case E:s=8,i|=8;break;case C:return(e=Ic(12,r,t,2|i)).elementType=C,e.lanes=o,e;case O:return(e=Ic(13,r,t,i)).elementType=O,e.lanes=o,e;case P:return(e=Ic(19,r,t,i)).elementType=P,e.lanes=o,e;case M:return Dc(r,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case A:s=10;break e;case T:s=9;break e;case S:s=11;break e;case I:s=14;break e;case j:s=16,n=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Ic(s,r,t,i)).elementType=e,t.type=n,t.lanes=o,t}function Rc(e,t,r,n){return(e=Ic(7,e,n,t)).lanes=r,e}function Dc(e,t,r,n){return(e=Ic(22,e,n,t)).elementType=M,e.lanes=r,e.stateNode={isHidden:!1},e}function Lc(e,t,r){return(e=Ic(6,e,null,t)).lanes=r,e}function Uc(e,t,r){return(t=Ic(4,null!==e.children?e.children:[],e.key,t)).lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bc(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zc(e,t,r,n,i,a,o,s,l){return e=new Bc(e,t,r,s,l),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Ic(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Da(a),e}function Kc(e){if(!e)return Ti;e:{if(qe(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ji(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var r=e.type;if(ji(r))return Ri(e,r,t)}return t}function qc(e,t,r,n,i,a,o,s,l){return(e=zc(r,n,!0,e,0,a,0,s,l)).context=Kc(null),r=e.current,(a=Ua(n=ec(),i=tc(r))).callback=void 0!==t&&null!==t?t:null,Ba(r,a,i),e.current.lanes=i,vt(e,i,n),nc(e,n),e}function Fc(e,t,r,n){var i=t.current,a=ec(),o=tc(i);return r=Kc(r),null===t.context?t.context=r:t.pendingContext=r,(t=Ua(a,o)).payload={element:e},null!==(n=void 0===n?null:n)&&(t.callback=n),null!==(e=Ba(i,t,o))&&(rc(e,i,o,a),za(e,i,o)),o}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var r=e.retryLane;e.retryLane=0!==r&&r<t?r:t}}function Vc(e,t){Wc(e,t),(e=e.alternate)&&Wc(e,t)}kl=function(e,t,r){if(null!==e)if(e.memoizedProps!==t.pendingProps||Oi.current)bs=!0;else{if(0===(e.lanes&r)&&0===(128&t.flags))return bs=!1,function(e,t,r){switch(t.tag){case 3:Os(t),fa();break;case 5:Xa(t);break;case 1:ji(t.type)&&Di(t);break;case 4:Qa(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;Ai(wa,n._currentValue),n._currentValue=i;break;case 13:if(null!==(n=t.memoizedState))return null!==n.dehydrated?(Ai(Za,1&Za.current),t.flags|=128,null):0!==(r&t.child.childLanes)?Ls(e,t,r):(Ai(Za,1&Za.current),null!==(e=Hs(e,t,r))?e.sibling:null);Ai(Za,1&Za.current);break;case 19:if(n=0!==(r&t.childLanes),0!==(128&e.flags)){if(n)return qs(e,t,r);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ai(Za,Za.current),n)break;return null;case 22:case 23:return t.lanes=0,Es(e,t,r)}return Hs(e,t,r)}(e,t,r);bs=0!==(131072&e.flags)}else bs=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Vi,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Fs(e,t),e=t.pendingProps;var i=Ii(t,Si.current);Oa(t,r),i=mo(null,t,n,e,i,r);var o=vo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ji(n)?(o=!0,Di(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Da(t),i.updater=is,t.stateNode=i,i._reactInternals=t,ls(t,n,e,r),t=Ss(null,t,n,!0,o,r)):(t.tag=0,ia&&o&&ea(t),_s(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Fs(e,t),e=t.pendingProps,n=(i=n._init)(n._payload),t.type=n,i=t.tag=function(e){if("function"===typeof e)return jc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===S)return 11;if(e===I)return 14}return 2}(n),e=rs(n,e),i){case 0:t=As(null,t,n,e,r);break e;case 1:t=Ts(null,t,n,e,r);break e;case 11:t=xs(null,t,n,e,r);break e;case 14:t=ws(null,t,n,rs(n.type,e),r);break e}throw Error(a(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,As(e,t,n,i=t.elementType===n?i:rs(n,i),r);case 1:return n=t.type,i=t.pendingProps,Ts(e,t,n,i=t.elementType===n?i:rs(n,i),r);case 3:e:{if(Os(t),null===e)throw Error(a(387));n=t.pendingProps,i=(o=t.memoizedState).element,La(e,t),qa(t,n,null,r);var s=t.memoizedState;if(n=s.element,o.isDehydrated){if(o={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ps(e,t,n,r,i=cs(Error(a(423)),t));break e}if(n!==i){t=Ps(e,t,n,r,i=cs(Error(a(424)),t));break e}for(na=ci(t.stateNode.containerInfo.firstChild),ra=t,ia=!0,aa=null,r=xa(t,null,n,r),t.child=r;r;)r.flags=-3&r.flags|4096,r=r.sibling}else{if(fa(),n===i){t=Hs(e,t,r);break e}_s(e,t,n,r)}t=t.child}return t;case 5:return Xa(t),null===e&&ca(t),n=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ri(n,i)?s=null:null!==o&&ri(n,o)&&(t.flags|=32),Cs(e,t),_s(e,t,s,r),t.child;case 6:return null===e&&ca(t),null;case 13:return Ls(e,t,r);case 4:return Qa(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=_a(t,null,n,r):_s(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,xs(e,t,n,i=t.elementType===n?i:rs(n,i),r);case 7:return _s(e,t,t.pendingProps,r),t.child;case 8:case 12:return _s(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Ai(wa,n._currentValue),n._currentValue=s,null!==o)if(sn(o.value,s)){if(o.children===i.children&&!Oi.current){t=Hs(e,t,r);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){s=o.child;for(var c=l.firstContext;null!==c;){if(c.context===n){if(1===o.tag){(c=Ua(-1,r&-r)).tag=2;var u=o.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=r,null!==(c=o.alternate)&&(c.lanes|=r),Sa(o.return,r,t),l.lanes|=r;break}c=c.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=r,null!==(l=s.alternate)&&(l.lanes|=r),Sa(s,r,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}_s(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,Oa(t,r),n=n(i=Pa(i)),t.flags|=1,_s(e,t,n,r),t.child;case 14:return i=rs(n=t.type,t.pendingProps),ws(e,t,n,i=rs(n.type,i),r);case 15:return ks(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:rs(n,i),Fs(e,t),t.tag=1,ji(n)?(e=!0,Di(t)):e=!1,Oa(t,r),os(t,n,i),ls(t,n,i,r),Ss(null,t,n,!0,e,r);case 19:return qs(e,t,r);case 22:return Es(e,t,r)}throw Error(a(156,t.tag))};var Gc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function Qc(e){this._internalRoot=e}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function $c(){}function Zc(e,t,r,n,i){var a=r._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=Hc(o);s.call(e)}}Fc(t,o,e,i)}else o=function(e,t,r,n,i){if(i){if("function"===typeof n){var a=n;n=function(){var e=Hc(o);a.call(e)}}var o=qc(t,n,e,0,null,!1,0,"",$c);return e._reactRootContainer=o,e[pi]=o.current,qn(8===e.nodeType?e.parentNode:e),uc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof n){var s=n;n=function(){var e=Hc(l);s.call(e)}}var l=zc(e,0,!1,null,0,!1,0,"",$c);return e._reactRootContainer=l,e[pi]=l.current,qn(8===e.nodeType?e.parentNode:e),uc(function(){Fc(t,l,r,n)}),l}(r,t,e,i,n);return Hc(o)}Qc.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Fc(e,t,null,null)},Qc.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc(function(){Fc(null,e,null,null)}),t[pi]=null}},Qc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Mt.length&&0!==t&&t<Mt[r].priority;r++);Mt.splice(r,0,e),0===r&&Lt(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=dt(t.pendingLanes);0!==r&&(yt(t,1|r),nc(t,Xe()),0===(6&Sl)&&(ql=Xe()+500,qi()))}break;case 13:uc(function(){var t=Na(e,1);if(null!==t){var r=ec();rc(t,e,1,r)}}),Vc(e,1)}},wt=function(e){if(13===e.tag){var t=Na(e,134217728);if(null!==t)rc(t,e,134217728,ec());Vc(e,134217728)}},kt=function(e){if(13===e.tag){var t=tc(e),r=Na(e,t);if(null!==r)rc(r,e,t,ec());Vc(e,t)}},Et=function(){return bt},Ct=function(e,t){var r=bt;try{return bt=e,t()}finally{bt=r}},we=function(e,t,r){switch(t){case"input":if($(e,r),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=xi(n);if(!i)throw Error(a(90));G(n),$(n,i)}}}break;case"textarea":ae(e,r);break;case"select":null!=(t=r.value)&&re(e,!!r.multiple,t,!1)}},Se=cc,Oe=uc;var eu={usingClientEntryPoint:!1,Events:[bi,_i,xi,Ae,Te,cc]},tu={findFiberByHostInstance:yi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ru={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var nu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nu.isDisabled&&nu.supportsFiber)try{it=nu.inject(ru),at=nu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(t))throw Error(a(200));return function(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==n?null:""+n,children:e,containerInfo:t,implementation:r}}(e,t,null,r)},t.createRoot=function(e,t){if(!Jc(e))throw Error(a(299));var r=!1,n="",i=Gc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(r=!0),void 0!==t.identifierPrefix&&(n=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=zc(e,1,!1,null,0,r,0,n,i),e[pi]=t.current,qn(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,r){if(!Xc(t))throw Error(a(200));return Zc(null,e,t,!0,r)},t.hydrateRoot=function(e,t,r){if(!Jc(e))throw Error(a(405));var n=null!=r&&r.hydratedSources||null,i=!1,o="",s=Gc;if(null!==r&&void 0!==r&&(!0===r.unstable_strictMode&&(i=!0),void 0!==r.identifierPrefix&&(o=r.identifierPrefix),void 0!==r.onRecoverableError&&(s=r.onRecoverableError)),t=qc(t,null,e,1,null!=r?r:null,i,0,o,s),e[pi]=t.current,qn(e),n)for(e=0;e<n.length;e++)i=(i=(r=n[e])._getVersion)(r._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new Qc(t)},t.render=function(e,t,r){if(!Xc(t))throw Error(a(200));return Zc(null,e,t,!1,r)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(a(40));return!!e._reactRootContainer&&(uc(function(){Zc(null,null,e,!1,function(){e._reactRootContainer=null,e[pi]=null})}),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Xc(r))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return Zc(e,t,r,!1,n)},t.version="18.3.1-next-f1338f8080-20240426"},345:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(8574);t.isArguments=function(e){return null!==e&&"object"===typeof e&&"[object Arguments]"===n.getTag(e)}},395:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isPrimitive=function(e){return null==e||"object"!==typeof e&&"function"!==typeof e}},564:e=>{function t(r){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},605:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>ChatHost});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(9643),_azure_msal_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(6141),_ChatHost_css__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(9196),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(6507);function readEnvSafe(viteKey,craKey){var _ref,_viteEnv$viteKey;let viteEnv={};try{viteEnv=eval("import.meta && import.meta.env")||{}}catch(_unused){viteEnv={}}const craEnv="undefined"!==typeof process&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_BASE:"http://localhost:4000",REACT_APP_API_BASE_URL:"http://localhost:3001/api"}||{};return null!==(_ref=null!==(_viteEnv$viteKey=viteEnv[viteKey])&&void 0!==_viteEnv$viteKey?_viteEnv$viteKey:craEnv[craKey])&&void 0!==_ref?_ref:""}const API_BASE_RAW=(readEnvSafe("VITE_API_BASE","REACT_APP_API_BASE")||"/api").trim(),API_BASE=API_BASE_RAW.replace(/\/+$/,""),IS_ABSOLUTE=/^https?:\/\//i.test(API_BASE),CREDENTIALS_MODE=IS_ABSOLUTE?"include":"same-origin";function apiUrl(e){return"".concat(API_BASE).concat(e.startsWith("/")?e:"/".concat(e))}const yesWords=new Set(["ya","iya","y","yaaa","ok","oke","baik","siap","betul","benar","yup","yaudah","silakan","lanjut"]),nowStr=()=>(new Date).toLocaleString(),DIVISION_OPTIONS=["IT & System","Business Development","Direksi","Engineering","Finance & Accounting","Human Capital","Legal","Marketing & Sales","Operation & Maintenance","Procurement & Logistic","Project","QHSE","Sekper","Warehouse","Umum"];async function createTicket(e){let{name:t,division:r="",description:n,photo:i}=e;const a="direksi"===String(r).trim().toLowerCase()?"Urgent":"Normal",o=new FormData;o.append("name",t||"User"),o.append("division",r||"Umum"),o.append("priority",a),o.append("description",n||""),o.append("desc",n||""),i&&o.append("photo",i);const s=apiUrl("/api/tickets"),l=await fetch(s,{method:"POST",body:o,credentials:CREDENTIALS_MODE}).catch(e=>{throw new Error("Network error: "+e.message)}),c=l.headers.get("content-type")||"",u=c.includes("application/json")?await l.json():{};if(!l.ok||!1===(null===u||void 0===u?void 0:u.ok)){if(!c.includes("application/json")){const e=(await l.text().catch(()=>"")).slice(0,120).replace(/\s+/g," ");throw new Error("Gagal membuat tiket (HTTP ".concat(l.status,"): ").concat(e))}throw new Error((null===u||void 0===u?void 0:u.error)||"Gagal membuat tiket (HTTP ".concat(l.status,")"))}return u}function readProfileFromMsal(e){const t=null===e||void 0===e?void 0:e[0],r=(null===t||void 0===t?void 0:t.idTokenClaims)||{},n=(null===t||void 0===t?void 0:t.name)||r.name||r.given_name||(null===t||void 0===t?void 0:t.username)||r.preferred_username||"User",i=r.department||r.division||r.jobTitle||"Umum";return{name:String(n),division:String(i)}}function HelpCTA(e){let{onClick:t}=e;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("div",{className:"help-cta",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("button",{className:"help-btn bounce",onClick:t,children:"\ud83c\udd98 Tolong"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("div",{className:"help-hint",children:"Klik / Ketuk tombol di atas untuk membuat tiket"})]})}function TypingDots(){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("span",{className:"typing","aria-label":"Sedang mengetik",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("i",{}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("i",{}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("i",{})]})}function SuccessBig(e){let{title:t="Berhasil",subtitle:r=""}=e;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("div",{className:"success-card pop-big",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("div",{className:"check-wrap",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("svg",{className:"check",viewBox:"0 0 52 52",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("circle",{className:"check__circle",cx:"26",cy:"26",r:"25",fill:"none"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("path",{className:"check__check",fill:"none",d:"M14 27l7 7 17-17"})]})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("div",{className:"success-title",children:t}),r&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("div",{className:"success-sub",children:r})]})}function RecapCard(e){let{name:t,complaint:r,division:n,datetime:i}=e;const a="direksi"===String(n).trim().toLowerCase()?"Urgent":"Normal";return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("div",{className:"recap card-pop enter-pop",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("div",{className:"recap-title",children:"Rekap Keluhan"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("div",{className:"recap-grid",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("div",{className:"k",children:"Nama"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("div",{className:"v",children:t||"-"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("div",{className:"k",children:"Divisi"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("div",{className:"v",children:n||"-"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("div",{className:"k",children:"Prioritas"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("div",{className:"v",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("b",{children:a})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("div",{className:"k",children:"Keluhan"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("div",{className:"v",children:["\u201c",r||"-","\u201d"]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("div",{className:"k",children:"Tanggal & Waktu"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("div",{className:"v",children:i})]})]})}function UploadAsk(e){let{onPick:t,hasPhoto:r}=e;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("div",{className:"upload-ask enter-pop",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("div",{children:"Silakan unggah foto kondisi keluhanmu ya."}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("button",{className:"pill-btn",onClick:t,children:r?"Ganti Foto":"Pilih Foto"})]})}function DivisionPicker(e){let{current:t,options:r,onPick:n}=e;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("div",{className:"division-picker card-pop enter-pop",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("div",{className:"division-picker-title",children:"Pilih Divisi"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("div",{className:"division-grid",children:Object.entries({"Teknologi & Sistem":["IT & System","Engineering","Operation & Maintenance","Project"],"Bisnis & Keuangan":["Business Development","Finance & Accounting","Marketing & Sales","Procurement & Logistic"],"Manajemen & Umum":["Direksi","Human Capital","Legal","QHSE","Sekper","Warehouse","Umum"]}).map(e=>{let[i,a]=e;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("div",{className:"division-group",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("div",{className:"division-group-title",children:i}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("div",{className:"division-options",children:a.filter(e=>r.includes(e)).map(e=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("button",{className:"division-option ".concat(e===t?"active":""),onClick:()=>n(e),children:e},e))})]},i)})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("div",{className:"division-note",children:["(Default: ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("b",{children:t||"Umum"})," \u2014 kamu bisa menggantinya di sini)"]})]})}function ChatHost(){var e;const{instance:t,accounts:r}=(0,_azure_msal_react__WEBPACK_IMPORTED_MODULE_1__.dk)(),n=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>{const e=null===r||void 0===r?void 0:r[0],t=(null===e||void 0===e?void 0:e.idTokenClaims)||{};return(null===e||void 0===e?void 0:e.name)||(null===t||void 0===t?void 0:t.name)||(null===t||void 0===t?void 0:t.preferred_username)||(null===e||void 0===e?void 0:e.username)||"User"},[r]),{name:i,division:a}=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>readProfileFromMsal(r),[r]),[o,s]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)("start"),[l,c]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]),[u,d]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(""),[h,f]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),[p,g]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(""),[m,v]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),[y,b]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),[_,x]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(a||"Umum"),[w,k]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),[E,C]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),A="done"===o,[T,S]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),O=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),P=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),I=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(!0);(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>()=>{I.current=!1},[]);const j=e=>{I.current&&c(t=>Array.isArray(t)?[...t,{side:"bot",jsx:e}]:[{side:"bot",jsx:e}])},M=e=>{I.current&&c(t=>Array.isArray(t)?[...t,{side:"user",jsx:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("span",{children:e})}]:[{side:"user",jsx:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("span",{children:e})}])},N=()=>{requestAnimationFrame(()=>{O.current&&(O.current.scrollTop=O.current.scrollHeight)})};function R(){f(!0),setTimeout(()=>{M("\ud83c\udd98 Tolong"),j((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("span",{className:"slide-up",children:"Siapkan detailnya ya. Silakan tulis keluhanmu."})),s("needComplaint"),f(!1),k(!0),C(null)},200)}(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(N,[l,h,T]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{c([]),f(!0),setTimeout(()=>{j((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("span",{className:"enter-pop",children:["Halo, ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("b",{children:n}),"! Aku siap membantumu \ud83d\ude0a"]})),j((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("div",{className:"fade-in",children:["Klik / ketuk tombol di bawah ini untuk menyampaikan keluhanmu.",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(HelpCTA,{onClick:R})]})),f(!1),s("start"),k(!1),C(null),N()},400)},[n]);const D=()=>{if(A)return;const e=u.trim();return e?(M(e),d(""),C(null),"start"===o?(f(!0),void setTimeout(()=>{j((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("span",{children:["Untuk membuat tiket, klik tombol ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("b",{children:"\ud83c\udd98 Tolong"})," ya."]})),f(!1)},250)):"needComplaint"===o?(g(e),f(!0),void setTimeout(()=>{j((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("span",{children:["Oke, keluhan kamu: ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("b",{children:e}),". Apakah itu saja? Ketik ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("b",{children:'"ya"'})," untuk konfirmasi atau ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("b",{children:'"tidak"'})," untuk menambahkan."]})),s("confirmComplaint"),f(!1)},250)):void("confirmComplaint"!==o||(yesWords.has(e.toLowerCase())?(f(!0),setTimeout(()=>{j((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(DivisionPicker,{current:_,options:DIVISION_OPTIONS,onPick:e=>{x(e),M(e),f(!0),setTimeout(()=>{j((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(RecapCard,{name:n,complaint:p,division:e,datetime:nowStr()})),j((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(UploadAsk,{onPick:()=>{var e;return null===(e=P.current)||void 0===e?void 0:e.click()},hasPhoto:!!m})),s("needPhoto"),f(!1)},200)}})),s("needDivision"),f(!1)},250)):(f(!0),setTimeout(()=>{j((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("span",{children:"Oke, silakan tambahkan keluhanmu."})),s("needComplaint"),f(!1)},250))))):void 0};return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("div",{className:"chat-root",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("div",{className:"chat-header glass",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("div",{className:"chat-peer",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("div",{className:"avatar pop",children:(null===n||void 0===n||null===(e=n[0])||void 0===e?void 0:e.toUpperCase())||"U"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("div",{className:"peer-info",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("div",{className:"peer-name",children:"Helpdesk Chatbot"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("div",{className:"peer-sub",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("span",{className:"dot pulse"})," online"]})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("div",{className:"header-right",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("div",{className:"user-mini",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("span",{className:"user-name",title:"".concat(i," \xb7 ").concat(_),children:i}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("span",{className:"user-division",children:_})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("button",{className:"logout-btn",onClick:async()=>{try{await t.logoutRedirect({postLogoutRedirectUri:window.location.origin})}catch(e){await t.logoutPopup({postLogoutRedirectUri:window.location.origin})}},"aria-label":"Logout",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("svg",{width:"18",height:"18",viewBox:"0 0 24 24","aria-hidden":"true",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("path",{d:"M16 17l5-5-5-5v3H9v4h7v3zM4 5h8V3H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8v-2H4V5z"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("span",{children:"Logout"})]})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("div",{className:"chat-body",ref:O,children:[l.map((e,t)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("div",{className:"row ".concat(e.side," enter"),children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("div",{className:"bubble ".concat("user"===e.side?"me":"bot"," enter-pop"),children:e.jsx})},t)),h&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("div",{className:"row bot enter",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("div",{className:"bubble bot",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(TypingDots,{})})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("input",{ref:P,type:"file",accept:"image/*",onChange:e=>{var t;const r=null===(t=e.target.files)||void 0===t?void 0:t[0];if(!r)return;if(r.size>5242880)return void C("Ukuran file terlalu besar. Maksimal 5MB.");if(!r.type.startsWith("image/"))return void C("Hanya file gambar yang diizinkan.");v(r),C(null);const n=URL.createObjectURL(r);j((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("div",{className:"img-preview fade-in",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("img",{src:n,alt:"lampiran",onLoad:()=>URL.revokeObjectURL(n)}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("div",{className:"img-caption",children:["Foto diterima: ",r.name]})]})),S(!0)},style:{display:"none"}})]}),T&&!A&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("div",{className:"confirm-sticky slide-up",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("button",{className:"confirm-btn",onClick:async function(){if(m&&!y&&!A)try{var e,t;b(!0),C(null),j((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(TypingDots,{}));const r=await createTicket({name:i,division:_,description:p,photo:m});b(!1),c(e=>{var t,r,n;const i=e.slice();return i.length&&"TypingDots"===String((null===(t=i[i.length-1])||void 0===t||null===(r=t.jsx)||void 0===r||null===(n=r.type)||void 0===n?void 0:n.name)||"")&&i.pop(),i}),S(!1),s("done"),j((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(SuccessBig,{title:"Tiket Berhasil Dibuat",subtitle:"Nomor tiket: ".concat(null!==(e=null!==(t=null===r||void 0===r?void 0:r.ticketId)&&void 0!==t?t:null===r||void 0===r?void 0:r.itemId)&&void 0!==e?e:"-")})),j((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("span",{className:"enter-pop",children:["Terima kasih telah menggunakan ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("b",{children:"IT Helpdesk"}),". Tim IT WKI akan segera menghubungimu. \ud83d\ude4c"]}))}catch(r){b(!1),C(r.message),c(e=>{var t,r,n;const i=e.slice();return i.length&&"TypingDots"===String((null===(t=i[i.length-1])||void 0===t||null===(r=t.jsx)||void 0===r||null===(n=r.type)||void 0===n?void 0:n.name)||"")&&i.pop(),i}),j((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("div",{className:"error-message",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("strong",{children:"Gagal membuat tiket:"})," ",String((null===r||void 0===r?void 0:r.message)||"Terjadi kesalahan tidak terduga"),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("div",{style:{marginTop:"8px",fontSize:"12px"},children:"Silakan hubungi IT support langsung atau coba lagi nanti."})]}))}},disabled:y,"aria-disabled":y,children:y?"Mengirim\u2026":"Konfirmasi & Buat Tiket"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("div",{className:"chat-inputbar ".concat(!w||A?"hidden":""),children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("textarea",{rows:1,value:u,onChange:e=>d(e.target.value),onKeyDown:e=>{!A&&w&&("Enter"!==e.key||e.shiftKey||(e.preventDefault(),D()))},disabled:A||!w,placeholder:A?"Sesi selesai. Terima kasih \ud83d\ude4f":"Tulis pesan\u2026 (Enter untuk kirim)","aria-label":"Ketik pesan"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("button",{className:"send-btn",onClick:D,"aria-label":"Kirim",disabled:A||!w||!u.trim(),children:"Kirim"})]})]})}},654:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isObject=function(e){return null!==e&&("object"===typeof e||"function"===typeof e)}},755:(e,t,r)=>{"use strict";e.exports=r(5293)},871:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.identity=function(e){return e}},892:(e,t,r)=>{e.exports=r(3781).last},1100:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(7813),i=r(9243),a=r(9212);t.orderBy=function(e,t,r,o){if(null==e)return[];r=o?void 0:r,Array.isArray(e)||(e=Object.values(e)),Array.isArray(t)||(t=null==t?[null]:[t]),0===t.length&&(t=[null]),Array.isArray(r)||(r=null==r?[]:[r]),r=r.map(e=>String(e));const s=(e,t)=>{let r=e;for(let n=0;n<t.length&&null!=r;++n)r=r[t[n]];return r},l=t.map(e=>(Array.isArray(e)&&1===e.length&&(e=e[0]),null==e||"function"===typeof e||Array.isArray(e)||i.isKey(e)?e:{key:e,path:a.toPath(e)}));return e.map(e=>({original:e,criteria:l.map(t=>((e,t)=>null==t||null==e?t:"object"===typeof e&&"key"in e?Object.hasOwn(t,e.key)?t[e.key]:s(t,e.path):"function"===typeof e?e(t):Array.isArray(e)?s(t,e):"object"===typeof t?t[e]:t)(t,e))})).slice().sort((e,t)=>{for(let i=0;i<l.length;i++){const a=n.compareValues(e.criteria[i],t.criteria[i],r[i]);if(0!==a)return a}return 0}).map(e=>e.original)}},1102:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>TicketEntry});var C_laragon_www_Inventory_Stock_WK_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7405),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(9643),_azure_msal_react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(6141),_context_ThemeContext__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(3590),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(6507);function readEnvSafe(viteKey,craKey){var _ref,_viteEnv$viteKey;let viteEnv={};try{viteEnv=eval("import.meta && import.meta.env")||{}}catch(_){viteEnv={}}const craEnv="undefined"!==typeof process&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_BASE:"http://localhost:4000",REACT_APP_API_BASE_URL:"http://localhost:3001/api"}||{};return null!==(_ref=null!==(_viteEnv$viteKey=viteEnv[viteKey])&&void 0!==_viteEnv$viteKey?_viteEnv$viteKey:craEnv[craKey])&&void 0!==_ref?_ref:""}const API_BASE_RAW=(readEnvSafe("VITE_API_BASE","REACT_APP_API_BASE")||"/api").trim(),API_BASE=API_BASE_RAW.replace(/\/+$/,""),USE_INCLUDE=/^https?:\/\//i.test(API_BASE),CREDENTIALS_MODE=USE_INCLUDE?"include":"same-origin";function fullUrl(e){return"".concat(API_BASE).concat(e.startsWith("/")?e:"/".concat(e))}async function apiGet(e){const t=fullUrl(e),r=await fetch(t,{credentials:CREDENTIALS_MODE}).catch(e=>{throw new Error("Network error: "+e.message)});if(!(r.headers.get("content-type")||"").includes("application/json")){const e=(await r.text().catch(()=>"")).slice(0,120).replace(/\s+/g," ");throw new Error("Server mengirim non-JSON (".concat(r.status,"): ").concat(e))}const n=await r.json();if(!r.ok||!1===(null===n||void 0===n?void 0:n.ok))throw new Error((null===n||void 0===n?void 0:n.error)||"HTTP ".concat(r.status));return n}async function apiPost(e,t){const r=fullUrl(e),n=await fetch(r,{method:"POST",headers:{"Content-Type":"application/json"},credentials:CREDENTIALS_MODE,body:JSON.stringify(t||{})}).catch(e=>{throw new Error("Network error: "+e.message)}),i=(n.headers.get("content-type")||"").includes("application/json")?await n.json():{};if(!n.ok||!1===(null===i||void 0===i?void 0:i.ok))throw new Error((null===i||void 0===i?void 0:i.error)||"HTTP ".concat(n.status));return i}async function apiPostForm(e,t){const r=fullUrl(e),n=await fetch(r,{method:"POST",body:t,credentials:CREDENTIALS_MODE}).catch(e=>{throw new Error("Network error: "+e.message)}),i=(n.headers.get("content-type")||"").includes("application/json")?await n.json():{ok:n.ok};if(!n.ok||!1===(null===i||void 0===i?void 0:i.ok))throw new Error((null===i||void 0===i?void 0:i.error)||"HTTP ".concat(n.status));return i}async function apiDelete(e){const t=fullUrl(e),r=await fetch(t,{method:"DELETE",credentials:CREDENTIALS_MODE}).catch(e=>{throw new Error("Network error: "+e.message)}),n=(r.headers.get("content-type")||"").includes("application/json")?await r.json():{ok:r.ok};if(!r.ok||!1===(null===n||void 0===n?void 0:n.ok))throw new Error((null===n||void 0===n?void 0:n.error)||"HTTP ".concat(r.status));return n}function TicketEntry(){var e,t;const{dark:r}=(0,_context_ThemeContext__WEBPACK_IMPORTED_MODULE_3__.D)(),{accounts:n}=(0,_azure_msal_react__WEBPACK_IMPORTED_MODULE_2__.dk)(),i=null===n||void 0===n?void 0:n[0],a=(null===i||void 0===i?void 0:i.name)||(null===i||void 0===i||null===(e=i.idTokenClaims)||void 0===e?void 0:e.name)||(null===i||void 0===i||null===(t=i.idTokenClaims)||void 0===t?void 0:t.preferred_username)||(null===i||void 0===i?void 0:i.username)||"Admin",[o,s]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]),[l,c]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]),[u,d]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(""),[h,f]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!0),[p,g]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(""),[m,v]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(""),[y,b]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null),[_,x]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null),[w,k]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null),[E,C]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({total:0,urgent:0,high:0}),A=(0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async()=>{f(!0),g(""),v("");try{const e=((await apiGet("/api/tickets?status=Belum")).rows||[]).map(normalizeRow);s(e);const t=e.filter(e=>{var t;return null===(t=e.prioritas)||void 0===t?void 0:t.toLowerCase().includes("urgent")}).length,r=e.filter(e=>{var t;return null===(t=e.prioritas)||void 0===t?void 0:t.toLowerCase().includes("high")}).length;C({total:e.length,urgent:t,high:r,normal:e.length-t-r}),localStorage.setItem("helpdesk_demo_tickets",JSON.stringify(e))}catch(e){g(e.message||String(e));const t=localStorage.getItem("helpdesk_demo_tickets"),r=t?JSON.parse(t):sampleRows();s(r);const n=r.filter(e=>{var t;return null===(t=e.prioritas)||void 0===t?void 0:t.toLowerCase().includes("urgent")}).length,i=r.filter(e=>{var t;return null===(t=e.prioritas)||void 0===t?void 0:t.toLowerCase().includes("high")}).length;C({total:r.length,urgent:n,high:i,normal:r.length-n-i})}finally{f(!1)}},[]);return(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{A()},[A]),(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{const e=(u||"").toLowerCase().trim();if(!e)return c(o);c(o.filter(t=>[t.ticketNo,t.userRequestor,t.pelaksana,t.divisi,t.prioritas,t.deskripsi].join(" ").toLowerCase().includes(e)))},[u,o]),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"min-h-screen p-6 ".concat(r?"dark bg-gray-900 text-white":"bg-gray-100 text-gray-900"),children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"rounded-xl p-6 mb-6 ".concat(r?"bg-gray-800":"bg-white"," shadow-lg"),children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-6",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("h2",{className:"text-2xl font-bold text-[#215ba6] dark:text-blue-400 mb-2",children:["Ticket Entry ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"text-gray-500 dark:text-gray-300",children:"(Belum)"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("i",{children:"Sumber data:"})," ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("code",{className:"px-2 py-1 rounded ".concat(r?"bg-gray-700":"bg-gray-100"),children:fullUrl("/api/tickets?status=Belum")})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"flex gap-3 mt-4 md:mt-0",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(StatCard,{title:"Total",value:E.total,color:"blue",darkMode:r}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(StatCard,{title:"Urgent",value:E.urgent,color:"red",darkMode:r}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(StatCard,{title:"High",value:E.high,color:"orange",darkMode:r})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"flex-1",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"relative",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("input",{value:u,onChange:e=>d(e.target.value),placeholder:"Cari: no tiket, user, divisi, keluhan\u2026",className:"w-full px-4 py-3 rounded-lg border ".concat(r?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"border-gray-300 placeholder-gray-500"," focus:outline-none focus:ring-2 focus:ring-blue-500")}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"absolute right-3 top-3 text-gray-400",children:"\ud83d\udd0d"})]})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"flex gap-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("button",{onClick:A,className:"px-4 py-3 rounded-lg font-medium flex items-center ".concat(h?"bg-gray-400 cursor-not-allowed":"bg-indigo-600 hover:bg-indigo-700"," text-white"),disabled:h,children:h?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"animate-spin mr-2",children:"\u23f3"}),"Loading\u2026"]}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"mr-2",children:"\ud83d\udd04"}),"Reload"]})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("button",{onClick:function(){const e=l.map(e=>"\n      <tr>\n        <td>".concat(esc(e.ticketNo||"-"),"</td>\n        <td>").concat(e.waktu,"</td>\n        <td>").concat(esc(e.userRequestor),"</td>\n        <td>").concat(esc(e.pelaksana||"-"),"</td>\n        <td>").concat(esc(e.divisi),"</td>\n        <td>").concat(esc(e.prioritas),"</td>\n        <td>").concat(esc(e.deskripsi||""),"</td>\n      </tr>")).join(""),t="<!doctype html><html><head>".concat('\n      <meta charset="utf-8"/>\n      <title>Ticket Entry (Belum)</title>\n      <style>\n        @page { size: A4 landscape; margin: 12mm; }\n        body { font: 12px/1.45 system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif; color:#000; }\n        h1 { margin:0 0 8px; font-size:18px; }\n        table { width:100%; border-collapse:collapse; border:1.5pt solid #000; }\n        th,td { border:0.9pt solid #000; padding:6px 8px; vertical-align:top; }\n        thead th { background:#f3f4f6; text-align:left; }\n      </style>',"</head><body>\n      <h1>Ticket Entry (Belum)</h1>\n      <table>\n        <thead><tr>\n          <th>No. Ticket</th><th>Waktu</th><th>User Requestor</th><th>Pelaksana</th>\n          <th>Divisi</th><th>Prioritas</th><th>Keluhan</th>\n        </tr></thead>\n        <tbody>").concat(e,"</tbody>\n      </table>\n      <script>onload=()=>{print();setTimeout(()=>close(),300)}<\/script>\n    </body></html>"),r=window.open("","_blank","noopener,noreferrer");r.document.open(),r.document.write(t),r.document.close()},className:"px-4 py-3 rounded-lg border font-medium flex items-center ".concat(r?"border-gray-600 hover:bg-gray-700":"border-gray-300 hover:bg-gray-50"),children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"mr-2",children:"\ud83d\udda8\ufe0f"}),"Print"]})]})]})]}),p&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(Banner,{type:"error",onClose:()=>g(""),darkMode:r,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("b",{children:"Error:"})," ",p]}),m&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Banner,{type:"ok",onClose:()=>v(""),darkMode:r,children:m}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"text-sm mb-4 px-2 ".concat(r?"text-gray-400":"text-gray-600"),children:["Menampilkan: ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("b",{children:l.length})," dari ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("b",{children:o.length})," tiket",u&&' untuk pencarian "'.concat(u,'"')]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"rounded-2xl p-6 shadow-lg ".concat(r?"bg-gray-800":"bg-white"),children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"overflow-x-auto rounded-xl",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("table",{className:"min-w-full w-full text-base",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("thead",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("tr",{className:"text-lg ".concat(r?"bg-gray-700 text-gray-100":"bg-blue-50 text-blue-900"),children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Th,{className:"w-28",children:"No. Ticket"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Th,{className:"w-44",children:"Waktu"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Th,{className:"w-56",children:"User Requestor"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Th,{className:"w-56",children:"Pelaksana"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Th,{className:"w-40",children:"Divisi"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Th,{className:"w-32",children:"Prioritas"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Th,{children:"Keluhan"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Th,{className:"w-28",children:"Lampiran"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Th,{className:"w-64 text-right",children:"Aksi"})]})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("tbody",{children:h?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("tr",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("td",{colSpan:9,className:"px-5 py-10 text-center text-gray-400",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"flex flex-col items-center",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mb-2"}),"Loading data\u2026"]})})}):0===l.length?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("tr",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("td",{colSpan:9,className:"px-5 py-10 text-center text-gray-400",children:0===o.length?"Tidak ada tiket.":'Tidak ditemukan tiket untuk "'.concat(u,'"')})}):l.map((e,t)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Row,{r:(0,C_laragon_www_Inventory_Stock_WK_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__.A)((0,C_laragon_www_Inventory_Stock_WK_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__.A)({},e),{},{pelaksana:e.pelaksana||a}),onOpenResolve:()=>b(e),onOpenDecline:()=>x(e),onOpenDelete:()=>k(e),zebra:t%2===1,darkMode:r},e.id))})]})})}),y&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(ResolveModal,{row:y,onClose:()=>b(null),onSubmit:async function(e,t,r){try{const n=new FormData;t&&n.append("photo",t,t.name),r&&n.append("notes",r),n.append("operator",a);const i=await apiPostForm("/api/tickets/".concat(e,"/resolve"),n);v("Ticket ".concat(i.ticketId?"(".concat(i.ticketId,")"):"#".concat(e)," dikonfirmasi selesai.")),b(null),await A()}catch(n){g(n.message||String(n))}},darkMode:r}),_&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(DeclineModal,{row:_,onClose:()=>x(null),onSubmit:async function(e,t){try{const r=await apiPost("/api/tickets/".concat(e,"/decline"),{notes:t,operator:a});v("Ticket ".concat(r.ticketId?"(".concat(r.ticketId,")"):"#".concat(e)," ditolak & user diberi email.")),x(null),await A()}catch(r){g(r.message||String(r))}},darkMode:r}),w&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(DeleteConfirm,{row:w,onClose:()=>k(null),onSubmit:async function(e){try{const t=await apiDelete("/api/tickets/".concat(e));v("Ticket ".concat(t.ticketId?"(".concat(t.ticketId,")"):"#".concat(e)," dihapus.")),k(null),await A()}catch(t){g(t.message||String(t))}},darkMode:r})]})}function Th(e){let{children:t,className:r=""}=e;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("th",{className:"px-5 py-4 font-semibold text-xs uppercase tracking-wide ".concat(r),children:t})}function Td(e){let{children:t,className:r=""}=e;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("td",{className:"px-5 py-3 align-top ".concat(r),children:t})}function StatCard(e){let{title:t,value:r,color:n,darkMode:i}=e;const a={blue:{bg:"bg-blue-100",text:"text-blue-600",darkBg:"bg-blue-900/20",darkText:"text-blue-400"},red:{bg:"bg-red-100",text:"text-red-600",darkBg:"bg-red-900/20",darkText:"text-red-400"},orange:{bg:"bg-orange-100",text:"text-orange-600",darkBg:"bg-orange-900/20",darkText:"text-orange-400"},green:{bg:"bg-green-100",text:"text-green-600",darkBg:"bg-green-900/20",darkText:"text-green-400"}};return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"p-3 rounded-lg text-center min-w-[80px] ".concat(i?a[n].darkBg:a[n].bg),children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"text-2xl font-bold ".concat(i?a[n].darkText:a[n].text),children:r}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"text-xs ".concat(i?"text-gray-400":"text-gray-600"),children:t})]})}function Row(e){let{r:t,onOpenResolve:r,onOpenDecline:n,onOpenDelete:i,zebra:a,darkMode:o}=e;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("tr",{className:"".concat(a?o?"bg-gray-700/50":"bg-blue-50/60":""," hover:").concat(o?"bg-gray-700":"bg-gray-50"," transition-colors"),children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Td,{className:"font-medium",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"px-3 py-1 rounded-full text-xs font-bold ".concat(o?"bg-gray-700 text-blue-300":"bg-blue-100 text-blue-700"),children:t.ticketNo||"-"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Td,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"text-sm ".concat(o?"text-gray-300":"text-gray-600"),children:t.waktu})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Td,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"flex items-center gap-3",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Avatar,{name:t.userRequestor}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"leading-tight",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"font-medium ".concat(o?"text-white":"text-gray-900"),children:t.userRequestor||"-"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:t.email||""})]})]})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Td,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Chip,{darkMode:o,className:"bg-orange-100 dark:bg-orange-900/30 text-orange-800 dark:text-orange-200",children:t.pelaksana||"-"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Td,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Chip,{darkMode:o,children:t.divisi||"-"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Td,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(PriorityChip,{value:t.prioritas,darkMode:o})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Td,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"max-w-[400px] whitespace-pre-wrap text-sm ".concat(o?"text-gray-300":"text-gray-700"),children:t.deskripsi||"-"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Td,{children:t.photoUrl?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("a",{href:t.photoUrl,target:"_blank",rel:"noreferrer",className:"inline-flex items-center px-2 py-1 rounded text-sm bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 hover:underline",children:"\ud83d\udcce Lihat"}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"text-gray-400 text-sm",children:"-"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Td,{className:"text-right",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2 justify-end",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(ActionButton,{onClick:r,color:"green",icon:"\u2705",label:"Selesai",darkMode:o}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(ActionButton,{onClick:n,color:"yellow",icon:"\u274c",label:"Tolak",darkMode:o}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(ActionButton,{onClick:i,color:"red",icon:"\ud83d\uddd1\ufe0f",label:"Hapus",darkMode:o})]})})]})}function ActionButton(e){let{onClick:t,color:r,icon:n,label:i,darkMode:a}=e;const o={green:{light:"bg-green-500 hover:bg-green-600",dark:"bg-green-600 hover:bg-green-700"},yellow:{light:"bg-yellow-500 hover:bg-yellow-600",dark:"bg-yellow-600 hover:bg-yellow-700"},red:{light:"bg-red-500 hover:bg-red-600",dark:"bg-red-600 hover:bg-red-700"}};return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("button",{onClick:t,className:"px-3 py-2 rounded text-white text-sm font-medium flex items-center ".concat(a?o[r].dark:o[r].light," transition-colors"),children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"mr-1",children:n}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"hidden sm:inline",children:i})]})}function Avatar(e){let{name:t=""}=e;const r=(0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{var e,r;const n=String(t).trim().split(/\s+/);return((null===(e=n[0])||void 0===e?void 0:e[0])||"?")+((null===(r=n[1])||void 0===r?void 0:r[0])||"")},[t]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-indigo-500 to-purple-500 text-white flex items-center justify-center text-xs font-bold shadow",children:r.toUpperCase()})}function Chip(e){let{children:t,darkMode:r=!1,className:n=""}=e;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs ".concat(n," ").concat(r?"bg-gray-700 text-gray-300":"bg-gray-100 text-gray-700"),children:t})}function PriorityChip(e){let{value:t="",darkMode:r=!1}=e;const n=String(t||"").toLowerCase(),i=n.includes("urgent")?r?"bg-red-800 text-red-100":"bg-red-200 text-red-900":n.includes("high")?r?"bg-orange-800 text-orange-100":"bg-orange-200 text-orange-900":n.includes("low")?r?"bg-green-800 text-green-100":"bg-green-200 text-green-900":r?"bg-yellow-800 text-yellow-100":"bg-yellow-200 text-yellow-900";return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"inline-flex px-2 py-1 rounded text-xs font-medium ".concat(i),children:t||"-"})}function Banner(e){let{type:t="ok",children:r,onClose:n,darkMode:i=!1}=e;const a="error"===t?i?"bg-red-900 text-red-100 border-red-700":"bg-red-50 text-red-800 border-red-200":i?"bg-emerald-900 text-emerald-100 border-emerald-700":"bg-emerald-50 text-emerald-800 border-emerald-200";return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"px-4 py-3 rounded-lg border ".concat(a," flex items-center justify-between mb-4"),children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"flex items-center",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"mr-3",children:"error"===t?"\u274c":"\u2705"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"text-sm",children:r})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("button",{onClick:n,className:"text-sm underline hover:no-underline",children:"Tutup"})]})}function ResolveModal(e){let{row:t,onClose:r,onSubmit:n,darkMode:i=!1}=e;const[a,o]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(""),[s,l]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null),[c,u]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!1);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(Modal,{title:"Konfirmasi Selesai - ".concat(t.ticketNo||"#".concat(t.id)),onClose:r,darkMode:i,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("p",{className:"text-sm ".concat(i?"text-gray-300":"text-gray-600"," mb-4"),children:["Tandai tiket sebagai ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("b",{children:"selesai"}),". Tambahkan foto/catatan (opsional)."]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"space-y-4",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(i?"text-gray-300":"text-gray-700"),children:"Lampirkan foto (opsional)"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{var t;return l((null===(t=e.target.files)||void 0===t?void 0:t[0])||null)},className:"block w-full text-sm file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(i?"text-gray-300":"text-gray-700"),children:"Catatan (opsional)"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("textarea",{value:a,onChange:e=>o(e.target.value),rows:3,className:"w-full px-3 py-2 rounded-lg border ".concat(i?"bg-gray-700 border-gray-600 text-white":"border-gray-300"," focus:outline-none focus:ring-2 focus:ring-blue-500"),placeholder:"Tambahkan catatan penyelesaian..."})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"mt-6 flex justify-end gap-3",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("button",{onClick:r,className:"px-4 py-2 rounded-lg border ".concat(i?"border-gray-600 hover:bg-gray-700 text-white":"border-gray-300 hover:bg-gray-50"),children:"Batal"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("button",{onClick:async function(){u(!0),await n(t.id,s,a),u(!1)},disabled:c,className:"px-4 py-2 rounded-lg bg-blue-600 hover:bg-blue-700 text-white font-medium disabled:opacity-50 flex items-center",children:c?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"animate-spin mr-2",children:"\u23f3"}),"Menyimpan\u2026"]}):"Konfirmasi Selesai"})]})]})}function DeclineModal(e){let{row:t,onClose:r,onSubmit:n,darkMode:i=!1}=e;const[a,o]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(""),[s,l]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!1),c=a.trim().length>=5;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(Modal,{title:"Tolak Tiket - ".concat(t.ticketNo||"#".concat(t.id)),onClose:r,darkMode:i,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("p",{className:"text-sm ".concat(i?"text-gray-300":"text-gray-600"," mb-4"),children:["Tuliskan ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("b",{children:"alasan penolakan"}),". Alasan ini akan dikirim ke email user."]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(i?"text-gray-300":"text-gray-700"),children:"Alasan penolakan *"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("textarea",{value:a,onChange:e=>o(e.target.value),rows:4,className:"w-full px-3 py-2 rounded-lg border ".concat(i?"bg-gray-700 border-gray-600 text-white":"border-gray-300"," focus:outline-none focus:ring-2 focus:ring-amber-500"),placeholder:"Minimal 5 karakter..."}),!c&&a.length>0&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"text-xs text-amber-600 dark:text-amber-400 mt-1",children:"Minimal 5 karakter diperlukan."})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"mt-6 flex justify-end gap-3",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("button",{onClick:r,className:"px-4 py-2 rounded-lg border ".concat(i?"border-gray-600 hover:bg-gray-700 text-white":"border-gray-300 hover:bg-gray-50"),children:"Batal"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("button",{onClick:async function(){l(!0),await n(t.id,a),l(!1)},disabled:!c||s,className:"px-4 py-2 rounded-lg bg-amber-600 hover:bg-amber-700 text-white font-medium disabled:opacity-50 flex items-center",children:s?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"animate-spin mr-2",children:"\u23f3"}),"Mengirim\u2026"]}):"Tolak & Kirim Email"})]})]})}function DeleteConfirm(e){let{row:t,onClose:r,onSubmit:n,darkMode:i=!1}=e;const[a,o]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!1);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(Modal,{title:"Hapus Tiket",onClose:r,darkMode:i,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("p",{className:"text-sm ".concat(i?"text-gray-300":"text-gray-700"," mb-6"),children:["Yakin ingin ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("b",{className:"text-red-600",children:"menghapus"})," tiket ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("b",{children:t.ticketNo||"#".concat(t.id)}),"?",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("br",{}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"text-xs",children:"Tindakan ini tidak dapat dibatalkan."})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("button",{onClick:r,className:"px-4 py-2 rounded-lg border ".concat(i?"border-gray-600 hover:bg-gray-700 text-white":"border-gray-300 hover:bg-gray-50"),children:"Batal"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("button",{onClick:async function(){o(!0),await n(t.id),o(!1)},disabled:a,className:"px-4 py-2 rounded-lg bg-red-600 hover:bg-red-700 text-white font-medium disabled:opacity-50 flex items-center",children:a?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"animate-spin mr-2",children:"\u23f3"}),"Menghapus\u2026"]}):"Hapus Tiket"})]})]})}function Modal(e){let{title:t,children:r,onClose:n,darkMode:i=!1}=e;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"absolute inset-0 bg-black/40",onClick:n}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"relative w-full max-w-md rounded-2xl shadow-2xl ".concat(i?"bg-gray-800 text-gray-100":"bg-white text-gray-900"),children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"px-6 py-4 border-b ".concat(i?"border-gray-700":"border-gray-200"," flex items-center justify-between"),children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("h3",{className:"font-semibold",children:t}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("button",{onClick:n,className:"p-1 rounded-full hover:".concat(i?"bg-gray-700":"bg-gray-100"),children:"\u2715"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"px-6 py-4",children:r})]})]})}function esc(e){return String(null!==e&&void 0!==e?e:"").replaceAll("&","&amp;").replaceAll("<","&lt;").replaceAll(">","&gt;")}function fmtWaktu(e){try{return new Date(e).toLocaleString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"})}catch(t){return e||"-"}}function normalizeRow(e){var t,r,n,i;const a=e.fields||e,o=a["Divisi/ Departemen"]||a.Division||a.Divisi||"Umum";let s=a.Prioritas||a.Priority||"Normal";return"direksi"===String(o).trim().toLowerCase()&&(s="Urgent"),{id:null!==(t=null!==(r=e.id)&&void 0!==r?r:a.id)&&void 0!==t?t:a.ID,ticketNo:a.TicketNumber||a["Ticket Number"]||e.TicketNumber||"",waktu:fmtWaktu(a.Created||e.createdDateTime||(new Date).toISOString()),userRequestor:(null===(n=a["User Requestor"])||void 0===n?void 0:n.displayName)||a.RequesterName||a.Nama||a.Title||"\u2014",email:(null===(i=a["User Requestor"])||void 0===i?void 0:i.email)||a.email||"",pelaksana:a.Pelaksana||e.Pelaksana||"",divisi:o,prioritas:s,deskripsi:a["Insiden/ Keluhan saat ini"]||a.Description||a.Deskripsi||e.Description||"",photoUrl:a["Screenshot Bukti Insiden/ Keluhan"]||a.PhotoUrl||e.PhotoUrl||"",status:a.Status||e.Status||"Belum"}}function sampleRows(){return[normalizeRow({id:1,TicketNumber:"TKT-001",fields:{Created:(new Date).toISOString(),Title:"Contoh User",Division:"Umum",Priority:"Normal",Description:"Keyboard tidak berfungsi.",Status:"Belum"}})]}},1241:(e,t,r)=>{"use strict";var n=r(9643),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,r){var n,a={},c=null,u=null;for(n in void 0!==r&&(c=""+r),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)o.call(t,n)&&!l.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===a[n]&&(a[n]=t[n]);return{$$typeof:i,type:e,key:c,ref:u,props:a,_owner:s.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},1258:function(e,t,r){var n;!function(){"use strict";var i,a=1e9,o={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},s=!0,l="[DecimalError] ",c=l+"Invalid argument: ",u=l+"Exponent out of range: ",d=Math.floor,h=Math.pow,f=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,p=1e7,g=9007199254740991,m=d(1286742750677284.5),v={};function y(e,t){var r,n,i,a,o,l,c,u,d=e.constructor,h=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),s?S(t,h):t;if(c=e.d,u=t.d,o=e.e,i=t.e,c=c.slice(),a=o-i){for(a<0?(n=c,a=-a,l=u.length):(n=u,i=o,l=c.length),a>(l=(o=Math.ceil(h/7))>l?o+1:l+1)&&(a=l,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for((l=c.length)-(a=u.length)<0&&(a=l,n=u,u=c,c=n),r=0;a;)r=(c[--a]=c[a]+u[a]+r)/p|0,c[a]%=p;for(r&&(c.unshift(r),++i),l=c.length;0==c[--l];)c.pop();return t.d=c,t.e=i,s?S(t,h):t}function b(e,t,r){if(e!==~~e||e<t||e>r)throw Error(c+e)}function _(e){var t,r,n,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)(r=7-(n=e[t]+"").length)&&(a+=C(r)),a+=n;(r=7-(n=(o=e[t])+"").length)&&(a+=C(r))}else if(0===o)return"0";for(;o%10===0;)o/=10;return a+o}v.absoluteValue=v.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},v.comparedTo=v.cmp=function(e){var t,r,n,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(t=0,r=(n=a.d.length)<(i=e.d.length)?n:i;t<r;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1},v.decimalPlaces=v.dp=function(){var e=this,t=e.d.length-1,r=7*(t-e.e);if(t=e.d[t])for(;t%10==0;t/=10)r--;return r<0?0:r},v.dividedBy=v.div=function(e){return x(this,new this.constructor(e))},v.dividedToIntegerBy=v.idiv=function(e){var t=this.constructor;return S(x(this,new t(e),0,1),t.precision)},v.equals=v.eq=function(e){return!this.cmp(e)},v.exponent=function(){return k(this)},v.greaterThan=v.gt=function(e){return this.cmp(e)>0},v.greaterThanOrEqualTo=v.gte=function(e){return this.cmp(e)>=0},v.isInteger=v.isint=function(){return this.e>this.d.length-2},v.isNegative=v.isneg=function(){return this.s<0},v.isPositive=v.ispos=function(){return this.s>0},v.isZero=function(){return 0===this.s},v.lessThan=v.lt=function(e){return this.cmp(e)<0},v.lessThanOrEqualTo=v.lte=function(e){return this.cmp(e)<1},v.logarithm=v.log=function(e){var t,r=this,n=r.constructor,a=n.precision,o=a+5;if(void 0===e)e=new n(10);else if((e=new n(e)).s<1||e.eq(i))throw Error(l+"NaN");if(r.s<1)throw Error(l+(r.s?"NaN":"-Infinity"));return r.eq(i)?new n(0):(s=!1,t=x(A(r,o),A(e,o),o),s=!0,S(t,a))},v.minus=v.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?O(t,e):y(t,(e.s=-e.s,e))},v.modulo=v.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(!(e=new n(e)).s)throw Error(l+"NaN");return r.s?(s=!1,t=x(r,e,0,1).times(e),s=!0,r.minus(t)):S(new n(r),i)},v.naturalExponential=v.exp=function(){return w(this)},v.naturalLogarithm=v.ln=function(){return A(this)},v.negated=v.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},v.plus=v.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?y(t,e):O(t,(e.s=-e.s,e))},v.precision=v.sd=function(e){var t,r,n,i=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(c+e);if(t=k(i)+1,r=7*(n=i.d.length-1)+1,n=i.d[n]){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r},v.squareRoot=v.sqrt=function(){var e,t,r,n,i,a,o,c=this,u=c.constructor;if(c.s<1){if(!c.s)return new u(0);throw Error(l+"NaN")}for(e=k(c),s=!1,0==(i=Math.sqrt(+c))||i==1/0?(((t=_(c.d)).length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=d((e+1)/2)-(e<0||e%2),n=new u(t=i==1/0?"5e"+e:(t=i.toExponential()).slice(0,t.indexOf("e")+1)+e)):n=new u(i.toString()),i=o=(r=u.precision)+3;;)if(n=(a=n).plus(x(c,a,o+2)).times(.5),_(a.d).slice(0,o)===(t=_(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&"4999"==t){if(S(a,r+1,0),a.times(a).eq(c)){n=a;break}}else if("9999"!=t)break;o+=4}return s=!0,S(n,r)},v.times=v.mul=function(e){var t,r,n,i,a,o,l,c,u,d=this,h=d.constructor,f=d.d,g=(e=new h(e)).d;if(!d.s||!e.s)return new h(0);for(e.s*=d.s,r=d.e+e.e,(c=f.length)<(u=g.length)&&(a=f,f=g,g=a,o=c,c=u,u=o),a=[],n=o=c+u;n--;)a.push(0);for(n=u;--n>=0;){for(t=0,i=c+n;i>n;)l=a[i]+g[n]*f[i-n-1]+t,a[i--]=l%p|0,t=l/p|0;a[i]=(a[i]+t)%p|0}for(;!a[--o];)a.pop();return t?++r:a.shift(),e.d=a,e.e=r,s?S(e,h.precision):e},v.toDecimalPlaces=v.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),void 0===e?r:(b(e,0,a),void 0===t?t=n.rounding:b(t,0,8),S(r,e+k(r)+1,t))},v.toExponential=function(e,t){var r,n=this,i=n.constructor;return void 0===e?r=P(n,!0):(b(e,0,a),void 0===t?t=i.rounding:b(t,0,8),r=P(n=S(new i(n),e+1,t),!0,e+1)),r},v.toFixed=function(e,t){var r,n,i=this,o=i.constructor;return void 0===e?P(i):(b(e,0,a),void 0===t?t=o.rounding:b(t,0,8),r=P((n=S(new o(i),e+k(i)+1,t)).abs(),!1,e+k(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)},v.toInteger=v.toint=function(){var e=this,t=e.constructor;return S(new t(e),k(e)+1,t.rounding)},v.toNumber=function(){return+this},v.toPower=v.pow=function(e){var t,r,n,a,o,c,u=this,h=u.constructor,f=+(e=new h(e));if(!e.s)return new h(i);if(!(u=new h(u)).s){if(e.s<1)throw Error(l+"Infinity");return u}if(u.eq(i))return u;if(n=h.precision,e.eq(i))return S(u,n);if(c=(t=e.e)>=(r=e.d.length-1),o=u.s,c){if((r=f<0?-f:f)<=g){for(a=new h(i),t=Math.ceil(n/7+4),s=!1;r%2&&I((a=a.times(u)).d,t),0!==(r=d(r/2));)I((u=u.times(u)).d,t);return s=!0,e.s<0?new h(i).div(a):S(a,n)}}else if(o<0)throw Error(l+"NaN");return o=o<0&&1&e.d[Math.max(t,r)]?-1:1,u.s=1,s=!1,a=e.times(A(u,n+12)),s=!0,(a=w(a)).s=o,a},v.toPrecision=function(e,t){var r,n,i=this,o=i.constructor;return void 0===e?n=P(i,(r=k(i))<=o.toExpNeg||r>=o.toExpPos):(b(e,1,a),void 0===t?t=o.rounding:b(t,0,8),n=P(i=S(new o(i),e,t),e<=(r=k(i))||r<=o.toExpNeg,e)),n},v.toSignificantDigits=v.tosd=function(e,t){var r=this.constructor;return void 0===e?(e=r.precision,t=r.rounding):(b(e,1,a),void 0===t?t=r.rounding:b(t,0,8)),S(new r(this),e,t)},v.toString=v.valueOf=v.val=v.toJSON=function(){var e=this,t=k(e),r=e.constructor;return P(e,t<=r.toExpNeg||t>=r.toExpPos)};var x=function(){function e(e,t){var r,n=0,i=e.length;for(e=e.slice();i--;)r=e[i]*t+n,e[i]=r%p|0,n=r/p|0;return n&&e.unshift(n),e}function t(e,t,r,n){var i,a;if(r!=n)a=r>n?1:-1;else for(i=a=0;i<r;i++)if(e[i]!=t[i]){a=e[i]>t[i]?1:-1;break}return a}function r(e,t,r){for(var n=0;r--;)e[r]-=n,n=e[r]<t[r]?1:0,e[r]=n*p+e[r]-t[r];for(;!e[0]&&e.length>1;)e.shift()}return function(n,i,a,o){var s,c,u,d,h,f,g,m,v,y,b,_,x,w,E,C,A,T,O=n.constructor,P=n.s==i.s?1:-1,I=n.d,j=i.d;if(!n.s)return new O(n);if(!i.s)throw Error(l+"Division by zero");for(c=n.e-i.e,A=j.length,E=I.length,m=(g=new O(P)).d=[],u=0;j[u]==(I[u]||0);)++u;if(j[u]>(I[u]||0)&&--c,(_=null==a?a=O.precision:o?a+(k(n)-k(i))+1:a)<0)return new O(0);if(_=_/7+2|0,u=0,1==A)for(d=0,j=j[0],_++;(u<E||d)&&_--;u++)x=d*p+(I[u]||0),m[u]=x/j|0,d=x%j|0;else{for((d=p/(j[0]+1)|0)>1&&(j=e(j,d),I=e(I,d),A=j.length,E=I.length),w=A,y=(v=I.slice(0,A)).length;y<A;)v[y++]=0;(T=j.slice()).unshift(0),C=j[0],j[1]>=p/2&&++C;do{d=0,(s=t(j,v,A,y))<0?(b=v[0],A!=y&&(b=b*p+(v[1]||0)),(d=b/C|0)>1?(d>=p&&(d=p-1),1==(s=t(h=e(j,d),v,f=h.length,y=v.length))&&(d--,r(h,A<f?T:j,f))):(0==d&&(s=d=1),h=j.slice()),(f=h.length)<y&&h.unshift(0),r(v,h,y),-1==s&&(s=t(j,v,A,y=v.length))<1&&(d++,r(v,A<y?T:j,y)),y=v.length):0===s&&(d++,v=[0]),m[u++]=d,s&&v[0]?v[y++]=I[w]||0:(v=[I[w]],y=1)}while((w++<E||void 0!==v[0])&&_--)}return m[0]||m.shift(),g.e=c,S(g,o?a+k(g)+1:a)}}();function w(e,t){var r,n,a,o,l,c=0,d=0,f=e.constructor,p=f.precision;if(k(e)>16)throw Error(u+k(e));if(!e.s)return new f(i);for(null==t?(s=!1,l=p):l=t,o=new f(.03125);e.abs().gte(.1);)e=e.times(o),d+=5;for(l+=Math.log(h(2,d))/Math.LN10*2+5|0,r=n=a=new f(i),f.precision=l;;){if(n=S(n.times(e),l),r=r.times(++c),_((o=a.plus(x(n,r,l))).d).slice(0,l)===_(a.d).slice(0,l)){for(;d--;)a=S(a.times(a),l);return f.precision=p,null==t?(s=!0,S(a,p)):a}a=o}}function k(e){for(var t=7*e.e,r=e.d[0];r>=10;r/=10)t++;return t}function E(e,t,r){if(t>e.LN10.sd())throw s=!0,r&&(e.precision=r),Error(l+"LN10 precision limit exceeded");return S(new e(e.LN10),t)}function C(e){for(var t="";e--;)t+="0";return t}function A(e,t){var r,n,a,o,c,u,d,h,f,p=1,g=e,m=g.d,v=g.constructor,y=v.precision;if(g.s<1)throw Error(l+(g.s?"NaN":"-Infinity"));if(g.eq(i))return new v(0);if(null==t?(s=!1,h=y):h=t,g.eq(10))return null==t&&(s=!0),E(v,h);if(h+=10,v.precision=h,n=(r=_(m)).charAt(0),o=k(g),!(Math.abs(o)<15e14))return d=E(v,h+2,y).times(o+""),g=A(new v(n+"."+r.slice(1)),h-10).plus(d),v.precision=y,null==t?(s=!0,S(g,y)):g;for(;n<7&&1!=n||1==n&&r.charAt(1)>3;)n=(r=_((g=g.times(e)).d)).charAt(0),p++;for(o=k(g),n>1?(g=new v("0."+r),o++):g=new v(n+"."+r.slice(1)),u=c=g=x(g.minus(i),g.plus(i),h),f=S(g.times(g),h),a=3;;){if(c=S(c.times(f),h),_((d=u.plus(x(c,new v(a),h))).d).slice(0,h)===_(u.d).slice(0,h))return u=u.times(2),0!==o&&(u=u.plus(E(v,h+2,y).times(o+""))),u=x(u,new v(p),h),v.precision=y,null==t?(s=!0,S(u,y)):u;u=d,a+=2}}function T(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;48===t.charCodeAt(n);)++n;for(i=t.length;48===t.charCodeAt(i-1);)--i;if(t=t.slice(n,i)){if(i-=n,r=r-n-1,e.e=d(r/7),e.d=[],n=(r+1)%7,r<0&&(n+=7),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=7;n<i;)e.d.push(+t.slice(n,n+=7));n=7-(t=t.slice(n)).length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),s&&(e.e>m||e.e<-m))throw Error(u+r)}else e.s=0,e.e=0,e.d=[0];return e}function S(e,t,r){var n,i,a,o,l,c,f,g,v=e.d;for(o=1,a=v[0];a>=10;a/=10)o++;if((n=t-o)<0)n+=7,i=t,f=v[g=0];else{if((g=Math.ceil((n+1)/7))>=(a=v.length))return e;for(f=a=v[g],o=1;a>=10;a/=10)o++;i=(n%=7)-7+o}if(void 0!==r&&(l=f/(a=h(10,o-i-1))%10|0,c=t<0||void 0!==v[g+1]||f%a,c=r<4?(l||c)&&(0==r||r==(e.s<0?3:2)):l>5||5==l&&(4==r||c||6==r&&(n>0?i>0?f/h(10,o-i):0:v[g-1])%10&1||r==(e.s<0?8:7))),t<1||!v[0])return c?(a=k(e),v.length=1,t=t-a-1,v[0]=h(10,(7-t%7)%7),e.e=d(-t/7)||0):(v.length=1,v[0]=e.e=e.s=0),e;if(0==n?(v.length=g,a=1,g--):(v.length=g+1,a=h(10,7-n),v[g]=i>0?(f/h(10,o-i)%h(10,i)|0)*a:0),c)for(;;){if(0==g){(v[0]+=a)==p&&(v[0]=1,++e.e);break}if(v[g]+=a,v[g]!=p)break;v[g--]=0,a=1}for(n=v.length;0===v[--n];)v.pop();if(s&&(e.e>m||e.e<-m))throw Error(u+k(e));return e}function O(e,t){var r,n,i,a,o,l,c,u,d,h,f=e.constructor,g=f.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new f(e),s?S(t,g):t;if(c=e.d,h=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n){for((d=o<0)?(r=c,o=-o,l=h.length):(r=h,n=u,l=c.length),o>(i=Math.max(Math.ceil(g/7),l)+2)&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for((d=(i=c.length)<(l=h.length))&&(l=i),i=0;i<l;i++)if(c[i]!=h[i]){d=c[i]<h[i];break}o=0}for(d&&(r=c,c=h,h=r,t.s=-t.s),l=c.length,i=h.length-l;i>0;--i)c[l++]=0;for(i=h.length;i>o;){if(c[--i]<h[i]){for(a=i;a&&0===c[--a];)c[a]=p-1;--c[a],c[i]+=p}c[i]-=h[i]}for(;0===c[--l];)c.pop();for(;0===c[0];c.shift())--n;return c[0]?(t.d=c,t.e=n,s?S(t,g):t):new f(0)}function P(e,t,r){var n,i=k(e),a=_(e.d),o=a.length;return t?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+C(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+C(-i-1)+a,r&&(n=r-o)>0&&(a+=C(n))):i>=o?(a+=C(i+1-o),r&&(n=r-i-1)>0&&(a=a+"."+C(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(a+="."),a+=C(n))),e.s<0?"-"+a:a}function I(e,t){if(e.length>t)return e.length=t,!0}function j(e){if(!e||"object"!==typeof e)throw Error(l+"Object expected");var t,r,n,i=["precision",1,a,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if(void 0!==(n=e[r=i[t]])){if(!(d(n)===n&&n>=i[t+1]&&n<=i[t+2]))throw Error(c+r+": "+n);this[r]=n}if(void 0!==(n=e[r="LN10"])){if(n!=Math.LN10)throw Error(c+r+": "+n);this[r]=new this(n)}return this}o=function e(t){var r,n,i;function a(e){var t=this;if(!(t instanceof a))return new a(e);if(t.constructor=a,e instanceof a)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"===typeof e){if(0*e!==0)throw Error(c+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):T(t,e.toString())}if("string"!==typeof e)throw Error(c+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!f.test(e))throw Error(c+e);T(t,e)}if(a.prototype=v,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=e,a.config=a.set=j,void 0===t&&(t={}),t)for(i=["precision","rounding","toExpNeg","toExpPos","LN10"],r=0;r<i.length;)t.hasOwnProperty(n=i[r++])||(t[n]=this[n]);return a.config(t),a}(o),o.default=o.Decimal=o,i=new o(1),void 0===(n=function(){return o}.call(t,r,t,e))||(e.exports=n)}()},1261:(e,t,r)=>{"use strict";e.exports=r(3498)},1277:(e,t,r)=>{"use strict";e.exports=r(3234)},1327:(e,t,r)=>{var n=r(564).default;e.exports=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},1460:(e,t,r)=>{e.exports=r(3150).throttle},1572:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(9882);t.toFinite=function(e){if(!e)return 0===e?e:0;if((e=n.toNumber(e))===1/0||e===-1/0){return(e<0?-1:1)*Number.MAX_VALUE}return e===e?e:0}},1755:(e,t,r)=>{e.exports=r(8503).range},1925:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(5526);t.debounce=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};"object"!==typeof r&&(r={});const{leading:i=!1,trailing:a=!0,maxWait:o}=r,s=Array(2);let l;i&&(s[0]="leading"),a&&(s[1]="trailing");let c=null;const u=n.debounce(function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];l=e.apply(this,r),c=null},t,{edges:s}),d=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return null!=o&&(null===c&&(c=Date.now()),Date.now()-c>=o)?(l=e.apply(this,r),c=Date.now(),u.cancel(),u.schedule(),l):(u.apply(this,r),l)};return d.cancel=u.cancel,d.flush=()=>(u.flush(),l),d}},2213:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(9876),i=r(5008),a=r(2772),o=r(3859),s=r(9535);t.matchesProperty=function(e,t){switch(typeof e){case"object":var r;Object.is(null===(r=e)||void 0===r?void 0:r.valueOf(),-0)&&(e="-0");break;case"number":e=i.toKey(e)}return t=a.cloneDeep(t),function(r){const i=o.get(r,e);return void 0===i?s.has(r,e):void 0===t?void 0===i:n.isMatch(i,t)}}},2463:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(7336),i=r(4139),a=r(654),o=r(7756);t.isIterateeCall=function(e,t,r){return!!a.isObject(r)&&(!!("number"===typeof t&&i.isArrayLike(r)&&n.isIndex(t)&&t<r.length||"string"===typeof t&&t in r)&&o.eq(r[t],e))}},2472:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.uniqBy=function(e,t){const r=new Map;for(let n=0;n<e.length;n++){const i=e[n],a=t(i);r.has(a)||r.set(a,i)}return Array.from(r.values())}},2514:(e,t,r)=>{"use strict";r.d(t,{dg:()=>i,jE:()=>a,xz:()=>n});const n="storage_not_supported",i="stubbed_public_client_application_called",a="in_mem_redirect_unavailable"},2772:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(3996);t.cloneDeep=function(e){return n.cloneDeepWith(e)}},3150:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(1925);t.throttle=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{leading:i=!0,trailing:a=!0}=r;return n.debounce(e,t,{leading:i,maxWait:t,trailing:a})}},3234:(e,t,r)=>{"use strict";var n=r(9643);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=n.useState,o=n.useEffect,s=n.useLayoutEffect,l=n.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!i(e,r)}catch(n){return!0}}var u="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),n=a({inst:{value:r,getSnapshot:t}}),i=n[0].inst,u=n[1];return s(function(){i.value=r,i.getSnapshot=t,c(i)&&u({inst:i})},[e,r,t]),o(function(){return c(i)&&u({inst:i}),e(function(){c(i)&&u({inst:i})})},[e]),l(r),r};t.useSyncExternalStore=void 0!==n.useSyncExternalStore?n.useSyncExternalStore:u},3288:(e,t)=>{"use strict";var r=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler");Symbol.for("react.provider");var s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.for("react.view_transition"),g=Symbol.for("react.client.reference");function m(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case i:case o:case a:case u:case d:case p:return e;default:switch(e=e&&e.$$typeof){case l:case c:case f:case h:case s:return e;default:return t}}case n:return t}}}t.zv=function(e){return m(e)===i}},3498:(e,t)=>{"use strict";function r(e,t){var r=e.length;e.push(t);e:for(;0<r;){var n=r-1>>>1,i=e[n];if(!(0<a(i,t)))break e;e[n]=t,e[r]=i,r=n}}function n(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,i=e.length,o=i>>>1;n<o;){var s=2*(n+1)-1,l=e[s],c=s+1,u=e[c];if(0>a(l,r))c<i&&0>a(u,l)?(e[n]=u,e[c]=r,n=c):(e[n]=l,e[s]=r,n=s);else{if(!(c<i&&0>a(u,r)))break e;e[n]=u,e[c]=r,n=c}}}return t}function a(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,g=!1,m=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function _(e){for(var t=n(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,r(c,t)}t=n(u)}}function x(e){if(m=!1,_(e),!g)if(null!==n(c))g=!0,M(w);else{var t=n(u);null!==t&&N(x,t.startTime-e)}}function w(e,r){g=!1,m&&(m=!1,y(A),A=-1),p=!0;var a=f;try{for(_(r),h=n(c);null!==h&&(!(h.expirationTime>r)||e&&!O());){var o=h.callback;if("function"===typeof o){h.callback=null,f=h.priorityLevel;var s=o(h.expirationTime<=r);r=t.unstable_now(),"function"===typeof s?h.callback=s:h===n(c)&&i(c),_(r)}else i(c);h=n(c)}if(null!==h)var l=!0;else{var d=n(u);null!==d&&N(x,d.startTime-r),l=!1}return l}finally{h=null,f=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,E=!1,C=null,A=-1,T=5,S=-1;function O(){return!(t.unstable_now()-S<T)}function P(){if(null!==C){var e=t.unstable_now();S=e;var r=!0;try{r=C(!0,e)}finally{r?k():(E=!1,C=null)}}else E=!1}if("function"===typeof b)k=function(){b(P)};else if("undefined"!==typeof MessageChannel){var I=new MessageChannel,j=I.port2;I.port1.onmessage=P,k=function(){j.postMessage(null)}}else k=function(){v(P,0)};function M(e){C=e,E||(E=!0,k())}function N(e,r){A=v(function(){e(t.unstable_now())},r)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,M(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var r=f;f=t;try{return e()}finally{f=r}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=f;f=e;try{return t()}finally{f=r}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,r(u,e),null===n(c)&&e===n(u)&&(m?(y(A),A=-1):m=!0,N(x,a-o))):(e.sortIndex=s,r(c,e),g||p||(g=!0,M(w))),e},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(e){var t=f;return function(){var r=f;f=t;try{return e.apply(this,arguments)}finally{f=r}}}},3590:(e,t,r)=>{"use strict";r.d(t,{D:()=>s,N:()=>o});var n=r(9643),i=r(6507);const a=(0,n.createContext)();function o(e){let{children:t}=e;const[r,o]=(0,n.useState)(()=>{const e=localStorage.getItem("theme");return e?"dark"===e:window.matchMedia("(prefers-color-scheme: dark)").matches});(0,n.useEffect)(()=>{console.log("ThemeContext: Theme changed to:",r?"dark":"light"),r?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},[r]);return(0,i.jsx)(a.Provider,{value:{dark:r,toggleDark:()=>{console.log("ThemeContext: Toggling dark mode"),o(!r)}},children:t})}function s(){const e=(0,n.useContext)(a);if(!e)throw new Error("useTheme must be used within a ThemeProvider");return e}},3766:(e,t,r)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=r(306)},3781:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(8928),i=r(5906),a=r(4139);t.last=function(e){if(a.isArrayLike(e))return n.last(i.toArray(e))}},3813:(e,t,r)=>{"use strict";var n=r(9643);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=n.useSyncExternalStore,o=n.useRef,s=n.useEffect,l=n.useMemo,c=n.useDebugValue},3859:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(3860),i=r(5649),a=r(5008),o=r(9212);t.get=function e(t,r,s){if(null==t)return s;switch(typeof r){case"string":{if(n.isUnsafeProperty(r))return s;const a=t[r];return void 0===a?i.isDeepKey(r)?e(t,o.toPath(r),s):s:a}case"number":case"symbol":{"number"===typeof r&&(r=a.toKey(r));const e=t[r];return void 0===e?s:e}default:{var l;if(Array.isArray(r))return function(e,t,r){if(0===t.length)return r;let i=e;for(let a=0;a<t.length;a++){if(null==i)return r;if(n.isUnsafeProperty(t[a]))return r;i=i[t[a]]}if(void 0===i)return r;return i}(t,r,s);if(r=Object.is(null===(l=r)||void 0===l?void 0:l.valueOf(),-0)?"-0":String(r),n.isUnsafeProperty(r))return s;const e=t[r];return void 0===e?s:e}}}},3860:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isUnsafeProperty=function(e){return"__proto__"===e}},3867:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function i(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==n(t)?t:t+""}function a(e,t,r){return(t=i(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,{A:()=>a})},3890:(e,t,r)=>{e.exports=r(3859).get},3996:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(6553),i=r(6071);t.cloneDeepWith=function(e,t){return n.cloneDeepWith(e,(r,a,o,s)=>{const l=null===t||void 0===t?void 0:t(r,a,o,s);if(void 0!==l)return l;if("object"===typeof e)switch(Object.prototype.toString.call(e)){case i.numberTag:case i.stringTag:case i.booleanTag:{const t=new e.constructor(null===e||void 0===e?void 0:e.valueOf());return n.copyProperties(t,e),t}case i.argumentsTag:{const t={};return n.copyProperties(t,e),t.length=e.length,t[Symbol.iterator]=e[Symbol.iterator],t}default:return}})}},4139:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(6831);t.isArrayLike=function(e){return null!=e&&"function"!==typeof e&&n.isLength(e.length)}},4736:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(4139),i=r(6313);t.isArrayLikeObject=function(e){return i.isObjectLike(e)&&n.isArrayLike(e)}},4810:(e,t,r)=>{"use strict";r.d(t,{$u:()=>y,Al:()=>s,CC:()=>l,Ct:()=>o,G8:()=>b,H3:()=>d,JE:()=>w,O2:()=>c,Q1:()=>i,T$:()=>p,V8:()=>a,WJ:()=>_,X8:()=>f,_p:()=>u,f7:()=>v,jb:()=>m,nN:()=>x,sA:()=>h,uq:()=>g});var n=r(203);const i={INVALID_GRANT_ERROR:"invalid_grant",POPUP_WIDTH:483,POPUP_HEIGHT:600,POPUP_NAME_PREFIX:"msal",DEFAULT_POLL_INTERVAL_MS:30,MSAL_SKU:"msal.js.browser"},a={CHANNEL_ID:"53ee284d-920a-4b59-9d30-a60315b26836",PREFERRED_EXTENSION_ID:"ppnbnpeolgkicgegkbkbjmhlideopiji",MATS_TELEMETRY:"MATS",MICROSOFT_ENTRA_BROKERID:"MicrosoftEntra",DOM_API_NAME:"DOM API",PLATFORM_DOM_APIS:"get-token-and-sign-out",PLATFORM_DOM_PROVIDER:"PlatformAuthDOMHandler",PLATFORM_EXTENSION_PROVIDER:"PlatformAuthExtensionHandler"},o={HandshakeRequest:"Handshake",HandshakeResponse:"HandshakeResponse",GetToken:"GetToken",Response:"Response"},s={LocalStorage:"localStorage",SessionStorage:"sessionStorage",MemoryStorage:"memoryStorage"},l={GET:"GET",POST:"POST"},c={SIGNIN:"signin",SIGNOUT:"signout"},u={ORIGIN_URI:"request.origin",URL_HASH:"urlHash",REQUEST_PARAMS:"request.params",VERIFIER:"code.verifier",INTERACTION_STATUS_KEY:"interaction.status",NATIVE_REQUEST:"request.native"},d={WRAPPER_SKU:"wrapper.sku",WRAPPER_VER:"wrapper.version"},h={acquireTokenRedirect:861,acquireTokenPopup:862,ssoSilent:863,acquireTokenSilent_authCode:864,handleRedirectPromise:865,acquireTokenByCode:866,acquireTokenSilent_silentFlow:61,logout:961,logoutPopup:962};var f;!function(e){e.Redirect="redirect",e.Popup="popup",e.Silent="silent",e.None="none"}(f||(f={}));const p={Startup:"startup",Login:"login",Logout:"logout",AcquireToken:"acquireToken",SsoSilent:"ssoSilent",HandleRedirect:"handleRedirect",None:"none"},g={scopes:n.aZ},m="jwk",v={React:"@azure/msal-react",Angular:"@azure/msal-angular"},y="msal.db",b=1,_="".concat(y,".keys"),x={Default:0,AccessToken:1,AccessTokenAndRefreshToken:2,RefreshToken:3,RefreshTokenAndNetwork:4,Skip:5},w=[x.Default,x.Skip,x.RefreshTokenAndNetwork]},4836:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(1100),i=r(6312),a=r(2463);t.sortBy=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];const s=r.length;return s>1&&a.isIterateeCall(e,r[0],r[1])?r=[]:s>2&&a.isIterateeCall(r[0],r[1],r[2])&&(r=[r[0]]),n.orderBy(e,i.flatten(r),["asc"])}},4970:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(3859);t.property=function(e){return function(t){return n.get(t,e)}}},5008:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.toKey=function(e){var t;return"string"===typeof e||"symbol"===typeof e?e:Object.is(null===e||void 0===e||null===(t=e.valueOf)||void 0===t?void 0:t.call(e),-0)?"-0":String(e)}},5293:(e,t,r)=>{"use strict";var n=r(9643),i=r(1277);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=i.useSyncExternalStore,s=n.useRef,l=n.useEffect,c=n.useMemo,u=n.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var d=s(null);if(null===d.current){var h={hasValue:!1,value:null};d.current=h}else h=d.current;d=c(function(){function e(e){if(!l){if(l=!0,o=e,e=n(e),void 0!==i&&h.hasValue){var t=h.value;if(i(t,e))return s=t}return s=e}if(t=s,a(o,e))return t;var r=n(e);return void 0!==i&&i(t,r)?(o=e,t):(o=e,s=r)}var o,s,l=!1,c=void 0===r?null:r;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]},[t,r,n,i]);var f=o(e,d[0],d[1]);return l(function(){h.hasValue=!0,h.value=f},[f]),u(f),f}},5498:(e,t,r)=>{var n=r(564).default,i=r(1327);e.exports=function(e){var t=i(e,"string");return"symbol"==n(t)?t:t+""},e.exports.__esModule=!0,e.exports.default=e.exports},5525:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isTypedArray=function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}},5526:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.debounce=function(e,t){let r,{signal:n,edges:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=null;const o=null!=i&&i.includes("leading"),s=null==i||i.includes("trailing"),l=()=>{null!==a&&(e.apply(r,a),r=void 0,a=null)};let c=null;const u=()=>{null!=c&&clearTimeout(c),c=setTimeout(()=>{c=null,s&&l(),d()},t)},d=()=>{null!==c&&(clearTimeout(c),c=null),r=void 0,a=null},h=function(){if(null!==n&&void 0!==n&&n.aborted)return;r=this;for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];a=t;const s=null==c;u(),o&&s&&l()};return h.schedule=u,h.cancel=d,h.flush=()=>{l()},null===n||void 0===n||n.addEventListener("abort",d,{once:!0}),h}},5649:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isDeepKey=function(e){switch(typeof e){case"number":case"symbol":return!1;case"string":return e.includes(".")||e.includes("[")||e.includes("]")}}},5707:(e,t,r)=>{var n=r(5498);e.exports=function(e,t,r){return(t=n(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},e.exports.__esModule=!0,e.exports.default=e.exports},5781:(e,t,r)=>{e.exports=r(4836).sortBy},5906:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.toArray=function(e){return Array.isArray(e)?e:Array.from(e)}},6071:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});t.argumentsTag="[object Arguments]",t.arrayBufferTag="[object ArrayBuffer]",t.arrayTag="[object Array]",t.bigInt64ArrayTag="[object BigInt64Array]",t.bigUint64ArrayTag="[object BigUint64Array]",t.booleanTag="[object Boolean]",t.dataViewTag="[object DataView]",t.dateTag="[object Date]",t.errorTag="[object Error]",t.float32ArrayTag="[object Float32Array]",t.float64ArrayTag="[object Float64Array]",t.functionTag="[object Function]",t.int16ArrayTag="[object Int16Array]",t.int32ArrayTag="[object Int32Array]",t.int8ArrayTag="[object Int8Array]",t.mapTag="[object Map]",t.numberTag="[object Number]",t.objectTag="[object Object]",t.regexpTag="[object RegExp]",t.setTag="[object Set]",t.stringTag="[object String]",t.symbolTag="[object Symbol]",t.uint16ArrayTag="[object Uint16Array]",t.uint32ArrayTag="[object Uint32Array]",t.uint8ArrayTag="[object Uint8Array]",t.uint8ClampedArrayTag="[object Uint8ClampedArray]"},6141:(e,t,r)=>{"use strict";r.d(t,{r7:()=>b,XI:()=>x,dk:()=>_});var n=r(9643),i=r(7624),a=r(2514);const o={initialize:()=>Promise.reject((0,i.jz)(a.dg)),acquireTokenPopup:()=>Promise.reject((0,i.jz)(a.dg)),acquireTokenRedirect:()=>Promise.reject((0,i.jz)(a.dg)),acquireTokenSilent:()=>Promise.reject((0,i.jz)(a.dg)),acquireTokenByCode:()=>Promise.reject((0,i.jz)(a.dg)),getAllAccounts:()=>[],getAccount:()=>null,getAccountByHomeId:()=>null,getAccountByUsername:()=>null,getAccountByLocalId:()=>null,handleRedirectPromise:()=>Promise.reject((0,i.jz)(a.dg)),loginPopup:()=>Promise.reject((0,i.jz)(a.dg)),loginRedirect:()=>Promise.reject((0,i.jz)(a.dg)),logout:()=>Promise.reject((0,i.jz)(a.dg)),logoutRedirect:()=>Promise.reject((0,i.jz)(a.dg)),logoutPopup:()=>Promise.reject((0,i.jz)(a.dg)),ssoSilent:()=>Promise.reject((0,i.jz)(a.dg)),addEventCallback:()=>null,removeEventCallback:()=>{},addPerformanceCallback:()=>"",removePerformanceCallback:()=>!1,enableAccountStorageEvents:()=>{},disableAccountStorageEvents:()=>{},getTokenCache:()=>{throw(0,i.jz)(a.dg)},getLogger:()=>{throw(0,i.jz)(a.dg)},setLogger:()=>{},setActiveAccount:()=>{},getActiveAccount:()=>null,initializeWrapperLibrary:()=>{},setNavigationClient:()=>{},getConfiguration:()=>{throw(0,i.jz)(a.dg)},hydrateCache:()=>Promise.reject((0,i.jz)(a.dg)),clearCache:()=>Promise.reject((0,i.jz)(a.dg))};var s=r(4810),l=r(229);const c={instance:o,inProgress:s.T$.None,accounts:[],logger:new l.V({})},u=n.createContext(c);u.Consumer;var d=r(7405),h=r(7204);class f{static getInteractionStatusFromEvent(e,t){switch(e.eventType){case h.B.LOGIN_START:return s.T$.Login;case h.B.SSO_SILENT_START:return s.T$.SsoSilent;case h.B.ACQUIRE_TOKEN_START:if(e.interactionType===s.X8.Redirect||e.interactionType===s.X8.Popup)return s.T$.AcquireToken;break;case h.B.HANDLE_REDIRECT_START:return s.T$.HandleRedirect;case h.B.LOGOUT_START:return s.T$.Logout;case h.B.SSO_SILENT_SUCCESS:case h.B.SSO_SILENT_FAILURE:if(t&&t!==s.T$.SsoSilent)break;return s.T$.None;case h.B.LOGOUT_END:if(t&&t!==s.T$.Logout)break;return s.T$.None;case h.B.HANDLE_REDIRECT_END:if(t&&t!==s.T$.HandleRedirect)break;return s.T$.None;case h.B.LOGIN_SUCCESS:case h.B.LOGIN_FAILURE:case h.B.ACQUIRE_TOKEN_SUCCESS:case h.B.ACQUIRE_TOKEN_FAILURE:case h.B.RESTORE_FROM_BFCACHE:if(e.interactionType===s.X8.Redirect||e.interactionType===s.X8.Popup){if(t&&t!==s.T$.Login&&t!==s.T$.AcquireToken)break;return s.T$.None}}return null}}function p(e,t){if(e.length!==t.length)return!1;const r=[...t];return e.every(e=>{const t=r.shift();return!(!e||!t)&&(e.homeAccountId===t.homeAccountId&&e.localAccountId===t.localAccountId&&e.username===t.username)})}const g="@azure/msal-react",m="3.0.19",v={UNBLOCK_INPROGRESS:"UNBLOCK_INPROGRESS",EVENT:"EVENT"},y=(e,t)=>{const{type:r,payload:n}=t;let i=e.inProgress;switch(r){case v.UNBLOCK_INPROGRESS:e.inProgress===s.T$.Startup&&(i=s.T$.None,n.logger.info("MsalProvider - handleRedirectPromise resolved, setting inProgress to 'none'"));break;case v.EVENT:const t=n.message,a=f.getInteractionStatusFromEvent(t,e.inProgress);a&&(n.logger.info("MsalProvider - ".concat(t.eventType," results in setting inProgress from ").concat(e.inProgress," to ").concat(a)),i=a);break;default:throw new Error("Unknown action type: ".concat(r))}if(i===s.T$.Startup)return e;const a=n.instance.getAllAccounts();return i===e.inProgress||p(a,e.accounts)?i!==e.inProgress?(0,d.A)((0,d.A)({},e),{},{inProgress:i}):p(a,e.accounts)?e:(0,d.A)((0,d.A)({},e),{},{accounts:a}):(0,d.A)((0,d.A)({},e),{},{inProgress:i,accounts:a})};function b(e){let{instance:t,children:r}=e;(0,n.useEffect)(()=>{t.initializeWrapperLibrary(s.f7.React,m)},[t]);const i=(0,n.useMemo)(()=>t.getLogger().clone(g,m),[t]),[a,o]=(0,n.useReducer)(y,void 0,()=>({inProgress:s.T$.Startup,accounts:[]}));(0,n.useEffect)(()=>{const e=t.addEventCallback(e=>{o({payload:{instance:t,logger:i,message:e},type:v.EVENT})});return i.verbose("MsalProvider - Registered event callback with id: ".concat(e)),t.initialize().then(()=>{t.handleRedirectPromise().catch(()=>{}).finally(()=>{o({payload:{instance:t,logger:i},type:v.UNBLOCK_INPROGRESS})})}).catch(()=>{}),()=>{e&&(i.verbose("MsalProvider - Removing event callback ".concat(e)),t.removeEventCallback(e))}},[t,i]);const l={instance:t,inProgress:a.inProgress,accounts:a.accounts,logger:i};return n.createElement(u.Provider,{value:l},r)}const _=()=>(0,n.useContext)(u);function x(e){const{accounts:t,inProgress:r}=_(),i=(0,n.useMemo)(()=>r!==s.T$.Startup&&function(e,t){return t&&(t.username||t.homeAccountId||t.localAccountId)?!!function(e,t){return e.length>0&&(t.homeAccountId||t.localAccountId||t.username)&&e.filter(e=>(!t.username||t.username.toLowerCase()===e.username.toLowerCase())&&(!t.homeAccountId||t.homeAccountId.toLowerCase()===e.homeAccountId.toLowerCase())&&(!t.localAccountId||t.localAccountId.toLowerCase()===e.localAccountId.toLowerCase()))[0]||null}(e,t):e.length>0}(t,e),[t,r,e]);return i}var w=r(7453);w.lR},6147:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(871),i=r(4970),a=r(9752),o=r(2213);t.iteratee=function(e){if(null==e)return n.identity;switch(typeof e){case"function":return e;case"object":return Array.isArray(e)&&2===e.length?o.matchesProperty(e[0],e[1]):a.matches(e);case"string":case"symbol":case"number":return i.property(e)}}},6259:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.getSymbols=function(e){return Object.getOwnPropertySymbols(e).filter(t=>Object.prototype.propertyIsEnumerable.call(e,t))}},6312:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.flatten=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const r=[],n=Math.floor(t),i=(e,t)=>{for(let a=0;a<e.length;a++){const o=e[a];Array.isArray(o)&&t<n?i(o,t+1):r.push(o)}};return i(e,0),r}},6313:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isObjectLike=function(e){return"object"===typeof e&&null!==e}},6507:(e,t,r)=>{"use strict";e.exports=r(1241)},6553:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(6259),i=r(8574),a=r(6071),o=r(395),s=r(5525);function l(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Map,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;const d=null===u||void 0===u?void 0:u(e,t,r,n);if(void 0!==d)return d;if(o.isPrimitive(e))return e;if(n.has(e))return n.get(e);if(Array.isArray(e)){const t=new Array(e.length);n.set(e,t);for(let i=0;i<e.length;i++)t[i]=l(e[i],i,r,n,u);return Object.hasOwn(e,"index")&&(t.index=e.index),Object.hasOwn(e,"input")&&(t.input=e.input),t}if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp){const t=new RegExp(e.source,e.flags);return t.lastIndex=e.lastIndex,t}if(e instanceof Map){const t=new Map;n.set(e,t);for(const[i,a]of e)t.set(i,l(a,i,r,n,u));return t}if(e instanceof Set){const t=new Set;n.set(e,t);for(const i of e)t.add(l(i,void 0,r,n,u));return t}if("undefined"!==typeof Buffer&&Buffer.isBuffer(e))return e.subarray();if(s.isTypedArray(e)){const t=new(Object.getPrototypeOf(e).constructor)(e.length);n.set(e,t);for(let i=0;i<e.length;i++)t[i]=l(e[i],i,r,n,u);return t}if(e instanceof ArrayBuffer||"undefined"!==typeof SharedArrayBuffer&&e instanceof SharedArrayBuffer)return e.slice(0);if(e instanceof DataView){const t=new DataView(e.buffer.slice(0),e.byteOffset,e.byteLength);return n.set(e,t),c(t,e,r,n,u),t}if("undefined"!==typeof File&&e instanceof File){const t=new File([e],e.name,{type:e.type});return n.set(e,t),c(t,e,r,n,u),t}if(e instanceof Blob){const t=new Blob([e],{type:e.type});return n.set(e,t),c(t,e,r,n,u),t}if(e instanceof Error){const t=new e.constructor;return n.set(e,t),t.message=e.message,t.name=e.name,t.stack=e.stack,t.cause=e.cause,c(t,e,r,n,u),t}if("object"===typeof e&&function(e){switch(i.getTag(e)){case a.argumentsTag:case a.arrayTag:case a.arrayBufferTag:case a.dataViewTag:case a.booleanTag:case a.dateTag:case a.float32ArrayTag:case a.float64ArrayTag:case a.int8ArrayTag:case a.int16ArrayTag:case a.int32ArrayTag:case a.mapTag:case a.numberTag:case a.objectTag:case a.regexpTag:case a.setTag:case a.stringTag:case a.symbolTag:case a.uint8ArrayTag:case a.uint8ClampedArrayTag:case a.uint16ArrayTag:case a.uint32ArrayTag:return!0;default:return!1}}(e)){const t=Object.create(Object.getPrototypeOf(e));return n.set(e,t),c(t,e,r,n,u),t}return e}function c(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,i=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;const o=[...Object.keys(t),...n.getSymbols(t)];for(let n=0;n<o.length;n++){const s=o[n],c=Object.getOwnPropertyDescriptor(e,s);(null==c||c.writable)&&(e[s]=l(t[s],s,r,i,a))}}t.cloneDeepWith=function(e,t){return l(e,void 0,e,new Map,t)},t.cloneDeepWithImpl=l,t.copyProperties=c},6573:(e,t,r)=>{e.exports=r(8898).isPlainObject},6651:(e,t,r)=>{var n=r(5707);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}e.exports=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach(function(t){n(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e},e.exports.__esModule=!0,e.exports.default=e.exports},6831:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isLength=function(e){return Number.isSafeInteger(e)&&e>=0}},7204:(e,t,r)=>{"use strict";r.d(t,{B:()=>n});const n={INITIALIZE_START:"msal:initializeStart",INITIALIZE_END:"msal:initializeEnd",ACCOUNT_ADDED:"msal:accountAdded",ACCOUNT_REMOVED:"msal:accountRemoved",ACTIVE_ACCOUNT_CHANGED:"msal:activeAccountChanged",LOGIN_START:"msal:loginStart",LOGIN_SUCCESS:"msal:loginSuccess",LOGIN_FAILURE:"msal:loginFailure",ACQUIRE_TOKEN_START:"msal:acquireTokenStart",ACQUIRE_TOKEN_SUCCESS:"msal:acquireTokenSuccess",ACQUIRE_TOKEN_FAILURE:"msal:acquireTokenFailure",ACQUIRE_TOKEN_NETWORK_START:"msal:acquireTokenFromNetworkStart",SSO_SILENT_START:"msal:ssoSilentStart",SSO_SILENT_SUCCESS:"msal:ssoSilentSuccess",SSO_SILENT_FAILURE:"msal:ssoSilentFailure",ACQUIRE_TOKEN_BY_CODE_START:"msal:acquireTokenByCodeStart",ACQUIRE_TOKEN_BY_CODE_SUCCESS:"msal:acquireTokenByCodeSuccess",ACQUIRE_TOKEN_BY_CODE_FAILURE:"msal:acquireTokenByCodeFailure",HANDLE_REDIRECT_START:"msal:handleRedirectStart",HANDLE_REDIRECT_END:"msal:handleRedirectEnd",POPUP_OPENED:"msal:popupOpened",LOGOUT_START:"msal:logoutStart",LOGOUT_SUCCESS:"msal:logoutSuccess",LOGOUT_FAILURE:"msal:logoutFailure",LOGOUT_END:"msal:logoutEnd",RESTORE_FROM_BFCACHE:"msal:restoreFromBFCache",BROKER_CONNECTION_ESTABLISHED:"msal:brokerConnectionEstablished"}},7317:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(6553);t.cloneDeep=function(e){return n.cloneDeepWithImpl(e,void 0,e,new Map,void 0)}},7336:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=/^(?:0|[1-9]\d*)$/;t.isIndex=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_SAFE_INTEGER;switch(typeof e){case"number":return Number.isInteger(e)&&e>=0&&e<t;case"symbol":return!1;case"string":return r.test(e)}}},7389:(e,t,r)=>{"use strict";r.d(t,{W:()=>n,z:()=>i});const n="unexpected_error",i="post_request_failed"},7405:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(3867);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach(function(t){(0,n.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}},7453:(e,t,r)=>{"use strict";r.d(t,{lR:()=>o,pz:()=>s});var n=r(203),i=r(7389);const a={[i.W]:"Unexpected error in authentication.",[i.z]:"Post request failed from the network, could be a 4xx/5xx or a network unavailability. Please check the exact error code for details."};i.W,a[i.W],i.z,a[i.z];class o extends Error{constructor(e,t,r){super(t?"".concat(e,": ").concat(t):e),Object.setPrototypeOf(this,o.prototype),this.errorCode=e||n.YM.EMPTY_STRING,this.errorMessage=t||n.YM.EMPTY_STRING,this.subError=r||n.YM.EMPTY_STRING,this.name="AuthError"}setCorrelationId(e){this.correlationId=e}}function s(e,t){return new o(e,t?"".concat(a[e]," ").concat(t):a[e])}},7624:(e,t,r)=>{"use strict";r.d(t,{jz:()=>s});var n=r(7453),i=r(2514);const a={[i.xz]:"Given storage configuration option was not supported.",[i.dg]:"Stub instance of Public Client Application was called. If using msal-react, please ensure context is not used without a provider. For more visit: aka.ms/msaljs/browser-errors",[i.jE]:"Redirect cannot be supported. In-memory storage was selected and storeAuthStateInCookie=false, which would cause the library to be unable to handle the incoming hash. If you would like to use the redirect API, please use session/localStorage or set storeAuthStateInCookie=true."};i.xz,a[i.xz],i.dg,a[i.dg],i.jE,a[i.jE];class o extends n.lR{constructor(e,t){super(e,t),this.name="BrowserConfigurationAuthError",Object.setPrototypeOf(this,o.prototype)}}function s(e){return new o(e,a[e])}},7645:(e,t,r)=>{"use strict";r(3813)},7756:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.eq=function(e,t){return e===t||Number.isNaN(e)&&Number.isNaN(t)}},7813:(e,t)=>{"use strict";function r(e){return"symbol"===typeof e?1:null===e?2:void 0===e?3:e!==e?4:0}Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});t.compareValues=(e,t,n)=>{if(e!==t){const i=r(e),a=r(t);if(i===a&&0===i){if(e<t)return"desc"===n?1:-1;if(e>t)return"desc"===n?-1:1}return"desc"===n?a-i:i-a}return 0}},8348:(e,t,r)=>{"use strict";var n=r(6651).default;Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const i=r(9876),a=r(654),o=r(395),s=r(7756);function l(e,t,r,i){if(t===e)return!0;switch(typeof t){case"object":return function(e,t,r,n){if(null==t)return!0;if(Array.isArray(t))return c(e,t,r,n);if(t instanceof Map)return function(e,t,r,n){if(0===t.size)return!0;if(!(e instanceof Map))return!1;for(const[i,a]of t.entries()){if(!1===r(e.get(i),a,i,e,t,n))return!1}return!0}(e,t,r,n);if(t instanceof Set)return u(e,t,r,n);const i=Object.keys(t);if(null==e)return 0===i.length;if(0===i.length)return!0;if(n&&n.has(t))return n.get(t)===e;n&&n.set(t,e);try{for(let a=0;a<i.length;a++){const s=i[a];if(!o.isPrimitive(e)&&!(s in e))return!1;if(void 0===t[s]&&void 0!==e[s])return!1;if(null===t[s]&&null!==e[s])return!1;if(!r(e[s],t[s],s,e,t,n))return!1}return!0}finally{n&&n.delete(t)}}(e,t,r,i);case"function":return Object.keys(t).length>0?l(e,n({},t),r,i):s.eq(e,t);default:return a.isObject(e)?"string"!==typeof t||""===t:s.eq(e,t)}}function c(e,t,r,n){if(0===t.length)return!0;if(!Array.isArray(e))return!1;const i=new Set;for(let a=0;a<t.length;a++){const o=t[a];let s=!1;for(let l=0;l<e.length;l++){if(i.has(l))continue;let c=!1;if(r(e[l],o,a,e,t,n)&&(c=!0),c){i.add(l),s=!0;break}}if(!s)return!1}return!0}function u(e,t,r,n){return 0===t.size||e instanceof Set&&c([...e],[...t],r,n)}t.isMatchWith=function(e,t,r){return"function"!==typeof r?i.isMatch(e,t):l(e,t,function e(t,n,i,a,o,s){const c=r(t,n,i,a,o,s);return void 0!==c?Boolean(c):l(t,n,e,s)},new Map)},t.isSetMatch=u},8367:(e,t,r)=>{"use strict";var n=r(3766);t.createRoot=n.createRoot,t.hydrateRoot=n.hydrateRoot},8421:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(2472),i=r(871),a=r(4736),o=r(6147);t.uniqBy=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.identity;return a.isArrayLikeObject(e)?n.uniqBy(Array.from(e),o.iteratee(t)):[]}},8503:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(2463),i=r(1572);t.range=function(e,t,r){r&&"number"!==typeof r&&n.isIterateeCall(e,t,r)&&(t=r=void 0),e=i.toFinite(e),void 0===t?(t=e,e=0):t=i.toFinite(t),r=void 0===r?e<t?1:-1:i.toFinite(r);const a=Math.max(Math.ceil((t-e)/(r||1)),0),o=new Array(a);for(let n=0;n<a;n++)o[n]=e,e+=r;return o}},8574:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.getTag=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}},8811:e=>{"use strict";var t=Object.prototype.hasOwnProperty,r="~";function n(){}function i(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function a(e,t,n,a,o){if("function"!==typeof n)throw new TypeError("The listener must be a function");var s=new i(n,a||e,o),l=r?r+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],s]:e._events[l].push(s):(e._events[l]=s,e._eventsCount++),e}function o(e,t){0===--e._eventsCount?e._events=new n:delete e._events[t]}function s(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),s.prototype.eventNames=function(){var e,n,i=[];if(0===this._eventsCount)return i;for(n in e=this._events)t.call(e,n)&&i.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},s.prototype.listeners=function(e){var t=r?r+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,a=n.length,o=new Array(a);i<a;i++)o[i]=n[i].fn;return o},s.prototype.listenerCount=function(e){var t=r?r+e:e,n=this._events[t];return n?n.fn?1:n.length:0},s.prototype.emit=function(e,t,n,i,a,o){var s=r?r+e:e;if(!this._events[s])return!1;var l,c,u=this._events[s],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,n),!0;case 4:return u.fn.call(u.context,t,n,i),!0;case 5:return u.fn.call(u.context,t,n,i,a),!0;case 6:return u.fn.call(u.context,t,n,i,a,o),!0}for(c=1,l=new Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var h,f=u.length;for(c=0;c<f;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,n);break;case 4:u[c].fn.call(u[c].context,t,n,i);break;default:if(!l)for(h=1,l=new Array(d-1);h<d;h++)l[h-1]=arguments[h];u[c].fn.apply(u[c].context,l)}}return!0},s.prototype.on=function(e,t,r){return a(this,e,t,r,!1)},s.prototype.once=function(e,t,r){return a(this,e,t,r,!0)},s.prototype.removeListener=function(e,t,n,i){var a=r?r+e:e;if(!this._events[a])return this;if(!t)return o(this,a),this;var s=this._events[a];if(s.fn)s.fn!==t||i&&!s.once||n&&s.context!==n||o(this,a);else{for(var l=0,c=[],u=s.length;l<u;l++)(s[l].fn!==t||i&&!s[l].once||n&&s[l].context!==n)&&c.push(s[l]);c.length?this._events[a]=1===c.length?c[0]:c:o(this,a)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&o(this,t)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s},8898:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isPlainObject=function(e){if("object"!==typeof e)return!1;if(null==e)return!1;if(null===Object.getPrototypeOf(e))return!0;if("[object Object]"!==Object.prototype.toString.call(e)){var t;const r=e[Symbol.toStringTag];if(null==r)return!1;return!!(null!==(t=Object.getOwnPropertyDescriptor(e,Symbol.toStringTag))&&void 0!==t&&t.writable)&&e.toString()==="[object ".concat(r,"]")}let r=e;for(;null!==Object.getPrototypeOf(r);)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(e)===r}},8928:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.last=function(e){return e[e.length-1]}},9196:()=>{},9212:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.toPath=function(e){const t=[],r=e.length;if(0===r)return t;let n=0,i="",a="",o=!1;for(46===e.charCodeAt(0)&&(t.push(""),n++);n<r;){const s=e[n];a?"\\"===s&&n+1<r?(n++,i+=e[n]):s===a?a="":i+=s:o?'"'===s||"'"===s?a=s:"]"===s?(o=!1,t.push(i),i=""):i+=s:"["===s?(o=!0,i&&(t.push(i),i="")):"."===s?i&&(t.push(i),i=""):i+=s,n++}return i&&t.push(i),t}},9243:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(161),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;t.isKey=function(e,t){return!Array.isArray(e)&&(!("number"!==typeof e&&"boolean"!==typeof e&&null!=e&&!n.isSymbol(e))||("string"===typeof e&&(a.test(e)||!i.test(e))||null!=t&&Object.hasOwn(t,e)))}},9535:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(5649),i=r(7336),a=r(345),o=r(9212);t.has=function(e,t){let r;if(r=Array.isArray(t)?t:"string"===typeof t&&n.isDeepKey(t)&&null==(null===e||void 0===e?void 0:e[t])?o.toPath(t):[t],0===r.length)return!1;let s=e;for(let n=0;n<r.length;n++){const e=r[n];if(null==s||!Object.hasOwn(s,e)){if(!((Array.isArray(s)||a.isArguments(s))&&i.isIndex(e)&&e<s.length))return!1}s=s[e]}return!0}},9643:(e,t,r)=>{"use strict";e.exports=r(226)},9752:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(9876),i=r(7317);t.matches=function(e){return e=i.cloneDeep(e),t=>n.isMatch(t,e)}},9876:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(8348);t.isMatch=function(e,t){return n.isMatchWith(e,t,()=>{})}},9882:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(161);t.toNumber=function(e){return n.isSymbol(e)?NaN:Number(e)}}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var r=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e].call(r.exports,r,r.exports,__webpack_require__),r.exports}__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;__webpack_require__.t=function(r,n){if(1&n&&(r=this(r)),8&n)return r;if("object"===typeof r&&r){if(4&n&&r.__esModule)return r;if(16&n&&"function"===typeof r.then)return r}var i=Object.create(null);__webpack_require__.r(i);var a={};e=e||[null,t({}),t([]),t(t)];for(var o=2&n&&r;("object"==typeof o||"function"==typeof o)&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach(e=>a[e]=()=>r[e]);return a.default=()=>r,__webpack_require__.d(i,a),i}})(),__webpack_require__.d=(e,t)=>{for(var r in t)__webpack_require__.o(t,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var __webpack_exports__={};(()=>{"use strict";var e={};__webpack_require__.r(e),__webpack_require__.d(e,{scaleBand:()=>ov,scaleDiverging:()=>ew,scaleDivergingLog:()=>tw,scaleDivergingPow:()=>nw,scaleDivergingSqrt:()=>iw,scaleDivergingSymlog:()=>rw,scaleIdentity:()=>Yy,scaleImplicit:()=>iv,scaleLinear:()=>Gy,scaleLog:()=>nb,scaleOrdinal:()=>av,scalePoint:()=>lv,scalePow:()=>hb,scaleQuantile:()=>Eb,scaleQuantize:()=>Cb,scaleRadial:()=>gb,scaleSequential:()=>Gx,scaleSequentialLog:()=>Yx,scaleSequentialPow:()=>Jx,scaleSequentialQuantile:()=>$x,scaleSequentialSqrt:()=>Xx,scaleSequentialSymlog:()=>Qx,scaleSqrt:()=>fb,scaleSymlog:()=>sb,scaleThreshold:()=>Ab,scaleTime:()=>Fx,scaleUtc:()=>Hx,tickFormat:()=>Wy});var t,r=__webpack_require__(9643),n=__webpack_require__.t(r,2),i=__webpack_require__(8367),a=__webpack_require__(3766),o=__webpack_require__.t(a,2);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));const l="popstate";function c(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function u(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(r){}}}function d(e,t){return{usr:e.state,key:e.key,idx:t}}function h(e,t,r,n){return void 0===r&&(r=null),s({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?p(t):t,{state:r,key:t&&t.key||n||Math.random().toString(36).substr(2,8)})}function f(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&"?"!==r&&(t+="?"===r.charAt(0)?r:"?"+r),n&&"#"!==n&&(t+="#"===n.charAt(0)?n:"#"+n),t}function p(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function g(e,r,n,i){void 0===i&&(i={});let{window:a=document.defaultView,v5Compat:o=!1}=i,u=a.history,p=t.Pop,g=null,m=v();function v(){return(u.state||{idx:null}).idx}function y(){p=t.Pop;let e=v(),r=null==e?null:e-m;m=e,g&&g({action:p,location:_.location,delta:r})}function b(e){let t="null"!==a.location.origin?a.location.origin:a.location.href,r="string"===typeof e?e:f(e);return r=r.replace(/ $/,"%20"),c(t,"No window.location.(origin|href) available to create URL for href: "+r),new URL(r,t)}null==m&&(m=0,u.replaceState(s({},u.state,{idx:m}),""));let _={get action(){return p},get location(){return e(a,u)},listen(e){if(g)throw new Error("A history only accepts one active listener");return a.addEventListener(l,y),g=e,()=>{a.removeEventListener(l,y),g=null}},createHref:e=>r(a,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,r){p=t.Push;let i=h(_.location,e,r);n&&n(i,e),m=v()+1;let s=d(i,m),l=_.createHref(i);try{u.pushState(s,"",l)}catch(c){if(c instanceof DOMException&&"DataCloneError"===c.name)throw c;a.location.assign(l)}o&&g&&g({action:p,location:_.location,delta:1})},replace:function(e,r){p=t.Replace;let i=h(_.location,e,r);n&&n(i,e),m=v();let a=d(i,m),s=_.createHref(i);u.replaceState(a,"",s),o&&g&&g({action:p,location:_.location,delta:0})},go:e=>u.go(e)};return _}var m;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(m||(m={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function v(e,t,r){return void 0===r&&(r="/"),y(e,t,r,!1)}function y(e,t,r,n){let i=j(("string"===typeof t?p(t):t).pathname||"/",r);if(null==i)return null;let a=b(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let r=e.length===t.length&&e.slice(0,-1).every((e,r)=>e===t[r]);return r?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(a);let o=null;for(let s=0;null==o&&s<a.length;++s){let e=I(i);o=O(a[s],e,n)}return o}function b(e,t,r,n){void 0===t&&(t=[]),void 0===r&&(r=[]),void 0===n&&(n="");let i=(e,i,a)=>{let o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(c(o.relativePath.startsWith(n),'Absolute route path "'+o.relativePath+'" nested under path "'+n+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(n.length));let s=L([n,o.relativePath]),l=r.concat(o);e.children&&e.children.length>0&&(c(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),b(e.children,t,l,s)),(null!=e.path||e.index)&&t.push({path:s,score:S(s,e.index),routesMeta:l})};return e.forEach((e,t)=>{var r;if(""!==e.path&&null!=(r=e.path)&&r.includes("?"))for(let n of _(e.path))i(e,t,n);else i(e,t)}),t}function _(e){let t=e.split("/");if(0===t.length)return[];let[r,...n]=t,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(0===n.length)return i?[a,""]:[a];let o=_(n.join("/")),s=[];return s.push(...o.map(e=>""===e?a:[a,e].join("/"))),i&&s.push(...o),s.map(t=>e.startsWith("/")&&""===t?"/":t)}const x=/^:[\w-]+$/,w=3,k=2,E=1,C=10,A=-2,T=e=>"*"===e;function S(e,t){let r=e.split("/"),n=r.length;return r.some(T)&&(n+=A),t&&(n+=k),r.filter(e=>!T(e)).reduce((e,t)=>e+(x.test(t)?w:""===t?E:C),n)}function O(e,t,r){void 0===r&&(r=!1);let{routesMeta:n}=e,i={},a="/",o=[];for(let s=0;s<n.length;++s){let e=n[s],l=s===n.length-1,c="/"===a?t:t.slice(a.length)||"/",u=P({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&r&&!n[n.length-1].route.index&&(u=P({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),o.push({params:i,pathname:L([a,u.pathname]),pathnameBase:U(L([a,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(a=L([a,u.pathnameBase]))}return o}function P(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=function(e,t,r){void 0===t&&(t=!1);void 0===r&&(r=!0);u("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,r)=>(n.push({paramName:t,isOptional:null!=r}),r?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(n.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let a=new RegExp(i,t?void 0:"i");return[a,n]}(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),s=i.slice(1),l=n.reduce((e,t,r)=>{let{paramName:n,isOptional:i}=t;if("*"===n){let e=s[r]||"";o=a.slice(0,a.length-e.length).replace(/(.)\/+$/,"$1")}const l=s[r];return e[n]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{});return{params:l,pathname:a,pathnameBase:o,pattern:e}}function I(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return u(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function j(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&"/"!==n?null:e.slice(r)||"/"}function M(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the `to."+r+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function N(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function R(e,t){let r=N(e);return t?r.map((e,t)=>t===r.length-1?e.pathname:e.pathnameBase):r.map(e=>e.pathnameBase)}function D(e,t,r,n){let i;void 0===n&&(n=!1),"string"===typeof e?i=p(e):(i=s({},e),c(!i.pathname||!i.pathname.includes("?"),M("?","pathname","search",i)),c(!i.pathname||!i.pathname.includes("#"),M("#","pathname","hash",i)),c(!i.search||!i.search.includes("#"),M("#","search","hash",i)));let a,o=""===e||""===i.pathname,l=o?"/":i.pathname;if(null==l)a=r;else{let e=t.length-1;if(!n&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}a=e>=0?t[e]:"/"}let u=function(e,t){void 0===t&&(t="/");let{pathname:r,search:n="",hash:i=""}="string"===typeof e?p(e):e,a=r?r.startsWith("/")?r:function(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?r.length>1&&r.pop():"."!==e&&r.push(e)}),r.length>1?r.join("/"):"/"}(r,t):t;return{pathname:a,search:B(n),hash:z(i)}}(i,a),d=l&&"/"!==l&&l.endsWith("/"),h=(o||"."===l)&&r.endsWith("/");return u.pathname.endsWith("/")||!d&&!h||(u.pathname+="/"),u}const L=e=>e.join("/").replace(/\/\/+/g,"/"),U=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),B=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",z=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function K(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const q=["post","put","patch","delete"],F=(new Set(q),["get",...q]);new Set(F),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function H(){return H=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},H.apply(this,arguments)}const W=r.createContext(null);const V=r.createContext(null);const G=r.createContext(null);const Y=r.createContext(null);const Q=r.createContext({outlet:null,matches:[],isDataRoute:!1});const J=r.createContext(null);function X(){return null!=r.useContext(Y)}function $(){return X()||c(!1),r.useContext(Y).location}function Z(e){r.useContext(G).static||r.useLayoutEffect(e)}function ee(){let{isDataRoute:e}=r.useContext(Q);return e?function(){let{router:e}=ue(le.UseNavigateStable),t=he(ce.UseNavigateStable),n=r.useRef(!1);Z(()=>{n.current=!0});let i=r.useCallback(function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,H({fromRouteId:t},i)))},[e,t]);return i}():function(){X()||c(!1);let e=r.useContext(W),{basename:t,future:n,navigator:i}=r.useContext(G),{matches:a}=r.useContext(Q),{pathname:o}=$(),s=JSON.stringify(R(a,n.v7_relativeSplatPath)),l=r.useRef(!1);Z(()=>{l.current=!0});let u=r.useCallback(function(r,n){if(void 0===n&&(n={}),!l.current)return;if("number"===typeof r)return void i.go(r);let a=D(r,JSON.parse(s),o,"path"===n.relative);null==e&&"/"!==t&&(a.pathname="/"===a.pathname?t:L([t,a.pathname])),(n.replace?i.replace:i.push)(a,n.state,n)},[t,i,s,o,e]);return u}()}function te(e,t){let{relative:n}=void 0===t?{}:t,{future:i}=r.useContext(G),{matches:a}=r.useContext(Q),{pathname:o}=$(),s=JSON.stringify(R(a,i.v7_relativeSplatPath));return r.useMemo(()=>D(e,JSON.parse(s),o,"path"===n),[e,s,o,n])}function re(e,n,i,a){X()||c(!1);let{navigator:o}=r.useContext(G),{matches:s}=r.useContext(Q),l=s[s.length-1],u=l?l.params:{},d=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let h,f=$();if(n){var g;let e="string"===typeof n?p(n):n;"/"===d||(null==(g=e.pathname)?void 0:g.startsWith(d))||c(!1),h=e}else h=f;let m=h.pathname||"/",y=m;if("/"!==d){let e=d.replace(/^\//,"").split("/");y="/"+m.replace(/^\//,"").split("/").slice(e.length).join("/")}let b=v(e,{pathname:y});let _=se(b&&b.map(e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:L([d,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:L([d,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),s,i,a);return n&&_?r.createElement(Y.Provider,{value:{location:H({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:t.Pop}},_):_}function ne(){let e=function(){var e;let t=r.useContext(J),n=de(ce.UseRouteError),i=he(ce.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[i]}(),t=K(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i};return r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:a},n):null,null)}const ie=r.createElement(ne,null);class ae extends r.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?r.createElement(Q.Provider,{value:this.props.routeContext},r.createElement(J.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function oe(e){let{routeContext:t,match:n,children:i}=e,a=r.useContext(W);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(Q.Provider,{value:t},i)}function se(e,t,n,i){var a;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===i&&(i=null),null==e){var o;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(o=i)&&o.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let s=e,l=null==(a=n)?void 0:a.errors;if(null!=l){let e=s.findIndex(e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id]));e>=0||c(!1),s=s.slice(0,Math.min(s.length,e+1))}let u=!1,d=-1;if(n&&i&&i.v7_partialHydration)for(let r=0;r<s.length;r++){let e=s[r];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(d=r),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){u=!0,s=d>=0?s.slice(0,d+1):[s[0]];break}}}return s.reduceRight((e,i,a)=>{let o,c=!1,h=null,f=null;var p;n&&(o=l&&i.route.id?l[i.route.id]:void 0,h=i.route.errorElement||ie,u&&(d<0&&0===a?(p="route-fallback",!1||fe[p]||(fe[p]=!0),c=!0,f=null):d===a&&(c=!0,f=i.route.hydrateFallbackElement||null)));let g=t.concat(s.slice(0,a+1)),m=()=>{let t;return t=o?h:c?f:i.route.Component?r.createElement(i.route.Component,null):i.route.element?i.route.element:e,r.createElement(oe,{match:i,routeContext:{outlet:e,matches:g,isDataRoute:null!=n},children:t})};return n&&(i.route.ErrorBoundary||i.route.errorElement||0===a)?r.createElement(ae,{location:n.location,revalidation:n.revalidation,component:h,error:o,children:m(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):m()},null)}var le=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(le||{}),ce=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ce||{});function ue(e){let t=r.useContext(W);return t||c(!1),t}function de(e){let t=r.useContext(V);return t||c(!1),t}function he(e){let t=function(){let e=r.useContext(Q);return e||c(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||c(!1),n.route.id}const fe={};function pe(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}n.startTransition;function ge(e){let{to:t,replace:n,state:i,relative:a}=e;X()||c(!1);let{future:o,static:s}=r.useContext(G),{matches:l}=r.useContext(Q),{pathname:u}=$(),d=ee(),h=D(t,R(l,o.v7_relativeSplatPath),u,"path"===a),f=JSON.stringify(h);return r.useEffect(()=>d(JSON.parse(f),{replace:n,state:i,relative:a}),[d,f,a,n,i]),null}function me(e){c(!1)}function ve(e){let{basename:n="/",children:i=null,location:a,navigationType:o=t.Pop,navigator:s,static:l=!1,future:u}=e;X()&&c(!1);let d=n.replace(/^\/*/,"/"),h=r.useMemo(()=>({basename:d,navigator:s,static:l,future:H({v7_relativeSplatPath:!1},u)}),[d,u,s,l]);"string"===typeof a&&(a=p(a));let{pathname:f="/",search:g="",hash:m="",state:v=null,key:y="default"}=a,b=r.useMemo(()=>{let e=j(f,d);return null==e?null:{location:{pathname:e,search:g,hash:m,state:v,key:y},navigationType:o}},[d,f,g,m,v,y,o]);return null==b?null:r.createElement(G.Provider,{value:h},r.createElement(Y.Provider,{children:i,value:b}))}function ye(e){let{children:t,location:r}=e;return re(be(t),r)}new Promise(()=>{});r.Component;function be(e,t){void 0===t&&(t=[]);let n=[];return r.Children.forEach(e,(e,i)=>{if(!r.isValidElement(e))return;let a=[...t,i];if(e.type===r.Fragment)return void n.push.apply(n,be(e.props.children,a));e.type!==me&&c(!1),e.props.index&&e.props.children&&c(!1);let o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=be(e.props.children,a)),n.push(o)}),n}function _e(){return _e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_e.apply(this,arguments)}function xe(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const we=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],ke=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"];try{window.__reactRouterVersion="6"}catch(QU){}const Ee=r.createContext({isTransitioning:!1});new Map;const Ce=n.startTransition;o.flushSync,n.useId;function Ae(e){let{basename:t,children:n,future:i,window:a}=e,o=r.useRef();var s;null==o.current&&(o.current=(void 0===(s={window:a,v5Compat:!0})&&(s={}),g(function(e,t){let{pathname:r,search:n,hash:i}=e.location;return h("",{pathname:r,search:n,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:f(t)},null,s)));let l=o.current,[c,u]=r.useState({action:l.action,location:l.location}),{v7_startTransition:d}=i||{},p=r.useCallback(e=>{d&&Ce?Ce(()=>u(e)):u(e)},[u,d]);return r.useLayoutEffect(()=>l.listen(p),[l,p]),r.useEffect(()=>pe(i),[i]),r.createElement(ve,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l,future:i})}const Te="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Se=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Oe=r.forwardRef(function(e,t){let n,{onClick:i,relative:a,reloadDocument:o,replace:s,state:l,target:u,to:d,preventScrollReset:h,viewTransition:p}=e,g=xe(e,we),{basename:m}=r.useContext(G),v=!1;if("string"===typeof d&&Se.test(d)&&(n=d,Te))try{let e=new URL(window.location.href),t=d.startsWith("//")?new URL(e.protocol+d):new URL(d),r=j(t.pathname,m);t.origin===e.origin&&null!=r?d=r+t.search+t.hash:v=!0}catch(QU){}let y=function(e,t){let{relative:n}=void 0===t?{}:t;X()||c(!1);let{basename:i,navigator:a}=r.useContext(G),{hash:o,pathname:s,search:l}=te(e,{relative:n}),u=s;return"/"!==i&&(u="/"===s?i:L([i,s])),a.createHref({pathname:u,search:l,hash:o})}(d,{relative:a}),b=function(e,t){let{target:n,replace:i,state:a,preventScrollReset:o,relative:s,viewTransition:l}=void 0===t?{}:t,c=ee(),u=$(),d=te(e,{relative:s});return r.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let r=void 0!==i?i:f(u)===f(d);c(e,{replace:r,state:a,preventScrollReset:o,relative:s,viewTransition:l})}},[u,c,d,i,a,n,e,o,s,l])}(d,{replace:s,state:l,target:u,preventScrollReset:h,relative:a,viewTransition:p});return r.createElement("a",_e({},g,{href:n||y,onClick:v||o?i:function(e){i&&i(e),e.defaultPrevented||b(e)},ref:t,target:u}))});const Pe=r.forwardRef(function(e,t){let{"aria-current":n="page",caseSensitive:i=!1,className:a="",end:o=!1,style:s,to:l,viewTransition:u,children:d}=e,h=xe(e,ke),f=te(l,{relative:h.relative}),p=$(),g=r.useContext(V),{navigator:m,basename:v}=r.useContext(G),y=null!=g&&function(e,t){void 0===t&&(t={});let n=r.useContext(Ee);null==n&&c(!1);let{basename:i}=Me(Ie.useViewTransitionState),a=te(e,{relative:t.relative});if(!n.isTransitioning)return!1;let o=j(n.currentLocation.pathname,i)||n.currentLocation.pathname,s=j(n.nextLocation.pathname,i)||n.nextLocation.pathname;return null!=P(a.pathname,s)||null!=P(a.pathname,o)}(f)&&!0===u,b=m.encodeLocation?m.encodeLocation(f).pathname:f.pathname,_=p.pathname,x=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;i||(_=_.toLowerCase(),x=x?x.toLowerCase():null,b=b.toLowerCase()),x&&v&&(x=j(x,v)||x);const w="/"!==b&&b.endsWith("/")?b.length-1:b.length;let k,E=_===b||!o&&_.startsWith(b)&&"/"===_.charAt(w),C=null!=x&&(x===b||!o&&x.startsWith(b)&&"/"===x.charAt(b.length)),A={isActive:E,isPending:C,isTransitioning:y},T=E?n:void 0;k="function"===typeof a?a(A):[a,E?"active":null,C?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let S="function"===typeof s?s(A):s;return r.createElement(Oe,_e({},h,{"aria-current":T,className:k,ref:t,style:S,to:l,viewTransition:u}),"function"===typeof d?d(A):d)});var Ie,je;function Me(e){let t=r.useContext(W);return t||c(!1),t}(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ie||(Ie={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(je||(je={}));var Ne=__webpack_require__(6141),Re=__webpack_require__(7405),De=__webpack_require__(229),Le=__webpack_require__(203);const Ue="AAD",Be="OIDC",ze="EAR",Ke="none";var qe=__webpack_require__(7453);const Fe="client_info_decoding_error",He="client_info_empty_error",We="token_parsing_error",Ve="null_or_empty_token",Ge="endpoints_resolution_error",Ye="network_error",Qe="openid_config_error",Je="hash_not_deserialized",Xe="invalid_state",$e="state_mismatch",Ze="state_not_found",et="nonce_mismatch",tt="auth_time_not_found",rt="max_age_transpired",nt="multiple_matching_tokens",it="multiple_matching_accounts",at="multiple_matching_appMetadata",ot="request_cannot_be_made",st="cannot_remove_empty_scope",lt="cannot_append_scopeset",ct="empty_input_scopeset",ut="device_code_polling_cancelled",dt="device_code_expired",ht="device_code_unknown_error",ft="no_account_in_silent_request",pt="invalid_cache_record",gt="invalid_cache_environment",mt="no_account_found",vt="no_crypto_object",yt="unexpected_credential_type",bt="invalid_assertion",_t="invalid_client_credential",xt="token_refresh_required",wt="user_timeout_reached",kt="token_claims_cnf_required_for_signedjwt",Et="authorization_code_missing_from_server_response",Ct="binding_key_not_removed",At="end_session_endpoint_not_supported",Tt="key_id_missing",St="no_network_connectivity",Ot="user_canceled",Pt="missing_tenant_id_error",It="method_not_implemented",jt="nested_app_auth_bridge_disabled",Mt={[Fe]:"The client info could not be parsed/decoded correctly",[He]:"The client info was empty",[We]:"Token cannot be parsed",[Ve]:"The token is null or empty",[Ge]:"Endpoints cannot be resolved",[Ye]:"Network request failed",[Qe]:"Could not retrieve endpoints. Check your authority and verify the .well-known/openid-configuration endpoint returns the required endpoints.",[Je]:"The hash parameters could not be deserialized",[Xe]:"State was not the expected format",[$e]:"State mismatch error",[Ze]:"State not found",[et]:"Nonce mismatch error",[tt]:"Max Age was requested and the ID token is missing the auth_time variable. auth_time is an optional claim and is not enabled by default - it must be enabled. See https://aka.ms/msaljs/optional-claims for more information.",[rt]:"Max Age is set to 0, or too much time has elapsed since the last end-user authentication.",[nt]:"The cache contains multiple tokens satisfying the requirements. Call AcquireToken again providing more requirements such as authority or account.",[it]:"The cache contains multiple accounts satisfying the given parameters. Please pass more info to obtain the correct account",[at]:"The cache contains multiple appMetadata satisfying the given parameters. Please pass more info to obtain the correct appMetadata",[ot]:"Token request cannot be made without authorization code or refresh token.",[st]:"Cannot remove null or empty scope from ScopeSet",[lt]:"Cannot append ScopeSet",[ct]:"Empty input ScopeSet cannot be processed",[ut]:"Caller has cancelled token endpoint polling during device code flow by setting DeviceCodeRequest.cancel = true.",[dt]:"Device code is expired.",[ht]:"Device code stopped polling for unknown reasons.",[ft]:"Please pass an account object, silent flow is not supported without account information",[pt]:"Cache record object was null or undefined.",[gt]:"Invalid environment when attempting to create cache entry",[mt]:"No account found in cache for given key.",[vt]:"No crypto object detected.",[yt]:"Unexpected credential type.",[bt]:"Client assertion must meet requirements described in https://tools.ietf.org/html/rfc7515",[_t]:"Client credential (secret, certificate, or assertion) must not be empty when creating a confidential client. An application should at most have one credential",[xt]:"Cannot return token from cache because it must be refreshed. This may be due to one of the following reasons: forceRefresh parameter is set to true, claims have been requested, there is no cached access token or it is expired.",[wt]:"User defined timeout for device code polling reached",[kt]:"Cannot generate a POP jwt if the token_claims are not populated",[Et]:"Server response does not contain an authorization code to proceed",[Ct]:"Could not remove the credential's binding key from storage.",[At]:"The provided authority does not support logout",[Tt]:"A keyId value is missing from the requested bound token's cache record and is required to match the token to it's stored binding key.",[St]:"No network connectivity. Check your internet connection.",[Ot]:"User cancelled the flow.",[Pt]:"A tenant id - not common, organizations, or consumers - must be specified when using the client_credentials flow.",[It]:"This method has not been implemented",[jt]:"The nested app auth bridge is disabled"};class Nt extends qe.lR{constructor(e,t){super(e,t?"".concat(Mt[e],": ").concat(t):Mt[e]),this.name="ClientAuthError",Object.setPrototypeOf(this,Nt.prototype)}}function Rt(e,t){return new Nt(e,t)}const Dt={createNewGuid:()=>{throw Rt(It)},base64Decode:()=>{throw Rt(It)},base64Encode:()=>{throw Rt(It)},base64UrlEncode:()=>{throw Rt(It)},encodeKid:()=>{throw Rt(It)},async getPublicKeyThumbprint(){throw Rt(It)},async removeTokenBindingKey(){throw Rt(It)},async clearKeystore(){throw Rt(It)},async signJwt(){throw Rt(It)},async hashString(){throw Rt(It)}},Lt="@azure/msal-common",Ut="15.12.0",Bt="redirect_uri_empty",zt="claims_request_parsing_error",Kt="authority_uri_insecure",qt="url_parse_error",Ft="empty_url_error",Ht="empty_input_scopes_error",Wt="invalid_claims",Vt="token_request_empty",Gt="logout_request_empty",Yt="invalid_code_challenge_method",Qt="pkce_params_missing",Jt="invalid_cloud_discovery_metadata",Xt="invalid_authority_metadata",$t="untrusted_authority",Zt="missing_ssh_jwk",er="missing_ssh_kid",tr="missing_nonce_authentication_header",rr="invalid_authentication_header",nr="cannot_set_OIDCOptions",ir="cannot_allow_platform_broker",ar="authority_mismatch",or="invalid_request_method_for_EAR",sr="invalid_authorize_post_body_parameters",lr={[Bt]:"A redirect URI is required for all calls, and none has been set.",[zt]:"Could not parse the given claims request object.",[Kt]:"Authority URIs must use https.  Please see here for valid authority configuration options: https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-js-initializing-client-applications#configuration-options",[qt]:"URL could not be parsed into appropriate segments.",[Ft]:"URL was empty or null.",[Ht]:"Scopes cannot be passed as null, undefined or empty array because they are required to obtain an access token.",[Wt]:"Given claims parameter must be a stringified JSON object.",[Vt]:"Token request was empty and not found in cache.",[Gt]:"The logout request was null or undefined.",[Yt]:'code_challenge_method passed is invalid. Valid values are "plain" and "S256".',[Qt]:"Both params: code_challenge and code_challenge_method are to be passed if to be sent in the request",[Jt]:"Invalid cloudDiscoveryMetadata provided. Must be a stringified JSON object containing tenant_discovery_endpoint and metadata fields",[Xt]:"Invalid authorityMetadata provided. Must by a stringified JSON object containing authorization_endpoint, token_endpoint, issuer fields.",[$t]:"The provided authority is not a trusted authority. Please include this authority in the knownAuthorities config parameter.",[Zt]:"Missing sshJwk in SSH certificate request. A stringified JSON Web Key is required when using the SSH authentication scheme.",[er]:"Missing sshKid in SSH certificate request. A string that uniquely identifies the public SSH key is required when using the SSH authentication scheme.",[tr]:"Unable to find an authentication header containing server nonce. Either the Authentication-Info or WWW-Authenticate headers must be present in order to obtain a server nonce.",[rr]:"Invalid authentication header provided",[nr]:"Cannot set OIDCOptions parameter. Please change the protocol mode to OIDC or use a non-Microsoft authority.",[ir]:"Cannot set allowPlatformBroker parameter to true when not in AAD protocol mode.",[ar]:"Authority mismatch error. Authority provided in login request or PublicClientApplication config does not match the environment of the provided account. Please use a matching account or make an interactive request to login to this authority.",[sr]:"Invalid authorize post body parameters provided. If you are using authorizePostBodyParameters, the request method must be POST. Please check the request method and parameters.",[or]:"Invalid request method for EAR protocol mode. The request method cannot be GET when using EAR protocol mode. Please change the request method to POST."};class cr extends qe.lR{constructor(e){super(e,lr[e]),this.name="ClientConfigurationError",Object.setPrototypeOf(this,cr.prototype)}}function ur(e){return new cr(e)}class dr{static isEmptyObj(e){if(e)try{const t=JSON.parse(e);return 0===Object.keys(t).length}catch(QU){}return!0}static startsWith(e,t){return 0===e.indexOf(t)}static endsWith(e,t){return e.length>=t.length&&e.lastIndexOf(t)===e.length-t.length}static queryStringToObject(e){const t={},r=e.split("&"),n=e=>decodeURIComponent(e.replace(/\+/g," "));return r.forEach(e=>{if(e.trim()){const[r,i]=e.split(/=(.+)/g,2);r&&i&&(t[n(r)]=n(i))}}),t}static trimArrayEntries(e){return e.map(e=>e.trim())}static removeEmptyStringsFromArray(e){return e.filter(e=>!!e)}static jsonParseHelper(e){try{return JSON.parse(e)}catch(QU){return null}}static matchPattern(e,t){return new RegExp(e.replace(/\\/g,"\\\\").replace(/\*/g,"[^ ]*").replace(/\?/g,"\\?")).test(t)}}class hr{constructor(e){const t=e?dr.trimArrayEntries([...e]):[],r=t?dr.removeEmptyStringsFromArray(t):[];if(!r||!r.length)throw ur(Ht);this.scopes=new Set,r.forEach(e=>this.scopes.add(e))}static fromString(e){const t=(e||Le.YM.EMPTY_STRING).split(" ");return new hr(t)}static createSearchScopes(e){const t=e&&e.length>0?e:[...Le.aZ],r=new hr(t);return r.containsOnlyOIDCScopes()?r.removeScope(Le.YM.OFFLINE_ACCESS_SCOPE):r.removeOIDCScopes(),r}containsScope(e){const t=this.printScopesLowerCase().split(" "),r=new hr(t);return!!e&&r.scopes.has(e.toLowerCase())}containsScopeSet(e){return!(!e||e.scopes.size<=0)&&(this.scopes.size>=e.scopes.size&&e.asArray().every(e=>this.containsScope(e)))}containsOnlyOIDCScopes(){let e=0;return Le._A.forEach(t=>{this.containsScope(t)&&(e+=1)}),this.scopes.size===e}appendScope(e){e&&this.scopes.add(e.trim())}appendScopes(e){try{e.forEach(e=>this.appendScope(e))}catch(QU){throw Rt(lt)}}removeScope(e){if(!e)throw Rt(st);this.scopes.delete(e.trim())}removeOIDCScopes(){Le._A.forEach(e=>{this.scopes.delete(e)})}unionScopeSets(e){if(!e)throw Rt(ct);const t=new Set;return e.scopes.forEach(e=>t.add(e.toLowerCase())),this.scopes.forEach(e=>t.add(e.toLowerCase())),t}intersectingScopeSets(e){if(!e)throw Rt(ct);e.containsOnlyOIDCScopes()||e.removeOIDCScopes();const t=this.unionScopeSets(e),r=e.getScopeCount(),n=this.getScopeCount();return t.size<n+r}getScopeCount(){return this.scopes.size}asArray(){const e=[];return this.scopes.forEach(t=>e.push(t)),e}printScopes(){if(this.scopes){return this.asArray().join(" ")}return Le.YM.EMPTY_STRING}printScopesLowerCase(){return this.printScopes().toLowerCase()}}function fr(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}const pr=["isHomeTenant"],gr=["isHomeTenant"];function mr(e,t){return!!e&&!!t&&e===t.split(".")[1]}function vr(e,t,r,n){if(n){const{oid:t,sub:r,tid:i,name:a,tfp:o,acr:s,preferred_username:l,upn:c,login_hint:u}=n,d=i||o||s||"";return{tenantId:d,localAccountId:t||r||"",name:a,username:l||c||"",loginHint:u,isHomeTenant:mr(d,e)}}return{tenantId:r,localAccountId:t,username:"",isHomeTenant:mr(r,e)}}function yr(e,t,r,n){let i=e;if(t){const{isHomeTenant:r}=t,n=fr(t,pr);i=(0,Re.A)((0,Re.A)({},e),n)}if(r){const t=vr(e.homeAccountId,e.localAccountId,e.tenantId,r),{isHomeTenant:a}=t,o=fr(t,gr);return i=(0,Re.A)((0,Re.A)((0,Re.A)({},i),o),{},{idTokenClaims:r,idToken:n}),i}return i}function br(e,t){const r=function(e){if(!e)throw Rt(Ve);const t=/^([^\.\s]*)\.([^\.\s]+)\.([^\.\s]*)$/.exec(e);if(!t||t.length<4)throw Rt(We);return t[2]}(e);try{const e=t(r);return JSON.parse(e)}catch(n){throw Rt(We)}}function _r(e,t){if(0===t||Date.now()-3e5>e+t)throw Rt(rt)}function xr(e){if(!e)return e;let t=e.toLowerCase();return dr.endsWith(t,"?")?t=t.slice(0,-1):dr.endsWith(t,"?/")&&(t=t.slice(0,-2)),dr.endsWith(t,"/")||(t+="/"),t}function wr(e){return e.startsWith("#/")?e.substring(2):e.startsWith("#")||e.startsWith("?")?e.substring(1):e}function kr(e){if(!e||e.indexOf("=")<0)return null;try{const t=wr(e),r=Object.fromEntries(new URLSearchParams(t));if(r.code||r.ear_jwe||r.error||r.error_description||r.state)return r}catch(QU){throw Rt(Je)}return null}function Er(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2?arguments[2]:void 0;const n=new Array;return e.forEach((e,i)=>{!t&&r&&i in r?n.push("".concat(i,"=").concat(e)):n.push("".concat(i,"=").concat(encodeURIComponent(e)))}),n.join("&")}function Cr(e){if(!e)return e;const t=e.split("#")[0];try{const e=new URL(t);return xr(e.origin+e.pathname+e.search)}catch(QU){return xr(t)}}class Ar{get urlString(){return this._urlString}constructor(e){if(this._urlString=e,!this._urlString)throw ur(Ft);e.includes("#")||(this._urlString=Ar.canonicalizeUri(e))}static canonicalizeUri(e){if(e){let t=e.toLowerCase();return dr.endsWith(t,"?")?t=t.slice(0,-1):dr.endsWith(t,"?/")&&(t=t.slice(0,-2)),dr.endsWith(t,"/")||(t+="/"),t}return e}validateAsUri(){let e;try{e=this.getUrlComponents()}catch(QU){throw ur(qt)}if(!e.HostNameAndPort||!e.PathSegments)throw ur(qt);if(!e.Protocol||"https:"!==e.Protocol.toLowerCase())throw ur(Kt)}static appendQueryString(e,t){return t?e.indexOf("?")<0?"".concat(e,"?").concat(t):"".concat(e,"&").concat(t):e}static removeHashFromUrl(e){return Ar.canonicalizeUri(e.split("#")[0])}replaceTenantPath(e){const t=this.getUrlComponents(),r=t.PathSegments;return!e||0===r.length||r[0]!==Le.v2.COMMON&&r[0]!==Le.v2.ORGANIZATIONS||(r[0]=e),Ar.constructAuthorityUriFromObject(t)}getUrlComponents(){const e=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?"),t=this.urlString.match(e);if(!t)throw ur(qt);const r={Protocol:t[1],HostNameAndPort:t[4],AbsolutePath:t[5],QueryString:t[7]};let n=r.AbsolutePath.split("/");return n=n.filter(e=>e&&e.length>0),r.PathSegments=n,r.QueryString&&r.QueryString.endsWith("/")&&(r.QueryString=r.QueryString.substring(0,r.QueryString.length-1)),r}static getDomainFromUrl(e){const t=RegExp("^([^:/?#]+://)?([^/?#]*)"),r=e.match(t);if(!r)throw ur(qt);return r[2]}static getAbsoluteUrl(e,t){if(e[0]===Le.YM.FORWARD_SLASH){const r=new Ar(t).getUrlComponents();return r.Protocol+"//"+r.HostNameAndPort+e}return e}static constructAuthorityUriFromObject(e){return new Ar(e.Protocol+"//"+e.HostNameAndPort+"/"+e.PathSegments.join("/"))}static hashContainsKnownProperties(e){return!!kr(e)}}const Tr={"login.microsoftonline.com":{token_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.com/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.com/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/logout"},"login.chinacloudapi.cn":{token_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.chinacloudapi.cn/{tenantid}/discovery/v2.0/keys",issuer:"https://login.partner.microsoftonline.cn/{tenantid}/v2.0",authorization_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/logout"},"login.microsoftonline.us":{token_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.us/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.us/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/logout"}},Sr={metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},Or=new Set;function Pr(e,t,r,n){if(null===n||void 0===n||n.trace("getAliasesFromMetadata called with source: ".concat(r)),e&&t){const i=Ir(t,e);if(i)return null===n||void 0===n||n.trace("getAliasesFromMetadata: found cloud discovery metadata in ".concat(r,", returning aliases")),i.aliases;null===n||void 0===n||n.trace("getAliasesFromMetadata: did not find cloud discovery metadata in ".concat(r))}return null}function Ir(e,t){for(let r=0;r<e.length;r++){const n=e[r];if(n.aliases.includes(t))return n}return null}Sr.metadata.forEach(e=>{e.aliases.forEach(e=>{Or.add(e)})});const jr="cache_quota_exceeded",Mr="cache_error_unknown",Nr={[jr]:"Exceeded cache storage capacity.",[Mr]:"Unexpected error occurred when using cache storage."};class Rr extends qe.lR{constructor(e,t){const r=t||(Nr[e]?Nr[e]:Nr[Mr]);super("".concat(e,": ").concat(r)),Object.setPrototypeOf(this,Rr.prototype),this.name="CacheError",this.errorCode=e,this.errorMessage=r}}function Dr(e){return e instanceof Error?"QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name||e.message.includes("exceeded the quota")?new Rr(jr):new Rr(e.name,e.message):new Rr(Mr)}class Lr{constructor(e,t,r,n,i){this.clientId=e,this.cryptoImpl=t,this.commonLogger=r.clone(Lt,Ut),this.staticAuthorityOptions=i,this.performanceClient=n}getAllAccounts(e,t){return this.buildTenantProfiles(this.getAccountsFilteredBy(e,t),t,e)}getAccountInfoFilteredBy(e,t){if(0===Object.keys(e).length||Object.values(e).every(e=>!e))return this.commonLogger.warning("getAccountInfoFilteredBy: Account filter is empty or invalid, returning null"),null;const r=this.getAllAccounts(e,t);if(r.length>1){return r.sort(e=>e.idTokenClaims?-1:1)[0]}return 1===r.length?r[0]:null}getBaseAccountInfo(e,t){const r=this.getAccountsFilteredBy(e,t);return r.length>0?r[0].getAccountInfo():null}buildTenantProfiles(e,t,r){return e.flatMap(e=>this.getTenantProfilesFromAccountEntity(e,t,null===r||void 0===r?void 0:r.tenantId,r))}getTenantedAccountInfoByFilter(e,t,r,n,i){let a,o=null;if(i&&!this.tenantProfileMatchesFilter(r,i))return null;const s=this.getIdToken(e,n,t,r.tenantId);return s&&(a=br(s.secret,this.cryptoImpl.base64Decode),!this.idTokenClaimsMatchTenantProfileFilter(a,i))?null:(o=yr(e,r,a,null===s||void 0===s?void 0:s.secret),o)}getTenantProfilesFromAccountEntity(e,t,r,n){const i=e.getAccountInfo();let a=i.tenantProfiles||new Map;const o=this.getTokenKeys();if(r){const e=a.get(r);if(!e)return[];a=new Map([[r,e]])}const s=[];return a.forEach(e=>{const r=this.getTenantedAccountInfoByFilter(i,o,e,t,n);r&&s.push(r)}),s}tenantProfileMatchesFilter(e,t){return!(t.localAccountId&&!this.matchLocalAccountIdFromTenantProfile(e,t.localAccountId))&&((!t.name||e.name===t.name)&&(void 0===t.isHomeTenant||e.isHomeTenant===t.isHomeTenant))}idTokenClaimsMatchTenantProfileFilter(e,t){if(t){if(t.localAccountId&&!this.matchLocalAccountIdFromTokenClaims(e,t.localAccountId))return!1;if(t.loginHint&&!this.matchLoginHintFromTokenClaims(e,t.loginHint))return!1;if(t.username&&!this.matchUsername(e.preferred_username,t.username))return!1;if(t.name&&!this.matchName(e,t.name))return!1;if(t.sid&&!this.matchSid(e,t.sid))return!1}return!0}async saveCacheRecord(e,t,r){if(!e)throw Rt(pt);try{e.account&&await this.setAccount(e.account,t),e.idToken&&!1!==(null===r||void 0===r?void 0:r.idToken)&&await this.setIdTokenCredential(e.idToken,t),e.accessToken&&!1!==(null===r||void 0===r?void 0:r.accessToken)&&await this.saveAccessToken(e.accessToken,t),e.refreshToken&&!1!==(null===r||void 0===r?void 0:r.refreshToken)&&await this.setRefreshTokenCredential(e.refreshToken,t),e.appMetadata&&this.setAppMetadata(e.appMetadata,t)}catch(QU){var n;throw null===(n=this.commonLogger)||void 0===n||n.error("CacheManager.saveCacheRecord: failed"),QU instanceof qe.lR?QU:Dr(QU)}}async saveAccessToken(e,t){const r={clientId:e.clientId,credentialType:e.credentialType,environment:e.environment,homeAccountId:e.homeAccountId,realm:e.realm,tokenType:e.tokenType,requestedClaimsHash:e.requestedClaimsHash},n=this.getTokenKeys(),i=hr.fromString(e.target);n.accessToken.forEach(e=>{if(!this.accessTokenKeyMatchesFilter(e,r,!1))return;const n=this.getAccessTokenCredential(e,t);if(n&&this.credentialMatchesFilter(n,r)){hr.fromString(n.target).intersectingScopeSets(i)&&this.removeAccessToken(e,t)}}),await this.setAccessTokenCredential(e,t)}getAccountsFilteredBy(e,t){const r=this.getAccountKeys(),n=[];return r.forEach(r=>{var i;const a=this.getAccount(r,t);if(!a)return;if(e.homeAccountId&&!this.matchHomeAccountId(a,e.homeAccountId))return;if(e.username&&!this.matchUsername(a.username,e.username))return;if(e.environment&&!this.matchEnvironment(a,e.environment))return;if(e.realm&&!this.matchRealm(a,e.realm))return;if(e.nativeAccountId&&!this.matchNativeAccountId(a,e.nativeAccountId))return;if(e.authorityType&&!this.matchAuthorityType(a,e.authorityType))return;const o={localAccountId:null===e||void 0===e?void 0:e.localAccountId,name:null===e||void 0===e?void 0:e.name},s=null===(i=a.tenantProfiles)||void 0===i?void 0:i.filter(e=>this.tenantProfileMatchesFilter(e,o));s&&0===s.length||n.push(a)}),n}credentialMatchesFilter(e,t){if(t.clientId&&!this.matchClientId(e,t.clientId))return!1;if(t.userAssertionHash&&!this.matchUserAssertionHash(e,t.userAssertionHash))return!1;if("string"===typeof t.homeAccountId&&!this.matchHomeAccountId(e,t.homeAccountId))return!1;if(t.environment&&!this.matchEnvironment(e,t.environment))return!1;if(t.realm&&!this.matchRealm(e,t.realm))return!1;if(t.credentialType&&!this.matchCredentialType(e,t.credentialType))return!1;if(t.familyId&&!this.matchFamilyId(e,t.familyId))return!1;if(t.target&&!this.matchTarget(e,t.target))return!1;if((t.requestedClaimsHash||e.requestedClaimsHash)&&e.requestedClaimsHash!==t.requestedClaimsHash)return!1;if(e.credentialType===Le.aG.ACCESS_TOKEN_WITH_AUTH_SCHEME){if(t.tokenType&&!this.matchTokenType(e,t.tokenType))return!1;if(t.tokenType===Le.IO.SSH&&t.keyId&&!this.matchKeyId(e,t.keyId))return!1}return!0}getAppMetadataFilteredBy(e){const t=this.getKeys(),r={};return t.forEach(t=>{if(!this.isAppMetadata(t))return;const n=this.getAppMetadata(t);n&&(e.environment&&!this.matchEnvironment(n,e.environment)||e.clientId&&!this.matchClientId(n,e.clientId)||(r[t]=n))}),r}getAuthorityMetadataByAlias(e){const t=this.getAuthorityMetadataKeys();let r=null;return t.forEach(t=>{if(!this.isAuthorityMetadata(t)||-1===t.indexOf(this.clientId))return;const n=this.getAuthorityMetadata(t);n&&-1!==n.aliases.indexOf(e)&&(r=n)}),r}removeAllAccounts(e){this.getAllAccounts({},e).forEach(t=>{this.removeAccount(t,e)})}removeAccount(e,t){this.removeAccountContext(e,t);this.getAccountKeys().filter(t=>t.includes(e.homeAccountId)&&t.includes(e.environment)).forEach(e=>{this.removeItem(e,t),this.performanceClient.incrementFields({accountsRemoved:1},t)})}removeAccountContext(e,t){const r=this.getTokenKeys(),n=t=>t.includes(e.homeAccountId)&&t.includes(e.environment);r.idToken.filter(n).forEach(e=>{this.removeIdToken(e,t)}),r.accessToken.filter(n).forEach(e=>{this.removeAccessToken(e,t)}),r.refreshToken.filter(n).forEach(e=>{this.removeRefreshToken(e,t)})}removeAccessToken(e,t){const r=this.getAccessTokenCredential(e,t);if(this.removeItem(e,t),this.performanceClient.incrementFields({accessTokensRemoved:1},t),!r||r.credentialType.toLowerCase()!==Le.aG.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase()||r.tokenType!==Le.IO.POP)return;const n=r.keyId;n&&this.cryptoImpl.removeTokenBindingKey(n).catch(()=>{var e;this.commonLogger.error("Failed to remove token binding key ".concat(n),t),null===(e=this.performanceClient)||void 0===e||e.incrementFields({removeTokenBindingKeyFailure:1},t)})}removeAppMetadata(e){return this.getKeys().forEach(t=>{this.isAppMetadata(t)&&this.removeItem(t,e)}),!0}getIdToken(e,t,r,n,i){this.commonLogger.trace("CacheManager - getIdToken called");const a={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:Le.aG.ID_TOKEN,clientId:this.clientId,realm:n},o=this.getIdTokensByFilter(a,t,r),s=o.size;if(s<1)return this.commonLogger.info("CacheManager:getIdToken - No token found"),null;if(s>1){let r=o;if(!n){const t=new Map;o.forEach((r,n)=>{r.realm===e.tenantId&&t.set(n,r)});const n=t.size;if(n<1)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account but none match account entity tenant id, returning first result"),o.values().next().value;if(1===n)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account, defaulting to home tenant profile"),t.values().next().value;r=t}return this.commonLogger.info("CacheManager:getIdToken - Multiple matching ID tokens found, clearing them"),r.forEach((e,r)=>{this.removeIdToken(r,t)}),i&&t&&i.addFields({multiMatchedID:o.size},t),null}return this.commonLogger.info("CacheManager:getIdToken - Returning ID token"),o.values().next().value}getIdTokensByFilter(e,t,r){const n=r&&r.idToken||this.getTokenKeys().idToken,i=new Map;return n.forEach(r=>{if(!this.idTokenKeyMatchesFilter(r,(0,Re.A)({clientId:this.clientId},e)))return;const n=this.getIdTokenCredential(r,t);n&&this.credentialMatchesFilter(n,e)&&i.set(r,n)}),i}idTokenKeyMatchesFilter(e,t){const r=e.toLowerCase();return(!t.clientId||-1!==r.indexOf(t.clientId.toLowerCase()))&&(!t.homeAccountId||-1!==r.indexOf(t.homeAccountId.toLowerCase()))}removeIdToken(e,t){this.removeItem(e,t)}removeRefreshToken(e,t){this.removeItem(e,t)}getAccessToken(e,t,r,n){const i=t.correlationId;this.commonLogger.trace("CacheManager - getAccessToken called",i);const a=hr.createSearchScopes(t.scopes),o=t.authenticationScheme||Le.IO.BEARER,s=o&&o.toLowerCase()!==Le.IO.BEARER.toLowerCase()?Le.aG.ACCESS_TOKEN_WITH_AUTH_SCHEME:Le.aG.ACCESS_TOKEN,l={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:s,clientId:this.clientId,realm:n||e.tenantId,target:a,tokenType:o,keyId:t.sshKid,requestedClaimsHash:t.requestedClaimsHash},c=r&&r.accessToken||this.getTokenKeys().accessToken,u=[];c.forEach(e=>{if(this.accessTokenKeyMatchesFilter(e,l,!0)){const t=this.getAccessTokenCredential(e,i);t&&this.credentialMatchesFilter(t,l)&&u.push(t)}});const d=u.length;return d<1?(this.commonLogger.info("CacheManager:getAccessToken - No token found",i),null):d>1?(this.commonLogger.info("CacheManager:getAccessToken - Multiple access tokens found, clearing them",i),u.forEach(e=>{this.removeAccessToken(this.generateCredentialKey(e),i)}),this.performanceClient.addFields({multiMatchedAT:u.length},i),null):(this.commonLogger.info("CacheManager:getAccessToken - Returning access token",i),u[0])}accessTokenKeyMatchesFilter(e,t,r){const n=e.toLowerCase();if(t.clientId&&-1===n.indexOf(t.clientId.toLowerCase()))return!1;if(t.homeAccountId&&-1===n.indexOf(t.homeAccountId.toLowerCase()))return!1;if(t.realm&&-1===n.indexOf(t.realm.toLowerCase()))return!1;if(t.requestedClaimsHash&&-1===n.indexOf(t.requestedClaimsHash.toLowerCase()))return!1;if(t.target){const e=t.target.asArray();for(let t=0;t<e.length;t++){if(r&&!n.includes(e[t].toLowerCase()))return!1;if(!r&&n.includes(e[t].toLowerCase()))return!0}}return!0}getAccessTokensByFilter(e,t){const r=this.getTokenKeys(),n=[];return r.accessToken.forEach(r=>{if(!this.accessTokenKeyMatchesFilter(r,e,!0))return;const i=this.getAccessTokenCredential(r,t);i&&this.credentialMatchesFilter(i,e)&&n.push(i)}),n}getRefreshToken(e,t,r,n,i){this.commonLogger.trace("CacheManager - getRefreshToken called");const a=t?Le.hB:void 0,o={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:Le.aG.REFRESH_TOKEN,clientId:this.clientId,familyId:a},s=n&&n.refreshToken||this.getTokenKeys().refreshToken,l=[];s.forEach(e=>{if(this.refreshTokenKeyMatchesFilter(e,o)){const t=this.getRefreshTokenCredential(e,r);t&&this.credentialMatchesFilter(t,o)&&l.push(t)}});const c=l.length;return c<1?(this.commonLogger.info("CacheManager:getRefreshToken - No refresh token found."),null):(c>1&&i&&r&&i.addFields({multiMatchedRT:c},r),this.commonLogger.info("CacheManager:getRefreshToken - returning refresh token"),l[0])}refreshTokenKeyMatchesFilter(e,t){const r=e.toLowerCase();return(!t.familyId||-1!==r.indexOf(t.familyId.toLowerCase()))&&(!(!t.familyId&&t.clientId&&-1===r.indexOf(t.clientId.toLowerCase()))&&(!t.homeAccountId||-1!==r.indexOf(t.homeAccountId.toLowerCase())))}readAppMetadataFromCache(e){const t={environment:e,clientId:this.clientId},r=this.getAppMetadataFilteredBy(t),n=Object.keys(r).map(e=>r[e]),i=n.length;if(i<1)return null;if(i>1)throw Rt(at);return n[0]}isAppMetadataFOCI(e){const t=this.readAppMetadataFromCache(e);return!(!t||t.familyId!==Le.hB)}matchHomeAccountId(e,t){return!("string"!==typeof e.homeAccountId||t!==e.homeAccountId)}matchLocalAccountIdFromTokenClaims(e,t){return t===(e.oid||e.sub)}matchLocalAccountIdFromTenantProfile(e,t){return e.localAccountId===t}matchName(e,t){var r;return!(t.toLowerCase()!==(null===(r=e.name)||void 0===r?void 0:r.toLowerCase()))}matchUsername(e,t){return!(!e||"string"!==typeof e||(null===t||void 0===t?void 0:t.toLowerCase())!==e.toLowerCase())}matchUserAssertionHash(e,t){return!(!e.userAssertionHash||t!==e.userAssertionHash)}matchEnvironment(e,t){if(this.staticAuthorityOptions){const r=function(e,t){let r;const n=e.canonicalAuthority;if(n){var i;const a=new Ar(n).getUrlComponents().HostNameAndPort;r=Pr(a,null===(i=e.cloudDiscoveryMetadata)||void 0===i?void 0:i.metadata,Le.E_.CONFIG,t)||Pr(a,Sr.metadata,Le.E_.HARDCODED_VALUES,t)||e.knownAuthorities}return r||[]}(this.staticAuthorityOptions,this.commonLogger);if(r.includes(t)&&r.includes(e.environment))return!0}const r=this.getAuthorityMetadataByAlias(t);return!!(r&&r.aliases.indexOf(e.environment)>-1)}matchCredentialType(e,t){return e.credentialType&&t.toLowerCase()===e.credentialType.toLowerCase()}matchClientId(e,t){return!(!e.clientId||t!==e.clientId)}matchFamilyId(e,t){return!(!e.familyId||t!==e.familyId)}matchRealm(e,t){var r;return!((null===(r=e.realm)||void 0===r?void 0:r.toLowerCase())!==t.toLowerCase())}matchNativeAccountId(e,t){return!(!e.nativeAccountId||t!==e.nativeAccountId)}matchLoginHintFromTokenClaims(e,t){return e.login_hint===t||(e.preferred_username===t||e.upn===t)}matchSid(e,t){return e.sid===t}matchAuthorityType(e,t){return!(!e.authorityType||t.toLowerCase()!==e.authorityType.toLowerCase())}matchTarget(e,t){if(e.credentialType!==Le.aG.ACCESS_TOKEN&&e.credentialType!==Le.aG.ACCESS_TOKEN_WITH_AUTH_SCHEME||!e.target)return!1;return hr.fromString(e.target).containsScopeSet(t)}matchTokenType(e,t){return!(!e.tokenType||e.tokenType!==t)}matchKeyId(e,t){return!(!e.keyId||e.keyId!==t)}isAppMetadata(e){return-1!==e.indexOf(Le.GU)}isAuthorityMetadata(e){return-1!==e.indexOf(Le.u0.CACHE_KEY)}generateAuthorityMetadataCacheKey(e){return"".concat(Le.u0.CACHE_KEY,"-").concat(this.clientId,"-").concat(e)}static toObject(e,t){for(const r in t)e[r]=t[r];return e}}class Ur extends Lr{async setAccount(){throw Rt(It)}getAccount(){throw Rt(It)}async setIdTokenCredential(){throw Rt(It)}getIdTokenCredential(){throw Rt(It)}async setAccessTokenCredential(){throw Rt(It)}getAccessTokenCredential(){throw Rt(It)}async setRefreshTokenCredential(){throw Rt(It)}getRefreshTokenCredential(){throw Rt(It)}setAppMetadata(){throw Rt(It)}getAppMetadata(){throw Rt(It)}setServerTelemetry(){throw Rt(It)}getServerTelemetry(){throw Rt(It)}setAuthorityMetadata(){throw Rt(It)}getAuthorityMetadata(){throw Rt(It)}getAuthorityMetadataKeys(){throw Rt(It)}setThrottlingCache(){throw Rt(It)}getThrottlingCache(){throw Rt(It)}removeItem(){throw Rt(It)}getKeys(){throw Rt(It)}getAccountKeys(){throw Rt(It)}getTokenKeys(){throw Rt(It)}generateCredentialKey(){throw Rt(It)}generateAccountKey(){throw Rt(It)}}const Br="acquireTokenByCode",zr="acquireTokenByRefreshToken",Kr="acquireTokenSilent",qr="acquireTokenSilentAsync",Fr="acquireTokenPopup",Hr="acquireTokenPreRedirect",Wr="acquireTokenRedirect",Vr="cryptoOptsGetPublicKeyThumbprint",Gr="cryptoOptsSignJwt",Yr="silentCacheClientAcquireToken",Qr="silentIframeClientAcquireToken",Jr="awaitConcurrentIframe",Xr="silentRefreshClientAcquireToken",$r="ssoSilent",Zr="standardInteractionClientGetDiscoveredAuthority",en="nativeInteractionClientAcquireToken",tn="networkClientSendPostRequestAsync",rn="refreshTokenClientExecutePostToTokenEndpoint",nn="authorizationCodeClientExecutePostToTokenEndpoint",an="refreshTokenClientExecuteTokenRequest",on="refreshTokenClientAcquireToken",sn="refreshTokenClientAcquireTokenWithCachedRefreshToken",ln="refreshTokenClientAcquireTokenByRefreshToken",cn="refreshTokenClientCreateTokenRequestBody",un="acquireTokenFromCache",dn="silentFlowClientAcquireCachedToken",hn="silentFlowClientGenerateResultFromCacheRecord",fn="acquireTokenBySilentIframe",pn="initializeBaseRequest",gn="initializeSilentRequest",mn="initializeClientApplication",vn="initializeCache",yn="silentIframeClientTokenHelper",bn="silentHandlerInitiateAuthRequest",_n="silentHandlerMonitorIframeForHash",xn="silentHandlerLoadFrame",wn="silentHandlerLoadFrameSync",kn="standardInteractionClientCreateAuthCodeClient",En="standardInteractionClientGetClientConfiguration",Cn="standardInteractionClientInitializeAuthorizationRequest",An="getAuthCodeUrl",Tn="getStandardParams",Sn="handleCodeResponseFromServer",On="handleCodeResponse",Pn="handleResponseEar",In="handleResponsePlatformBroker",jn="handleResponseCode",Mn="updateTokenEndpointAuthority",Nn="authClientAcquireToken",Rn="authClientExecuteTokenRequest",Dn="authClientCreateTokenRequestBody",Ln="popTokenGenerateCnf",Un="popTokenGenerateKid",Bn="handleServerTokenResponse",zn="deserializeResponse",Kn="authorityFactoryCreateDiscoveredInstance",qn="authorityResolveEndpointsAsync",Fn="authorityGetCloudDiscoveryMetadataFromNetwork",Hn="authorityUpdateCloudDiscoveryMetadata",Wn="authorityGetEndpointMetadataFromNetwork",Vn="authorityUpdateEndpointMetadata",Gn="authorityUpdateMetadataWithRegionalInformation",Yn="regionDiscoveryDetectRegion",Qn="regionDiscoveryGetRegionFromIMDS",Jn="regionDiscoveryGetCurrentVersion",Xn="acquireTokenByCodeAsync",$n="handleRedirectPromise",Zn="handleNativeRedirectPromise",ei="nativeMessageHandlerHandshake",ti="removeHiddenIframe",ri="clearTokensAndKeysWithClaims",ni="cacheManagerGetRefreshToken",ii="importExistingCache",ai="setUserData",oi="localStorageUpdated",si="generatePkceCodes",li="generateCodeVerifier",ci="generateCodeChallengeFromVerifier",ui="sha256Digest",di="getRandomValues",hi="generateHKDF",fi="generateBaseKey",pi="base64Decode",gi="urlEncodeArr",mi="encrypt",vi="decrypt",yi="generateEarKey",bi="decryptEarResponse",_i=(new Map([[Br,"ATByCode"],[zr,"ATByRT"],[Kr,"ATS"],[qr,"ATSAsync"],[Fr,"ATPopup"],[Wr,"ATRedirect"],[Vr,"CryptoGetPKThumb"],[Gr,"CryptoSignJwt"],[Yr,"SltCacheClientAT"],[Qr,"SltIframeClientAT"],[Xr,"SltRClientAT"],[$r,"SsoSlt"],[Zr,"StdIntClientGetDiscAuth"],["fetchAccountIdWithNativeBroker","FetchAccIdWithNtvBroker"],[en,"NtvIntClientAT"],["baseClientCreateTokenRequestHeaders","BaseClientCreateTReqHead"],[tn,"NetClientSendPost"],[rn,"RTClientExecPost"],[nn,"AuthCodeClientExecPost"],["brokerHandshake","BrokerHandshake"],["acquireTokenByRefreshTokenInBroker","ATByRTInBroker"],["acquireTokenByBroker","ATByBroker"],[an,"RTClientExecTReq"],[on,"RTClientAT"],[sn,"RTClientATWithCachedRT"],[ln,"RTClientATByRT"],[cn,"RTClientCreateTReqBody"],[un,"ATFromCache"],[dn,"SltFlowClientATCached"],[hn,"SltFlowClientGenResFromCache"],[fn,"ATBySltIframe"],[pn,"InitBaseReq"],[gn,"InitSltReq"],[mn,"InitClientApplication"],[vn,"InitCache"],[ii,"importCache"],[ai,"setUserData"],[oi,"localStorageUpdated"],[yn,"SIClientTHelper"],[bn,"SHandlerInitAuthReq"],[_n,"SltHandlerMonitorIframeForHash"],[xn,"SHandlerLoadFrame"],[wn,"SHandlerLoadFrameSync"],[kn,"StdIntClientCreateAuthCodeClient"],[En,"StdIntClientGetClientConf"],[Cn,"StdIntClientInitAuthReq"],[An,"GetAuthCodeUrl"],[Sn,"HandleCodeResFromServer"],[On,"HandleCodeResp"],[Pn,"HandleRespEar"],[jn,"HandleRespCode"],[In,"HandleRespPlatBroker"],[Mn,"UpdTEndpointAuth"],[Nn,"AuthClientAT"],[Rn,"AuthClientExecTReq"],[Dn,"AuthClientCreateTReqBody"],[Ln,"PopTGenCnf"],[Un,"PopTGenKid"],[Bn,"HandleServerTRes"],[zn,"DeserializeRes"],[Kn,"AuthFactCreateDiscInst"],[qn,"AuthResolveEndpointsAsync"],["authorityResolveEndpointsFromLocalSources","AuthResolveEndpointsFromLocal"],[Fn,"AuthGetCDMetaFromNet"],[Hn,"AuthUpdCDMeta"],[Wn,"AuthUpdCDMetaFromNet"],[Vn,"AuthUpdEndpointMeta"],[Gn,"AuthUpdMetaWithRegInfo"],[Yn,"RegDiscDetectReg"],[Qn,"RegDiscGetRegFromIMDS"],[Jn,"RegDiscGetCurrentVer"],[Xn,"ATByCodeAsync"],["getEndpointMetadataFromNetwork","GetEndpointMetaFromNet"],["getCloudDiscoveryMetadataFromNetworkMeasurement","GetCDMetaFromNet"],[$n,"HandleRedirectPromise"],[Zn,"HandleNtvRedirectPromise"],["updateCloudDiscoveryMetadataMeasurement","UpdateCDMeta"],["usernamePasswordClientAcquireToken","UserPassClientAT"],[ei,"NtvMsgHandlerHandshake"],["nativeGenerateAuthResult","NtvGenAuthRes"],[ti,"RemoveHiddenIframe"],[ri,"ClearTAndKeysWithClaims"],[ni,"CacheManagerGetRT"],[si,"GenPkceCodes"],[li,"GenCodeVerifier"],[ci,"GenCodeChallengeFromVerifier"],[ui,"Sha256Digest"],[di,"GetRandomValues"],[hi,"genHKDF"],[fi,"genBaseKey"],[pi,"b64Decode"],[gi,"urlEncArr"],[mi,"encrypt"],[vi,"decrypt"],[yi,"genEarKey"],[bi,"decryptEarResp"]]),1);new Set(["accessTokenSize","durationMs","idTokenSize","matsSilentStatus","matsHttpStatus","refreshTokenSize","queuedTimeMs","startTimeMs","status","multiMatchedAT","multiMatchedID","multiMatchedRT","unencryptedCacheCount","encryptedCacheExpiredCount","oldAccountCount","oldAccessCount","oldIdCount","oldRefreshCount","currAccountCount","currAccessCount","currIdCount","currRefreshCount","expiredCacheRemovedCount","upgradedCacheCount"]);class xi{startMeasurement(){}endMeasurement(){}flushMeasurement(){return null}}class wi{generateId(){return"callback-id"}startMeasurement(e,t){return{end:()=>null,discard:()=>{},add:()=>{},increment:()=>{},event:{eventId:this.generateId(),status:_i,authority:"",libraryName:"",libraryVersion:"",clientId:"",name:e,startTimeMs:Date.now(),correlationId:t||""},measurement:new xi}}startPerformanceMeasurement(){return new xi}calculateQueuedTime(){return 0}addQueueMeasurement(){}setPreQueueTime(){}endMeasurement(){return null}discardMeasurements(){}removePerformanceCallback(){return!0}addPerformanceCallback(){return""}emitEvents(){}addFields(){}incrementFields(){}cacheEventByCorrelationId(){}}const ki={tokenRenewalOffsetSeconds:Le.F0,preventCorsPreflight:!1},Ei={loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:De.$.Info,correlationId:Le.YM.EMPTY_STRING},Ci={claimsBasedCachingEnabled:!1},Ai={async sendGetRequestAsync(){throw Rt(It)},async sendPostRequestAsync(){throw Rt(It)}},Ti={sku:Le.YM.SKU,version:Ut,cpu:Le.YM.EMPTY_STRING,os:Le.YM.EMPTY_STRING},Si={clientSecret:Le.YM.EMPTY_STRING,clientAssertion:void 0},Oi={azureCloudInstance:Ke,tenant:"".concat(Le.YM.DEFAULT_COMMON_TENANT)},Pi={application:{appName:"",appVersion:""}};function Ii(e){return e.authOptions.authority.options.protocolMode===Be}const ji={sendGetRequestAsync:()=>Promise.reject(Rt(It)),sendPostRequestAsync:()=>Promise.reject(Rt(It))};var Mi=__webpack_require__(4810);const Ni="pkce_not_created",Ri="ear_jwk_empty",Di="ear_jwe_empty",Li="crypto_nonexistent",Ui="empty_navigate_uri",Bi="hash_empty_error",zi="no_state_in_hash",Ki="hash_does_not_contain_known_properties",qi="unable_to_parse_state",Fi="state_interaction_type_mismatch",Hi="interaction_in_progress",Wi="popup_window_error",Vi="empty_window_error",Gi="user_cancelled",Yi="monitor_popup_timeout",Qi="monitor_window_timeout",Ji="redirect_in_iframe",Xi="block_iframe_reload",$i="block_nested_popups",Zi="iframe_closed_prematurely",ea="silent_logout_unsupported",ta="no_account_error",ra="silent_prompt_value_error",na="no_token_request_cache_error",ia="unable_to_parse_token_request_cache_error",aa="auth_request_not_set_error",oa="invalid_cache_type",sa="non_browser_environment",la="database_not_open",ca="no_network_connectivity",ua="post_request_failed",da="get_request_failed",ha="failed_to_parse_response",fa="unable_to_load_token",pa="crypto_key_not_found",ga="auth_code_required",ma="auth_code_or_nativeAccountId_required",va="spa_code_and_nativeAccountId_present",ya="database_unavailable",ba="unable_to_acquire_token_from_native_platform",_a="native_handshake_timeout",xa="native_extension_not_installed",wa="native_connection_not_established",ka="uninitialized_public_client_application",Ea="native_prompt_not_supported",Ca="invalid_base64_string",Aa="invalid_pop_token_request",Ta="failed_to_build_headers",Sa="failed_to_parse_headers",Oa="failed_to_decrypt_ear_response",Pa="timed_out",Ia="For more visit: aka.ms/msaljs/browser-errors",ja={[Ni]:"The PKCE code challenge and verifier could not be generated.",[Ri]:"No EAR encryption key provided. This is unexpected.",[Di]:"Server response does not contain ear_jwe property. This is unexpected.",[Li]:"The crypto object or function is not available.",[Ui]:"Navigation URI is empty. Please check stack trace for more info.",[Bi]:"Hash value cannot be processed because it is empty. Please verify that your redirectUri is not clearing the hash. ".concat(Ia),[zi]:"Hash does not contain state. Please verify that the request originated from msal.",[Ki]:"Hash does not contain known properites. Please verify that your redirectUri is not changing the hash.  ".concat(Ia),[qi]:"Unable to parse state. Please verify that the request originated from msal.",[Fi]:"Hash contains state but the interaction type does not match the caller.",[Hi]:"Interaction is currently in progress. Please ensure that this interaction has been completed before calling an interactive API.   ".concat(Ia),[Wi]:"Error opening popup window. This can happen if you are using IE or if popups are blocked in the browser.",[Vi]:"window.open returned null or undefined window object.",[Gi]:"User cancelled the flow.",[Yi]:"Token acquisition in popup failed due to timeout.  ".concat(Ia),[Qi]:"Token acquisition in iframe failed due to timeout.  ".concat(Ia),[Ji]:"Redirects are not supported for iframed or brokered applications. Please ensure you are using MSAL.js in a top frame of the window if using the redirect APIs, or use the popup APIs.",[Xi]:"Request was blocked inside an iframe because MSAL detected an authentication response.  ".concat(Ia),[$i]:"Request was blocked inside a popup because MSAL detected it was running in a popup.",[Zi]:"The iframe being monitored was closed prematurely.",[ea]:"Silent logout not supported. Please call logoutRedirect or logoutPopup instead.",[ta]:"No account object provided to acquireTokenSilent and no active account has been set. Please call setActiveAccount or provide an account on the request.",[ra]:"The value given for the prompt value is not valid for silent requests - must be set to 'none' or 'no_session'.",[na]:"No token request found in cache.",[ia]:"The cached token request could not be parsed.",[aa]:"Auth Request not set. Please ensure initiateAuthRequest was called from the InteractionHandler",[oa]:"Invalid cache type",[sa]:"Login and token requests are not supported in non-browser environments.",[la]:"Database is not open!",[ca]:"No network connectivity. Check your internet connection.",[ua]:"Network request failed: If the browser threw a CORS error, check that the redirectUri is registered in the Azure App Portal as type 'SPA'",[da]:"Network request failed. Please check the network trace to determine root cause.",[ha]:"Failed to parse network response. Check network trace.",[fa]:"Error loading token to cache.",[pa]:"Cryptographic Key or Keypair not found in browser storage.",[ga]:"An authorization code must be provided (as the `code` property on the request) to this flow.",[ma]:"An authorization code or nativeAccountId must be provided to this flow.",[va]:"Request cannot contain both spa code and native account id.",[ya]:"IndexedDB, which is required for persistent cryptographic key storage, is unavailable. This may be caused by browser privacy features which block persistent storage in third-party contexts.",[ba]:"Unable to acquire token from native platform.  ".concat(Ia),[_a]:"Timed out while attempting to establish connection to browser extension",[xa]:"Native extension is not installed. If you think this is a mistake call the initialize function.",[wa]:"Connection to native platform has not been established. Please install a compatible browser extension and run initialize().  ".concat(Ia),[ka]:"You must call and await the initialize function before attempting to call any other MSAL API.  ".concat(Ia),[Ea]:"The provided prompt is not supported by the native platform. This request should be routed to the web based flow.",[Ca]:"Invalid base64 encoded string.",[Aa]:"Invalid PoP token request. The request should not have both a popKid value and signPopToken set to true.",[Ta]:"Failed to build request headers object.",[Sa]:"Failed to parse response headers",[Oa]:"Failed to decrypt ear response",[Pa]:"The request timed out."};class Ma extends qe.lR{constructor(e,t){super(e,ja[e],t),Object.setPrototypeOf(this,Ma.prototype),this.name="BrowserAuthError"}}function Na(e,t){return new Ma(e,t)}class Ra{navigateInternal(e,t){return Ra.defaultNavigateWindow(e,t)}navigateExternal(e,t){return Ra.defaultNavigateWindow(e,t)}static defaultNavigateWindow(e,t){return t.noHistory?window.location.replace(e):window.location.assign(e),new Promise((e,r)=>{setTimeout(()=>{r(Na(Pa,"failed_to_redirect"))},t.timeout)})}}class Da extends qe.lR{constructor(e,t,r){super(e.errorCode,e.errorMessage,e.subError),Object.setPrototypeOf(this,Da.prototype),this.name="NetworkError",this.error=e,this.httpStatus=t,this.responseHeaders=r}}function La(e,t,r,n){return e.errorMessage="".concat(e.errorMessage,", additionalErrorInfo: error.name:").concat(null===n||void 0===n?void 0:n.name,", error.message:").concat(null===n||void 0===n?void 0:n.message),new Da(e,t,r)}class Ua{async sendGetRequestAsync(e,t){let r,n={},i=0;const a=Ba(t);try{r=await fetch(e,{method:Mi.CC.GET,headers:a})}catch(QU){throw La(Na(window.navigator.onLine?da:ca),void 0,void 0,QU)}n=za(r.headers);try{return i=r.status,{headers:n,body:await r.json(),status:i}}catch(QU){throw La(Na(ha),i,n,QU)}}async sendPostRequestAsync(e,t){const r=t&&t.body||"",n=Ba(t);let i,a=0,o={};try{i=await fetch(e,{method:Mi.CC.POST,headers:n,body:r})}catch(QU){throw La(Na(window.navigator.onLine?ua:ca),void 0,void 0,QU)}o=za(i.headers);try{return a=i.status,{headers:o,body:await i.json(),status:a}}catch(QU){throw La(Na(ha),a,o,QU)}}}function Ba(e){try{const t=new Headers;if(!e||!e.headers)return t;const r=e.headers;return Object.entries(r).forEach(e=>{let[r,n]=e;t.append(r,n)}),t}catch(QU){throw La(Na(Ta),void 0,void 0,QU)}}function za(e){try{const t={};return e.forEach((e,r)=>{t[r]=e}),t}catch(QU){throw Na(Sa)}}const Ka="client_id",qa="redirect_uri",Fa="token_type",Ha="req_cnf",Wa="return_spa_code",Va="x-client-xtra-sku",Ga="brk_client_id",Ya="brk_redirect_uri",Qa="instance_aware";function Ja(e,t,r){if(!t)return;const n=e.get(Ka);n&&e.has(Ga)&&(null===r||void 0===r||r.addFields({embeddedClientId:n,embeddedRedirectUri:e.get(qa)},t))}function Xa(e,t){e.set("response_type",t)}function $a(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Le.aZ;!r||n.includes("openid")||t.includes("openid")||n.push("openid");const i=r?[...t||[],...n]:t||[],a=new hr(i);e.set("scope",a.printScopes())}function Za(e,t){e.set(Ka,t)}function eo(e,t){e.set(qa,t)}function to(e,t){e.set("login_hint",t)}function ro(e,t){e.set(Le.OK.CCS_HEADER,"UPN:".concat(t))}function no(e,t){e.set(Le.OK.CCS_HEADER,"Oid:".concat(t.uid,"@").concat(t.utid))}function io(e,t){e.set("sid",t)}function ao(e,t,r){const n=bo(t,r);try{JSON.parse(n)}catch(QU){throw ur(Wt)}e.set("claims",n)}function oo(e,t){e.set("client-request-id",t)}function so(e,t){e.set("x-client-SKU",t.sku),e.set("x-client-VER",t.version),t.os&&e.set("x-client-OS",t.os),t.cpu&&e.set("x-client-CPU",t.cpu)}function lo(e,t){null!==t&&void 0!==t&&t.appName&&e.set("x-app-name",t.appName),null!==t&&void 0!==t&&t.appVersion&&e.set("x-app-ver",t.appVersion)}function co(e,t){t&&e.set("state",t)}function uo(e,t,r){if(!t||!r)throw ur(Qt);e.set("code_challenge",t),e.set("code_challenge_method",r)}function ho(e,t){e.set("client_secret",t)}function fo(e,t){t&&e.set("client_assertion",t)}function po(e,t){t&&e.set("client_assertion_type",t)}function go(e,t){e.set("grant_type",t)}function mo(e){e.set(Le.JR,"1")}function vo(e){e.has(Qa)||e.set(Qa,"true")}function yo(e,t){Object.entries(t).forEach(t=>{let[r,n]=t;!e.has(r)&&n&&e.set(r,n)})}function bo(e,t){let r;if(e)try{r=JSON.parse(e)}catch(QU){throw ur(Wt)}else r={};return t&&t.length>0&&(r.hasOwnProperty(Le.Fq.ACCESS_TOKEN)||(r[Le.Fq.ACCESS_TOKEN]={}),r[Le.Fq.ACCESS_TOKEN][Le.Fq.XMS_CC]={values:t}),JSON.stringify(r)}function _o(e,t){t&&(e.set(Fa,Le.IO.POP),e.set(Ha,t))}function xo(e,t){t&&(e.set(Fa,Le.IO.SSH),e.set(Ha,t))}function wo(e,t){e.set("x-client-current-telemetry",t.generateCurrentRequestHeaderValue()),e.set("x-client-last-telemetry",t.generateLastRequestHeaderValue())}function ko(e){e.set("x-ms-lib-capability",Le.Xw.X_MS_LIB_CAPABILITY_VALUE)}function Eo(e,t,r){e.has(Ga)||e.set(Ga,t),e.has(Ya)||e.set(Ya,r)}function Co(e){return encodeURIComponent(To(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"))}function Ao(e){return So(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function To(e){return So((new TextEncoder).encode(e))}function So(e){const t=Array.from(e,e=>String.fromCodePoint(e)).join("");return btoa(t)}function Oo(e){return(new TextDecoder).decode(Po(e))}function Po(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw Na(Ca)}const r=atob(t);return Uint8Array.from(r,e=>e.codePointAt(0)||0)}const Io="AES-GCM",jo="HKDF",Mo="SHA-256",No=new Uint8Array([1,0,1]),Ro="0123456789abcdef",Do=new Uint32Array(1),Lo="raw",Uo="encrypt",Bo="decrypt",zo={name:"RSASSA-PKCS1-v1_5",hash:Mo,modulusLength:2048,publicExponent:No};async function Ko(e,t,r){null===t||void 0===t||t.addQueueMeasurement(ui,r);const n=(new TextEncoder).encode(e);return window.crypto.subtle.digest(Mo,n)}function qo(e){return window.crypto.getRandomValues(e)}function Fo(){return window.crypto.getRandomValues(Do),Do[0]}function Ho(){const e=Date.now(),t=1024*Fo()+(1023&Fo()),r=new Uint8Array(16),n=Math.trunc(t/2**30),i=t&2**30-1,a=Fo();r[0]=e/2**40,r[1]=e/2**32,r[2]=e/2**24,r[3]=e/65536,r[4]=e/256,r[5]=e,r[6]=112|n>>>8,r[7]=n,r[8]=128|i>>>24,r[9]=i>>>16,r[10]=i>>>8,r[11]=i,r[12]=a>>>24,r[13]=a>>>16,r[14]=a>>>8,r[15]=a;let o="";for(let s=0;s<r.length;s++)o+=Ro.charAt(r[s]>>>4),o+=Ro.charAt(15&r[s]),3!==s&&5!==s&&7!==s&&9!==s||(o+="-");return o}async function Wo(e){return window.crypto.subtle.exportKey(Mi.jb,e)}async function Vo(){const e=await Yo(),t={alg:"dir",kty:"oct",k:Ao(new Uint8Array(e))};return To(JSON.stringify(t))}async function Go(e,t){const r=t.split(".");if(5!==r.length)throw Na(Oa,"jwe_length");const n=await async function(e){const t=Oo(e),r=Po(JSON.parse(t).k);return window.crypto.subtle.importKey(Lo,r,Io,!1,[Bo])}(e).catch(()=>{throw Na(Oa,"import_key")});try{const e=(new TextEncoder).encode(r[0]),t=Po(r[2]),i=Po(r[3]),a=Po(r[4]),o=8*a.byteLength,s=new Uint8Array(i.length+a.length);s.set(i),s.set(a,i.length);const l=await window.crypto.subtle.decrypt({name:Io,iv:t,tagLength:o,additionalData:e},n,s);return(new TextDecoder).decode(l)}catch(QU){throw Na(Oa,"decrypt")}}async function Yo(){const e=await window.crypto.subtle.generateKey({name:Io,length:256},!0,[Uo,Bo]);return window.crypto.subtle.exportKey(Lo,e)}async function Qo(e){return window.crypto.subtle.importKey(Lo,e,jo,!1,["deriveKey"])}async function Jo(e,t,r){return window.crypto.subtle.deriveKey({name:jo,salt:t,hash:Mo,info:(new TextEncoder).encode(r)},e,{name:Io,length:256},!1,[Uo,Bo])}async function Xo(e,t,r){const n=(new TextEncoder).encode(t),i=window.crypto.getRandomValues(new Uint8Array(16)),a=await Jo(e,i,r),o=await window.crypto.subtle.encrypt({name:Io,iv:new Uint8Array(12)},a,n);return{data:Ao(new Uint8Array(o)),nonce:Ao(i)}}async function $o(e,t,r,n){const i=Po(n),a=await Jo(e,Po(t),r),o=await window.crypto.subtle.decrypt({name:Io,iv:new Uint8Array(12)},a,i);return(new TextDecoder).decode(o)}async function Zo(e){const t=await Ko(e);return Ao(new Uint8Array(t))}var es=__webpack_require__(7624),ts=__webpack_require__(2514);function rs(e){e.location.hash="","function"===typeof e.history.replaceState&&e.history.replaceState(null,"","".concat(e.location.origin).concat(e.location.pathname).concat(e.location.search))}function ns(){return window.parent!==window}function is(){return"undefined"!==typeof window&&window.location?window.location.href.split("?")[0].split("#")[0]:""}function as(){if("undefined"!==typeof window&&window.opener&&window.opener!==window&&"string"===typeof window.name&&0===window.name.indexOf("".concat(Mi.Q1.POPUP_NAME_PREFIX,".")))throw Na($i)}function os(){if("undefined"===typeof window)throw Na(sa)}function ss(e){if(!e)throw Na(ka)}function ls(e){os(),function(){if(Ar.hashContainsKnownProperties(window.location.hash)&&ns())throw Na(Xi)}(),as(),ss(e)}function cs(e,t){if(ls(e),function(e){if(ns()&&!e)throw Na(Ji)}(t.system.allowRedirectInIframe),t.cache.cacheLocation===Mi.Al.MemoryStorage&&!t.cache.storeAuthStateInCookie)throw(0,es.jz)(ts.jE)}function us(e){const t=document.createElement("link");t.rel="preconnect",t.href=new URL(e).origin,t.crossOrigin="anonymous",document.head.appendChild(t),window.setTimeout(()=>{try{document.head.removeChild(t)}catch(e){}},1e4)}const ds=1e4;const hs="4.22.1",fs="msal",ps="browser",gs="".concat(fs,".").concat(ps,".log.level"),ms="".concat(fs,".").concat(ps,".log.pii"),vs=("".concat(fs,".").concat(ps,".performance.enabled"),"".concat(fs,".").concat(ps,".platform.auth.dom")),ys="".concat(fs,".version"),bs="account.keys",_s="token.keys";function xs(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return e<1?"".concat(fs,".").concat(bs):"".concat(fs,".").concat(e,".").concat(bs)}function ws(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return t<1?"".concat(fs,".").concat(_s,".").concat(e):"".concat(fs,".").concat(t,".").concat(_s,".").concat(e)}class ks{static loggerCallback(e,t){switch(e){case De.$.Error:return void console.error(t);case De.$.Info:return void console.info(t);case De.$.Verbose:return void console.debug(t);case De.$.Warning:return void console.warn(t);default:return void console.log(t)}}constructor(e){var t,r;let n;this.browserEnvironment="undefined"!==typeof window,this.config=function(e,t){let{auth:r,cache:n,system:i,telemetry:a}=e;const o={clientId:Le.YM.EMPTY_STRING,authority:"".concat(Le.YM.DEFAULT_AUTHORITY),knownAuthorities:[],cloudDiscoveryMetadata:Le.YM.EMPTY_STRING,authorityMetadata:Le.YM.EMPTY_STRING,redirectUri:"undefined"!==typeof window?is():"",postLogoutRedirectUri:Le.YM.EMPTY_STRING,navigateToLoginRequestUrl:!0,clientCapabilities:[],protocolMode:Ue,OIDCOptions:{serverResponseType:Le.zL.FRAGMENT,defaultScopes:[Le.YM.OPENID_SCOPE,Le.YM.PROFILE_SCOPE,Le.YM.OFFLINE_ACCESS_SCOPE]},azureCloudOptions:{azureCloudInstance:Ke,tenant:Le.YM.EMPTY_STRING},skipAuthorityMetadataCache:!1,supportsNestedAppAuth:!1,instanceAware:!1,encodeExtraQueryParams:!1},s={cacheLocation:Mi.Al.SessionStorage,cacheRetentionDays:5,temporaryCacheLocation:Mi.Al.SessionStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!(!n||n.cacheLocation!==Mi.Al.LocalStorage),claimsBasedCachingEnabled:!1},l={loggerCallback:()=>{},logLevel:De.$.Info,piiLoggingEnabled:!1},c=(0,Re.A)((0,Re.A)({},ki),{},{loggerOptions:l,networkClient:t?new Ua:ji,navigationClient:new Ra,loadFrameTimeout:0,windowHashTimeout:(null===i||void 0===i?void 0:i.loadFrameTimeout)||6e4,iframeHashTimeout:(null===i||void 0===i?void 0:i.loadFrameTimeout)||ds,navigateFrameWait:0,redirectNavigationTimeout:3e4,asyncPopups:!1,allowRedirectInIframe:!1,allowPlatformBroker:!1,nativeBrokerHandshakeTimeout:(null===i||void 0===i?void 0:i.nativeBrokerHandshakeTimeout)||2e3,pollIntervalMilliseconds:Mi.Q1.DEFAULT_POLL_INTERVAL_MS}),u=(0,Re.A)((0,Re.A)((0,Re.A)({},c),i),{},{loggerOptions:(null===i||void 0===i?void 0:i.loggerOptions)||l}),d={application:{appName:Le.YM.EMPTY_STRING,appVersion:Le.YM.EMPTY_STRING},client:new wi};(null===r||void 0===r?void 0:r.protocolMode)!==Be&&null!==r&&void 0!==r&&r.OIDCOptions&&new De.V(u.loggerOptions).warning(JSON.stringify(ur(nr)));if(null!==r&&void 0!==r&&r.protocolMode&&r.protocolMode===Be&&null!==u&&void 0!==u&&u.allowPlatformBroker)throw ur(ir);return{auth:(0,Re.A)((0,Re.A)((0,Re.A)({},o),r),{},{OIDCOptions:(0,Re.A)((0,Re.A)({},o.OIDCOptions),null===r||void 0===r?void 0:r.OIDCOptions)}),cache:(0,Re.A)((0,Re.A)({},s),n),system:u,telemetry:(0,Re.A)((0,Re.A)({},d),a)}}(e,this.browserEnvironment);try{n=window[Mi.Al.SessionStorage]}catch(QU){}const i=null===(t=n)||void 0===t?void 0:t.getItem(gs),a=null===(r=n)||void 0===r||null===(r=r.getItem(ms))||void 0===r?void 0:r.toLowerCase(),o="true"===a||"false"!==a&&void 0,s=(0,Re.A)({},this.config.system.loggerOptions),l=i&&Object.keys(De.$).includes(i)?De.$[i]:void 0;l&&(s.loggerCallback=ks.loggerCallback,s.logLevel=l),void 0!==o&&(s.piiLoggingEnabled=o),this.logger=new De.V(s,"@azure/msal-browser",hs),this.available=!1}getConfig(){return this.config}getLogger(){return this.logger}isAvailable(){return this.available}isBrowserEnvironment(){return this.browserEnvironment}}class Es extends ks{getModuleName(){return Es.MODULE_NAME}getId(){return Es.ID}async initialize(){return this.available="undefined"!==typeof window,this.available}}Es.MODULE_NAME="",Es.ID="StandardOperatingContext";const Cs="missing_kid_error",As="missing_alg_error",Ts={[Cs]:"The JOSE Header for the requested JWT, JWS or JWK object requires a keyId to be configured as the 'kid' header claim. No 'kid' value was provided.",[As]:"The JOSE Header for the requested JWT, JWS or JWK object requires an algorithm to be specified as the 'alg' header claim. No 'alg' value was provided."};class Ss extends qe.lR{constructor(e,t){super(e,t),this.name="JoseHeaderError",Object.setPrototypeOf(this,Ss.prototype)}}function Os(e){return new Ss(e,Ts[e])}class Ps{constructor(e){this.typ=e.typ,this.alg=e.alg,this.kid=e.kid}static getShrHeaderString(e){if(!e.kid)throw Os(Cs);if(!e.alg)throw Os(As);const t=new Ps({typ:e.typ||Le.Lz.Pop,kid:e.kid,alg:e.alg});return JSON.stringify(t)}}class Is{constructor(){this.dbName=Mi.$u,this.version=Mi.G8,this.tableName=Mi.WJ,this.dbOpen=!1}async open(){return new Promise((e,t)=>{const r=window.indexedDB.open(this.dbName,this.version);r.addEventListener("upgradeneeded",e=>{e.target.result.createObjectStore(this.tableName)}),r.addEventListener("success",t=>{const r=t;this.db=r.target.result,this.dbOpen=!0,e()}),r.addEventListener("error",()=>t(Na(ya)))})}closeConnection(){const e=this.db;e&&this.dbOpen&&(e.close(),this.dbOpen=!1)}async validateDbIsOpen(){if(!this.dbOpen)return this.open()}async getItem(e){return await this.validateDbIsOpen(),new Promise((t,r)=>{if(!this.db)return r(Na(la));const n=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).get(e);n.addEventListener("success",e=>{const r=e;this.closeConnection(),t(r.target.result)}),n.addEventListener("error",e=>{this.closeConnection(),r(e)})})}async setItem(e,t){return await this.validateDbIsOpen(),new Promise((r,n)=>{if(!this.db)return n(Na(la));const i=this.db.transaction([this.tableName],"readwrite").objectStore(this.tableName).put(t,e);i.addEventListener("success",()=>{this.closeConnection(),r()}),i.addEventListener("error",e=>{this.closeConnection(),n(e)})})}async removeItem(e){return await this.validateDbIsOpen(),new Promise((t,r)=>{if(!this.db)return r(Na(la));const n=this.db.transaction([this.tableName],"readwrite").objectStore(this.tableName).delete(e);n.addEventListener("success",()=>{this.closeConnection(),t()}),n.addEventListener("error",e=>{this.closeConnection(),r(e)})})}async getKeys(){return await this.validateDbIsOpen(),new Promise((e,t)=>{if(!this.db)return t(Na(la));const r=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).getAllKeys();r.addEventListener("success",t=>{const r=t;this.closeConnection(),e(r.target.result)}),r.addEventListener("error",e=>{this.closeConnection(),t(e)})})}async containsKey(e){return await this.validateDbIsOpen(),new Promise((t,r)=>{if(!this.db)return r(Na(la));const n=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).count(e);n.addEventListener("success",e=>{const r=e;this.closeConnection(),t(1===r.target.result)}),n.addEventListener("error",e=>{this.closeConnection(),r(e)})})}async deleteDatabase(){return this.db&&this.dbOpen&&this.closeConnection(),new Promise((e,t)=>{const r=window.indexedDB.deleteDatabase(Mi.$u),n=setTimeout(()=>t(!1),200);r.addEventListener("success",()=>(clearTimeout(n),e(!0))),r.addEventListener("blocked",()=>(clearTimeout(n),e(!0))),r.addEventListener("error",()=>(clearTimeout(n),t(!1)))})}}class js{constructor(){this.cache=new Map}async initialize(){}getItem(e){return this.cache.get(e)||null}getUserData(e){return this.getItem(e)}setItem(e,t){this.cache.set(e,t)}async setUserData(e,t){this.setItem(e,t)}removeItem(e){this.cache.delete(e)}getKeys(){const e=[];return this.cache.forEach((t,r)=>{e.push(r)}),e}containsKey(e){return this.cache.has(e)}clear(){this.cache.clear()}decryptData(){return Promise.resolve(null)}}class Ms{constructor(e){this.inMemoryCache=new js,this.indexedDBCache=new Is,this.logger=e}handleDatabaseAccessError(e){if(!(e instanceof Ma&&e.errorCode===ya))throw e;this.logger.error("Could not access persistent storage. This may be caused by browser privacy features which block persistent storage in third-party contexts.")}async getItem(e){const t=this.inMemoryCache.getItem(e);if(!t)try{return this.logger.verbose("Queried item not found in in-memory cache, now querying persistent storage."),await this.indexedDBCache.getItem(e)}catch(QU){this.handleDatabaseAccessError(QU)}return t}async setItem(e,t){this.inMemoryCache.setItem(e,t);try{await this.indexedDBCache.setItem(e,t)}catch(QU){this.handleDatabaseAccessError(QU)}}async removeItem(e){this.inMemoryCache.removeItem(e);try{await this.indexedDBCache.removeItem(e)}catch(QU){this.handleDatabaseAccessError(QU)}}async getKeys(){const e=this.inMemoryCache.getKeys();if(0===e.length)try{return this.logger.verbose("In-memory cache is empty, now querying persistent storage."),await this.indexedDBCache.getKeys()}catch(QU){this.handleDatabaseAccessError(QU)}return e}async containsKey(e){const t=this.inMemoryCache.containsKey(e);if(!t)try{return this.logger.verbose("Key not found in in-memory cache, now querying persistent storage."),await this.indexedDBCache.containsKey(e)}catch(QU){this.handleDatabaseAccessError(QU)}return t}clearInMemory(){this.logger.verbose("Deleting in-memory keystore"),this.inMemoryCache.clear(),this.logger.verbose("In-memory keystore deleted")}async clearPersistent(){try{this.logger.verbose("Deleting persistent keystore");const e=await this.indexedDBCache.deleteDatabase();return e&&this.logger.verbose("Persistent keystore deleted"),e}catch(QU){return this.handleDatabaseAccessError(QU),!1}}}class Ns{constructor(e,t,r){this.logger=e,function(e){if(!window)throw Na(sa);if(!window.crypto)throw Na(Li);if(!e&&!window.crypto.subtle)throw Na(Li,"crypto_subtle_undefined")}(null!==r&&void 0!==r&&r),this.cache=new Ms(this.logger),this.performanceClient=t}createNewGuid(){return Ho()}base64Encode(e){return To(e)}base64Decode(e){return Oo(e)}base64UrlEncode(e){return Co(e)}encodeKid(e){return this.base64UrlEncode(JSON.stringify({kid:e}))}async getPublicKeyThumbprint(e){var t;const r=null===(t=this.performanceClient)||void 0===t?void 0:t.startMeasurement(Vr,e.correlationId),n=await async function(e,t){return window.crypto.subtle.generateKey(zo,e,t)}(Ns.EXTRACTABLE,Ns.POP_KEY_USAGES),i=await Wo(n.publicKey),a=Rs({e:i.e,kty:i.kty,n:i.n}),o=await this.hashString(a),s=await Wo(n.privateKey),l=await async function(e,t,r){return window.crypto.subtle.importKey(Mi.jb,e,zo,t,r)}(s,!1,["sign"]);return await this.cache.setItem(o,{privateKey:l,publicKey:n.publicKey,requestMethod:e.resourceRequestMethod,requestUri:e.resourceRequestUri}),r&&r.end({success:!0}),o}async removeTokenBindingKey(e){await this.cache.removeItem(e);if(await this.cache.containsKey(e))throw Rt(Ct)}async clearKeystore(){this.cache.clearInMemory();try{return await this.cache.clearPersistent(),!0}catch(QU){return QU instanceof Error?this.logger.error("Clearing keystore failed with error: ".concat(QU.message)):this.logger.error("Clearing keystore failed with unknown error"),!1}}async signJwt(e,t,r,n){var i;const a=null===(i=this.performanceClient)||void 0===i?void 0:i.startMeasurement(Gr,n),o=await this.cache.getItem(t);if(!o)throw Na(pa);const s=await Wo(o.publicKey),l=Rs(s),c=Co(JSON.stringify({kid:t})),u=Co(Ps.getShrHeaderString((0,Re.A)((0,Re.A)({},null===r||void 0===r?void 0:r.header),{},{alg:s.alg,kid:c})));e.cnf={jwk:JSON.parse(l)};const d=Co(JSON.stringify(e)),h="".concat(u,".").concat(d),f=(new TextEncoder).encode(h),p=await async function(e,t){return window.crypto.subtle.sign(zo,e,t)}(o.privateKey,f),g=Ao(new Uint8Array(p)),m="".concat(h,".").concat(g);return a&&a.end({success:!0}),m}async hashString(e){return Zo(e)}}function Rs(e){return JSON.stringify(e,Object.keys(e).sort())}Ns.POP_KEY_USAGES=["sign","verify"],Ns.EXTRACTABLE=!0;const Ds=0,Ls=1,Us=2,Bs=3;const zs=(e,t,r,n,i)=>function(){r.trace("Executing function ".concat(t));const a=null===n||void 0===n?void 0:n.startMeasurement(t,i);if(i){const e=t+"CallCount";null===n||void 0===n||n.incrementFields({[e]:1},i)}try{const n=e(...arguments);return null===a||void 0===a||a.end({success:!0}),r.trace("Returning result from ".concat(t)),n}catch(QU){r.trace("Error occurred in ".concat(t));try{r.trace(JSON.stringify(QU))}catch(QU){r.trace("Unable to print error message.")}throw null===a||void 0===a||a.end({success:!1},QU),QU}},Ks=(e,t,r,n,i)=>function(){r.trace("Executing function ".concat(t));const a=null===n||void 0===n?void 0:n.startMeasurement(t,i);if(i){const e=t+"CallCount";null===n||void 0===n||n.incrementFields({[e]:1},i)}return null===n||void 0===n||n.setPreQueueTime(t,i),e(...arguments).then(e=>(r.trace("Returning result from ".concat(t)),null===a||void 0===a||a.end({success:!0}),e)).catch(e=>{r.trace("Error occurred in ".concat(t));try{r.trace(JSON.stringify(e))}catch(e){r.trace("Unable to print error message.")}throw null===a||void 0===a||a.end({success:!1},e),e})};class qs{constructor(e,t,r,n){this.networkInterface=e,this.logger=t,this.performanceClient=r,this.correlationId=n}async detectRegion(e,t){var r;null===(r=this.performanceClient)||void 0===r||r.addQueueMeasurement(Yn,this.correlationId);let n=e;if(n)t.region_source=Le.jZ.ENVIRONMENT_VARIABLE;else{const e=qs.IMDS_OPTIONS;try{const r=await Ks(this.getRegionFromIMDS.bind(this),Qn,this.logger,this.performanceClient,this.correlationId)(Le.YM.IMDS_VERSION,e);if(r.status===Le.t3.SUCCESS&&(n=r.body,t.region_source=Le.jZ.IMDS),r.status===Le.t3.BAD_REQUEST){const r=await Ks(this.getCurrentVersion.bind(this),Jn,this.logger,this.performanceClient,this.correlationId)(e);if(!r)return t.region_source=Le.jZ.FAILED_AUTO_DETECTION,null;const i=await Ks(this.getRegionFromIMDS.bind(this),Qn,this.logger,this.performanceClient,this.correlationId)(r,e);i.status===Le.t3.SUCCESS&&(n=i.body,t.region_source=Le.jZ.IMDS)}}catch(QU){return t.region_source=Le.jZ.FAILED_AUTO_DETECTION,null}}return n||(t.region_source=Le.jZ.FAILED_AUTO_DETECTION),n||null}async getRegionFromIMDS(e,t){var r;return null===(r=this.performanceClient)||void 0===r||r.addQueueMeasurement(Qn,this.correlationId),this.networkInterface.sendGetRequestAsync("".concat(Le.YM.IMDS_ENDPOINT,"?api-version=").concat(e,"&format=text"),t,Le.YM.IMDS_TIMEOUT)}async getCurrentVersion(e){var t;null===(t=this.performanceClient)||void 0===t||t.addQueueMeasurement(Jn,this.correlationId);try{const t=await this.networkInterface.sendGetRequestAsync("".concat(Le.YM.IMDS_ENDPOINT,"?format=json"),e);return t.status===Le.t3.BAD_REQUEST&&t.body&&t.body["newest-versions"]&&t.body["newest-versions"].length>0?t.body["newest-versions"][0]:null}catch(QU){return null}}}function Fs(){return Math.round((new Date).getTime()/1e3)}function Hs(e){return e.getTime()/1e3}function Ws(e){return e?new Date(1e3*Number(e)):new Date}function Vs(e,t){const r=Number(e)||0;return Fs()+t>r}function Gs(e,t){const r=Number(e)+24*t*60*60*1e3;return Date.now()>r}function Ys(e,t,r,n,i){return{credentialType:Le.aG.ID_TOKEN,homeAccountId:e,environment:t,clientId:n,secret:r,realm:i,lastUpdatedAt:Date.now().toString()}}function Qs(e,t,r,n,i,a,o,s,l,c,u,d,h,f,p){var g,m;const v={homeAccountId:e,credentialType:Le.aG.ACCESS_TOKEN,secret:r,cachedAt:Fs().toString(),expiresOn:o.toString(),extendedExpiresOn:s.toString(),environment:t,clientId:n,realm:i,target:a,tokenType:u||Le.IO.BEARER,lastUpdatedAt:Date.now().toString()};if(d&&(v.userAssertionHash=d),c&&(v.refreshOn=c.toString()),f&&(v.requestedClaims=f,v.requestedClaimsHash=p),(null===(g=v.tokenType)||void 0===g?void 0:g.toLowerCase())!==Le.IO.BEARER.toLowerCase())switch(v.credentialType=Le.aG.ACCESS_TOKEN_WITH_AUTH_SCHEME,v.tokenType){case Le.IO.POP:const e=br(r,l);if(null===e||void 0===e||null===(m=e.cnf)||void 0===m||!m.kid)throw Rt(kt);v.keyId=e.cnf.kid;break;case Le.IO.SSH:v.keyId=h}return v}function Js(e,t,r,n,i,a,o){const s={credentialType:Le.aG.REFRESH_TOKEN,homeAccountId:e,environment:t,clientId:n,secret:r,lastUpdatedAt:Date.now().toString()};return a&&(s.userAssertionHash=a),i&&(s.familyId=i),o&&(s.expiresOn=o.toString()),s}function Xs(e){return e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("credentialType")&&e.hasOwnProperty("clientId")&&e.hasOwnProperty("secret")}function $s(e){return!!e&&(Xs(e)&&e.hasOwnProperty("realm")&&e.hasOwnProperty("target")&&(e.credentialType===Le.aG.ACCESS_TOKEN||e.credentialType===Le.aG.ACCESS_TOKEN_WITH_AUTH_SCHEME))}function Zs(e){return!!e&&(Xs(e)&&e.credentialType===Le.aG.REFRESH_TOKEN)}function el(){return Fs()+Le.u0.REFRESH_TIME_SECONDS}function tl(e,t,r){e.authorization_endpoint=t.authorization_endpoint,e.token_endpoint=t.token_endpoint,e.end_session_endpoint=t.end_session_endpoint,e.issuer=t.issuer,e.endpointsFromNetwork=r,e.jwks_uri=t.jwks_uri}function rl(e,t,r){e.aliases=t.aliases,e.preferred_cache=t.preferred_cache,e.preferred_network=t.preferred_network,e.aliasesFromNetwork=r}function nl(e){return e.expiresAt<=Fs()}qs.IMDS_OPTIONS={headers:{Metadata:"true"}};class il{constructor(e,t,r,n,i,a,o,s){this.canonicalAuthority=e,this._canonicalAuthority.validateAsUri(),this.networkInterface=t,this.cacheManager=r,this.authorityOptions=n,this.regionDiscoveryMetadata={region_used:void 0,region_source:void 0,region_outcome:void 0},this.logger=i,this.performanceClient=o,this.correlationId=a,this.managedIdentity=s||!1,this.regionDiscovery=new qs(t,this.logger,this.performanceClient,this.correlationId)}getAuthorityType(e){if(e.HostNameAndPort.endsWith(Le.YM.CIAM_AUTH_URL))return Bs;const t=e.PathSegments;if(t.length)switch(t[0].toLowerCase()){case Le.YM.ADFS:return Ls;case Le.YM.DSTS:return Us}return Ds}get authorityType(){return this.getAuthorityType(this.canonicalAuthorityUrlComponents)}get protocolMode(){return this.authorityOptions.protocolMode}get options(){return this.authorityOptions}get canonicalAuthority(){return this._canonicalAuthority.urlString}set canonicalAuthority(e){this._canonicalAuthority=new Ar(e),this._canonicalAuthority.validateAsUri(),this._canonicalAuthorityUrlComponents=null}get canonicalAuthorityUrlComponents(){return this._canonicalAuthorityUrlComponents||(this._canonicalAuthorityUrlComponents=this._canonicalAuthority.getUrlComponents()),this._canonicalAuthorityUrlComponents}get hostnameAndPort(){return this.canonicalAuthorityUrlComponents.HostNameAndPort.toLowerCase()}get tenant(){return this.canonicalAuthorityUrlComponents.PathSegments[0]}get authorizationEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.authorization_endpoint);throw Rt(Ge)}get tokenEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint);throw Rt(Ge)}get deviceCodeEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint.replace("/token","/devicecode"));throw Rt(Ge)}get endSessionEndpoint(){if(this.discoveryComplete()){if(!this.metadata.end_session_endpoint)throw Rt(At);return this.replacePath(this.metadata.end_session_endpoint)}throw Rt(Ge)}get selfSignedJwtAudience(){if(this.discoveryComplete())return this.replacePath(this.metadata.issuer);throw Rt(Ge)}get jwksUri(){if(this.discoveryComplete())return this.replacePath(this.metadata.jwks_uri);throw Rt(Ge)}canReplaceTenant(e){return 1===e.PathSegments.length&&!il.reservedTenantDomains.has(e.PathSegments[0])&&this.getAuthorityType(e)===Ds&&this.protocolMode!==Be}replaceTenant(e){return e.replace(/{tenant}|{tenantid}/g,this.tenant)}replacePath(e){let t=e;const r=new Ar(this.metadata.canonical_authority).getUrlComponents(),n=r.PathSegments;return this.canonicalAuthorityUrlComponents.PathSegments.forEach((e,i)=>{let a=n[i];if(0===i&&this.canReplaceTenant(r)){const e=new Ar(this.metadata.authorization_endpoint).getUrlComponents().PathSegments[0];a!==e&&(this.logger.verbose("Replacing tenant domain name ".concat(a," with id ").concat(e)),a=e)}e!==a&&(t=t.replace("/".concat(a,"/"),"/".concat(e,"/")))}),this.replaceTenant(t)}get defaultOpenIdConfigurationEndpoint(){const e=this.hostnameAndPort;return this.canonicalAuthority.endsWith("v2.0/")||this.authorityType===Ls||this.protocolMode===Be&&!this.isAliasOfKnownMicrosoftAuthority(e)?"".concat(this.canonicalAuthority,".well-known/openid-configuration"):"".concat(this.canonicalAuthority,"v2.0/.well-known/openid-configuration")}discoveryComplete(){return!!this.metadata}async resolveEndpointsAsync(){var e,t;null===(e=this.performanceClient)||void 0===e||e.addQueueMeasurement(qn,this.correlationId);const r=this.getCurrentMetadataEntity(),n=await Ks(this.updateCloudDiscoveryMetadata.bind(this),Hn,this.logger,this.performanceClient,this.correlationId)(r);this.canonicalAuthority=this.canonicalAuthority.replace(this.hostnameAndPort,r.preferred_network);const i=await Ks(this.updateEndpointMetadata.bind(this),Vn,this.logger,this.performanceClient,this.correlationId)(r);this.updateCachedMetadata(r,n,{source:i}),null===(t=this.performanceClient)||void 0===t||t.addFields({cloudDiscoverySource:n,authorityEndpointSource:i},this.correlationId)}getCurrentMetadataEntity(){let e=this.cacheManager.getAuthorityMetadataByAlias(this.hostnameAndPort);return e||(e={aliases:[],preferred_cache:this.hostnameAndPort,preferred_network:this.hostnameAndPort,canonical_authority:this.canonicalAuthority,authorization_endpoint:"",token_endpoint:"",end_session_endpoint:"",issuer:"",aliasesFromNetwork:!1,endpointsFromNetwork:!1,expiresAt:el(),jwks_uri:""}),e}updateCachedMetadata(e,t,r){t!==Le.E_.CACHE&&(null===r||void 0===r?void 0:r.source)!==Le.E_.CACHE&&(e.expiresAt=el(),e.canonical_authority=this.canonicalAuthority);const n=this.cacheManager.generateAuthorityMetadataCacheKey(e.preferred_cache);this.cacheManager.setAuthorityMetadata(n,e),this.metadata=e}async updateEndpointMetadata(e){var t;null===(t=this.performanceClient)||void 0===t||t.addQueueMeasurement(Vn,this.correlationId);const r=this.updateEndpointMetadataFromLocalSources(e);if(r){var n;if(r.source===Le.E_.HARDCODED_VALUES)if(null!==(n=this.authorityOptions.azureRegionConfiguration)&&void 0!==n&&n.azureRegion&&r.metadata){tl(e,await Ks(this.updateMetadataWithRegionalInformation.bind(this),Gn,this.logger,this.performanceClient,this.correlationId)(r.metadata),!1),e.canonical_authority=this.canonicalAuthority}return r.source}let i=await Ks(this.getEndpointMetadataFromNetwork.bind(this),Wn,this.logger,this.performanceClient,this.correlationId)();var a;if(i)return null!==(a=this.authorityOptions.azureRegionConfiguration)&&void 0!==a&&a.azureRegion&&(i=await Ks(this.updateMetadataWithRegionalInformation.bind(this),Gn,this.logger,this.performanceClient,this.correlationId)(i)),tl(e,i,!0),Le.E_.NETWORK;throw Rt(Qe,this.defaultOpenIdConfigurationEndpoint)}updateEndpointMetadataFromLocalSources(e){this.logger.verbose("Attempting to get endpoint metadata from authority configuration");const t=this.getEndpointMetadataFromConfig();if(t)return this.logger.verbose("Found endpoint metadata in authority configuration"),tl(e,t,!1),{source:Le.E_.CONFIG};if(this.logger.verbose("Did not find endpoint metadata in the config... Attempting to get endpoint metadata from the hardcoded values."),this.authorityOptions.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get endpoint metadata from the network metadata cache.");else{const t=this.getEndpointMetadataFromHardcodedValues();if(t)return tl(e,t,!1),{source:Le.E_.HARDCODED_VALUES,metadata:t};this.logger.verbose("Did not find endpoint metadata in hardcoded values... Attempting to get endpoint metadata from the network metadata cache.")}const r=nl(e);return this.isAuthoritySameType(e)&&e.endpointsFromNetwork&&!r?(this.logger.verbose("Found endpoint metadata in the cache."),{source:Le.E_.CACHE}):(r&&this.logger.verbose("The metadata entity is expired."),null)}isAuthoritySameType(e){return new Ar(e.canonical_authority).getUrlComponents().PathSegments.length===this.canonicalAuthorityUrlComponents.PathSegments.length}getEndpointMetadataFromConfig(){if(this.authorityOptions.authorityMetadata)try{return JSON.parse(this.authorityOptions.authorityMetadata)}catch(QU){throw ur(Xt)}return null}async getEndpointMetadataFromNetwork(){var e;null===(e=this.performanceClient)||void 0===e||e.addQueueMeasurement(Wn,this.correlationId);const t={},r=this.defaultOpenIdConfigurationEndpoint;this.logger.verbose("Authority.getEndpointMetadataFromNetwork: attempting to retrieve OAuth endpoints from ".concat(r));try{const e=await this.networkInterface.sendGetRequestAsync(r,t),n=function(e){return e.hasOwnProperty("authorization_endpoint")&&e.hasOwnProperty("token_endpoint")&&e.hasOwnProperty("issuer")&&e.hasOwnProperty("jwks_uri")}(e.body);return n?e.body:(this.logger.verbose("Authority.getEndpointMetadataFromNetwork: could not parse response as OpenID configuration"),null)}catch(QU){return this.logger.verbose("Authority.getEndpointMetadataFromNetwork: ".concat(QU)),null}}getEndpointMetadataFromHardcodedValues(){return this.hostnameAndPort in Tr?Tr[this.hostnameAndPort]:null}async updateMetadataWithRegionalInformation(e){var t,r;null===(t=this.performanceClient)||void 0===t||t.addQueueMeasurement(Gn,this.correlationId);const n=null===(r=this.authorityOptions.azureRegionConfiguration)||void 0===r?void 0:r.azureRegion;if(n){var i;if(n!==Le.YM.AZURE_REGION_AUTO_DISCOVER_FLAG)return this.regionDiscoveryMetadata.region_outcome=Le._2.CONFIGURED_NO_AUTO_DETECTION,this.regionDiscoveryMetadata.region_used=n,il.replaceWithRegionalInformation(e,n);const t=await Ks(this.regionDiscovery.detectRegion.bind(this.regionDiscovery),Yn,this.logger,this.performanceClient,this.correlationId)(null===(i=this.authorityOptions.azureRegionConfiguration)||void 0===i?void 0:i.environmentRegion,this.regionDiscoveryMetadata);if(t)return this.regionDiscoveryMetadata.region_outcome=Le._2.AUTO_DETECTION_REQUESTED_SUCCESSFUL,this.regionDiscoveryMetadata.region_used=t,il.replaceWithRegionalInformation(e,t);this.regionDiscoveryMetadata.region_outcome=Le._2.AUTO_DETECTION_REQUESTED_FAILED}return e}async updateCloudDiscoveryMetadata(e){var t;null===(t=this.performanceClient)||void 0===t||t.addQueueMeasurement(Hn,this.correlationId);const r=this.updateCloudDiscoveryMetadataFromLocalSources(e);if(r)return r;const n=await Ks(this.getCloudDiscoveryMetadataFromNetwork.bind(this),Fn,this.logger,this.performanceClient,this.correlationId)();if(n)return rl(e,n,!0),Le.E_.NETWORK;throw ur($t)}updateCloudDiscoveryMetadataFromLocalSources(e){this.logger.verbose("Attempting to get cloud discovery metadata  from authority configuration"),this.logger.verbosePii("Known Authorities: ".concat(this.authorityOptions.knownAuthorities||Le.YM.NOT_APPLICABLE)),this.logger.verbosePii("Authority Metadata: ".concat(this.authorityOptions.authorityMetadata||Le.YM.NOT_APPLICABLE)),this.logger.verbosePii("Canonical Authority: ".concat(e.canonical_authority||Le.YM.NOT_APPLICABLE));const t=this.getCloudDiscoveryMetadataFromConfig();if(t)return this.logger.verbose("Found cloud discovery metadata in authority configuration"),rl(e,t,!1),Le.E_.CONFIG;if(this.logger.verbose("Did not find cloud discovery metadata in the config... Attempting to get cloud discovery metadata from the hardcoded values."),this.options.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded cloud discovery metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get cloud discovery metadata from the network metadata cache.");else{const t=(r=this.hostnameAndPort,Ir(Sr.metadata,r));if(t)return this.logger.verbose("Found cloud discovery metadata from hardcoded values."),rl(e,t,!1),Le.E_.HARDCODED_VALUES;this.logger.verbose("Did not find cloud discovery metadata in hardcoded values... Attempting to get cloud discovery metadata from the network metadata cache.")}var r;const n=nl(e);return this.isAuthoritySameType(e)&&e.aliasesFromNetwork&&!n?(this.logger.verbose("Found cloud discovery metadata in the cache."),Le.E_.CACHE):(n&&this.logger.verbose("The metadata entity is expired."),null)}getCloudDiscoveryMetadataFromConfig(){if(this.authorityType===Bs)return this.logger.verbose("CIAM authorities do not support cloud discovery metadata, generate the aliases from authority host."),il.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort);if(this.authorityOptions.cloudDiscoveryMetadata){this.logger.verbose("The cloud discovery metadata has been provided as a network response, in the config.");try{this.logger.verbose("Attempting to parse the cloud discovery metadata.");const e=Ir(JSON.parse(this.authorityOptions.cloudDiscoveryMetadata).metadata,this.hostnameAndPort);if(this.logger.verbose("Parsed the cloud discovery metadata."),e)return this.logger.verbose("There is returnable metadata attached to the parsed cloud discovery metadata."),e;this.logger.verbose("There is no metadata attached to the parsed cloud discovery metadata.")}catch(QU){throw this.logger.verbose("Unable to parse the cloud discovery metadata. Throwing Invalid Cloud Discovery Metadata Error."),ur(Jt)}}return this.isInKnownAuthorities()?(this.logger.verbose("The host is included in knownAuthorities. Creating new cloud discovery metadata from the host."),il.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)):null}async getCloudDiscoveryMetadataFromNetwork(){var e;null===(e=this.performanceClient)||void 0===e||e.addQueueMeasurement(Fn,this.correlationId);const t="".concat(Le.YM.AAD_INSTANCE_DISCOVERY_ENDPT).concat(this.canonicalAuthority,"oauth2/v2.0/authorize"),r={};let n=null;try{const e=await this.networkInterface.sendGetRequestAsync(t,r);let i,a;if(function(e){return e.hasOwnProperty("tenant_discovery_endpoint")&&e.hasOwnProperty("metadata")}(e.body))i=e.body,a=i.metadata,this.logger.verbosePii("tenant_discovery_endpoint is: ".concat(i.tenant_discovery_endpoint));else{if(!function(e){return e.hasOwnProperty("error")&&e.hasOwnProperty("error_description")}(e.body))return this.logger.error("AAD did not return a CloudInstanceDiscoveryResponse or CloudInstanceDiscoveryErrorResponse"),null;if(this.logger.warning("A CloudInstanceDiscoveryErrorResponse was returned. The cloud instance discovery network request's status code is: ".concat(e.status)),i=e.body,i.error===Le.YM.INVALID_INSTANCE)return this.logger.error("The CloudInstanceDiscoveryErrorResponse error is invalid_instance."),null;this.logger.warning("The CloudInstanceDiscoveryErrorResponse error is ".concat(i.error)),this.logger.warning("The CloudInstanceDiscoveryErrorResponse error description is ".concat(i.error_description)),this.logger.warning("Setting the value of the CloudInstanceDiscoveryMetadata (returned from the network) to []"),a=[]}this.logger.verbose("Attempting to find a match between the developer's authority and the CloudInstanceDiscoveryMetadata returned from the network request."),n=Ir(a,this.hostnameAndPort)}catch(i){if(i instanceof qe.lR)this.logger.error("There was a network error while attempting to get the cloud discovery instance metadata.\nError: ".concat(i.errorCode,"\nError Description: ").concat(i.errorMessage));else{const e=i;this.logger.error("A non-MSALJS error was thrown while attempting to get the cloud instance discovery metadata.\nError: ".concat(e.name,"\nError Description: ").concat(e.message))}return null}return n||(this.logger.warning("The developer's authority was not found within the CloudInstanceDiscoveryMetadata returned from the network request."),this.logger.verbose("Creating custom Authority for custom domain scenario."),n=il.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)),n}isInKnownAuthorities(){return this.authorityOptions.knownAuthorities.filter(e=>e&&Ar.getDomainFromUrl(e).toLowerCase()===this.hostnameAndPort).length>0}static generateAuthority(e,t){let r;if(t&&t.azureCloudInstance!==Ke){const e=t.tenant?t.tenant:Le.YM.DEFAULT_COMMON_TENANT;r="".concat(t.azureCloudInstance,"/").concat(e,"/")}return r||e}static createCloudDiscoveryMetadataFromHost(e){return{preferred_network:e,preferred_cache:e,aliases:[e]}}getPreferredCache(){if(this.managedIdentity)return Le.YM.DEFAULT_AUTHORITY_HOST;if(this.discoveryComplete())return this.metadata.preferred_cache;throw Rt(Ge)}isAlias(e){return this.metadata.aliases.indexOf(e)>-1}isAliasOfKnownMicrosoftAuthority(e){return Or.has(e)}static isPublicCloudAuthority(e){return Le.YM.KNOWN_PUBLIC_CLOUDS.indexOf(e)>=0}static buildRegionalAuthorityString(e,t,r){const n=new Ar(e);n.validateAsUri();const i=n.getUrlComponents();let a="".concat(t,".").concat(i.HostNameAndPort);this.isPublicCloudAuthority(i.HostNameAndPort)&&(a="".concat(t,".").concat(Le.YM.REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX));const o=Ar.constructAuthorityUriFromObject((0,Re.A)((0,Re.A)({},n.getUrlComponents()),{},{HostNameAndPort:a})).urlString;return r?"".concat(o,"?").concat(r):o}static replaceWithRegionalInformation(e,t){const r=(0,Re.A)({},e);return r.authorization_endpoint=il.buildRegionalAuthorityString(r.authorization_endpoint,t),r.token_endpoint=il.buildRegionalAuthorityString(r.token_endpoint,t),r.end_session_endpoint&&(r.end_session_endpoint=il.buildRegionalAuthorityString(r.end_session_endpoint,t)),r}static transformCIAMAuthority(e){let t=e;const r=new Ar(e).getUrlComponents();if(0===r.PathSegments.length&&r.HostNameAndPort.endsWith(Le.YM.CIAM_AUTH_URL)){const e=r.HostNameAndPort.split(".")[0];t="".concat(t).concat(e).concat(Le.YM.AAD_TENANT_DOMAIN_SUFFIX)}return t}}function al(e){return e.endsWith(Le.YM.FORWARD_SLASH)?e:"".concat(e).concat(Le.YM.FORWARD_SLASH)}il.reservedTenantDomains=new Set(["{tenant}","{tenantid}",Le.v2.COMMON,Le.v2.CONSUMERS,Le.v2.ORGANIZATIONS]);const ol="no_tokens_found",sl="native_account_unavailable",ll="refresh_token_expired",cl="ux_not_allowed",ul="bad_token",dl=["interaction_required","consent_required","login_required",ul,cl],hl=["message_only","additional_action","basic_action","user_password_expired","consent_required","bad_token"],fl={[ol]:"No refresh token found in the cache. Please sign-in.",[sl]:"The requested account is not available in the native broker. It may have been deleted or logged out. Please sign-in again using an interactive API.",[ll]:"Refresh token has expired.",[ul]:"Identity provider returned bad_token due to an expired or invalid refresh token. Please invoke an interactive API to resolve.",[cl]:"`canShowUI` flag in Edge was set to false. User interaction required on web page. Please invoke an interactive API to resolve."};class pl extends qe.lR{constructor(e,t,r,n,i,a,o,s){super(e,t,r),Object.setPrototypeOf(this,pl.prototype),this.timestamp=n||Le.YM.EMPTY_STRING,this.traceId=i||Le.YM.EMPTY_STRING,this.correlationId=a||Le.YM.EMPTY_STRING,this.claims=o||Le.YM.EMPTY_STRING,this.name="InteractionRequiredAuthError",this.errorNo=s}}function gl(e,t,r){const n=!!e&&dl.indexOf(e)>-1,i=!!r&&hl.indexOf(r)>-1,a=!!t&&dl.some(e=>t.indexOf(e)>-1);return n||a||i}function ml(e){return new pl(e,fl[e])}function vl(e,t){if(!e)throw Rt(He);try{const r=t(e);return JSON.parse(r)}catch(QU){throw Rt(Fe)}}function yl(e){if(!e)throw Rt(Fe);const t=e.split(Le.LR.CLIENT_INFO_SEPARATOR,2);return{uid:t[0],utid:t.length<2?Le.YM.EMPTY_STRING:t[1]}}function bl(e){if(e){return e.tid||e.tfp||e.acr||null}return null}class _l{getAccountInfo(){return{homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId,loginHint:this.loginHint,name:this.name,nativeAccountId:this.nativeAccountId,authorityType:this.authorityType,tenantProfiles:new Map((this.tenantProfiles||[]).map(e=>[e.tenantId,e]))}}isSingleTenant(){return!this.tenantProfiles}static createAccount(e,t,r){var n,i,a,o,s,l,c,u,d;const h=new _l;let f;t.authorityType===Ls?h.authorityType=Le.Qd.ADFS_ACCOUNT_TYPE:t.protocolMode===Be?h.authorityType=Le.Qd.GENERIC_ACCOUNT_TYPE:h.authorityType=Le.Qd.MSSTS_ACCOUNT_TYPE,e.clientInfo&&r&&(f=vl(e.clientInfo,r)),h.clientInfo=e.clientInfo,h.homeAccountId=e.homeAccountId,h.nativeAccountId=e.nativeAccountId;const p=e.environment||t&&t.getPreferredCache();if(!p)throw Rt(gt);h.environment=p,h.realm=(null===(n=f)||void 0===n?void 0:n.utid)||bl(e.idTokenClaims)||"",h.localAccountId=(null===(i=f)||void 0===i?void 0:i.uid)||(null===(a=e.idTokenClaims)||void 0===a?void 0:a.oid)||(null===(o=e.idTokenClaims)||void 0===o?void 0:o.sub)||"";const g=(null===(s=e.idTokenClaims)||void 0===s?void 0:s.preferred_username)||(null===(l=e.idTokenClaims)||void 0===l?void 0:l.upn),m=null!==(c=e.idTokenClaims)&&void 0!==c&&c.emails?e.idTokenClaims.emails[0]:null;if(h.username=g||m||"",h.loginHint=null===(u=e.idTokenClaims)||void 0===u?void 0:u.login_hint,h.name=(null===(d=e.idTokenClaims)||void 0===d?void 0:d.name)||"",h.cloudGraphHostName=e.cloudGraphHostName,h.msGraphHost=e.msGraphHost,e.tenantProfiles)h.tenantProfiles=e.tenantProfiles;else{const t=vr(e.homeAccountId,h.localAccountId,h.realm,e.idTokenClaims);h.tenantProfiles=[t]}return h}static createFromAccountInfo(e,t,r){var n;const i=new _l;return i.authorityType=e.authorityType||Le.Qd.GENERIC_ACCOUNT_TYPE,i.homeAccountId=e.homeAccountId,i.localAccountId=e.localAccountId,i.nativeAccountId=e.nativeAccountId,i.realm=e.tenantId,i.environment=e.environment,i.username=e.username,i.name=e.name,i.loginHint=e.loginHint,i.cloudGraphHostName=t,i.msGraphHost=r,i.tenantProfiles=Array.from((null===(n=e.tenantProfiles)||void 0===n?void 0:n.values())||[]),i}static generateHomeAccountId(e,t,r,n,i){if(t!==Ls&&t!==Us){if(e)try{const t=vl(e,n.base64Decode);if(t.uid&&t.utid)return"".concat(t.uid,".").concat(t.utid)}catch(QU){}r.warning("No client info in response")}return(null===i||void 0===i?void 0:i.sub)||""}static isAccountEntity(e){return!!e&&(e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("realm")&&e.hasOwnProperty("localAccountId")&&e.hasOwnProperty("username")&&e.hasOwnProperty("authorityType"))}static accountInfoIsEqual(e,t,r){if(!e||!t)return!1;let n=!0;if(r){const r=e.idTokenClaims||{},i=t.idTokenClaims||{};n=r.iat===i.iat&&r.nonce===i.nonce}return e.homeAccountId===t.homeAccountId&&e.localAccountId===t.localAccountId&&e.username===t.username&&e.tenantId===t.tenantId&&e.loginHint===t.loginHint&&e.environment===t.environment&&e.nativeAccountId===t.nativeAccountId&&n}}function xl(e,t,r){var n;return{clientId:e,authority:t.authority,scopes:t.scopes,homeAccountIdentifier:r,claims:t.claims,authenticationScheme:t.authenticationScheme,resourceRequestMethod:t.resourceRequestMethod,resourceRequestUri:t.resourceRequestUri,shrClaims:t.shrClaims,sshKid:t.sshKid,embeddedClientId:t.embeddedClientId||(null===(n=t.tokenBodyParameters)||void 0===n?void 0:n.clientId)}}const wl=864e5,kl="Lax",El="None";class Cl{initialize(){return Promise.resolve()}getItem(e){const t="".concat(encodeURIComponent(e)),r=document.cookie.split(";");for(let n=0;n<r.length;n++){const e=r[n],[i,...a]=decodeURIComponent(e).trim().split("="),o=a.join("=");if(i===t)return o}return""}getUserData(){throw Rt(It)}setItem(e,t,r){let n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:kl,a="".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(t),";path=/;SameSite=").concat(i,";");if(r){const e=function(e){const t=new Date,r=new Date(t.getTime()+e*wl);return r.toUTCString()}(r);a+="expires=".concat(e,";")}(n||i===El)&&(a+="Secure;"),document.cookie=a}async setUserData(){return Promise.reject(Rt(It))}removeItem(e){this.setItem(e,"",-1)}getKeys(){const e=document.cookie.split(";"),t=[];return e.forEach(e=>{const r=decodeURIComponent(e).trim().split("=");t.push(r[0])}),t}containsKey(e){return this.getKeys().includes(e)}decryptData(){return Promise.resolve(null)}}function Al(e,t){const r=e.getItem(xs(t));return r?JSON.parse(r):[]}function Tl(e,t,r){const n=t.getItem(ws(e,r));if(n){const e=JSON.parse(n);if(e&&e.hasOwnProperty("idToken")&&e.hasOwnProperty("accessToken")&&e.hasOwnProperty("refreshToken"))return e}return{idToken:[],accessToken:[],refreshToken:[]}}function Sl(e){return e.hasOwnProperty("id")&&e.hasOwnProperty("nonce")&&e.hasOwnProperty("data")}const Ol="msal.cache.encryption";class Pl{constructor(e,t,r){if(!window.localStorage)throw(0,es.jz)(ts.xz);this.memoryStorage=new js,this.initialized=!1,this.clientId=e,this.logger=t,this.performanceClient=r,this.broadcast=new BroadcastChannel("msal.broadcast.cache")}async initialize(e){const t=new Cl,r=t.getItem(Ol);let n={key:"",id:""};if(r)try{n=JSON.parse(r)}catch(QU){}if(n.key&&n.id){const t=zs(Po,pi,this.logger,this.performanceClient,e)(n.key);this.encryptionCookie={id:n.id,key:await Ks(Qo,hi,this.logger,this.performanceClient,e)(t)}}else{const r=Ho(),n=await Ks(Yo,fi,this.logger,this.performanceClient,e)(),i=zs(Ao,gi,this.logger,this.performanceClient,e)(new Uint8Array(n));this.encryptionCookie={id:r,key:await Ks(Qo,hi,this.logger,this.performanceClient,e)(n)};const a={id:r,key:i};t.setItem(Ol,JSON.stringify(a),0,!0,El)}await Ks(this.importExistingCache.bind(this),ii,this.logger,this.performanceClient,e)(e),this.broadcast.addEventListener("message",this.updateCache.bind(this)),this.initialized=!0}getItem(e){return window.localStorage.getItem(e)}getUserData(e){if(!this.initialized)throw Na(ka);return this.memoryStorage.getItem(e)}async decryptData(e,t,r){if(!this.initialized||!this.encryptionCookie)throw Na(ka);if(t.id!==this.encryptionCookie.id)return this.performanceClient.incrementFields({encryptedCacheExpiredCount:1},r),null;const n=await Ks($o,vi,this.logger,this.performanceClient,r)(this.encryptionCookie.key,t.nonce,this.getContext(e),t.data);if(!n)return null;try{return JSON.parse(n)}catch(QU){return this.performanceClient.incrementFields({encryptedCacheCorruptionCount:1},r),null}}setItem(e,t){window.localStorage.setItem(e,t)}async setUserData(e,t,r,n){if(!this.initialized||!this.encryptionCookie)throw Na(ka);const{data:i,nonce:a}=await Ks(Xo,mi,this.logger,this.performanceClient,r)(this.encryptionCookie.key,t,this.getContext(e)),o={id:this.encryptionCookie.id,nonce:a,data:i,lastUpdatedAt:n};this.memoryStorage.setItem(e,t),this.setItem(e,JSON.stringify(o)),this.broadcast.postMessage({key:e,value:t,context:this.getContext(e)})}removeItem(e){this.memoryStorage.containsKey(e)&&(this.memoryStorage.removeItem(e),this.broadcast.postMessage({key:e,value:null,context:this.getContext(e)})),window.localStorage.removeItem(e)}getKeys(){return Object.keys(window.localStorage)}containsKey(e){return window.localStorage.hasOwnProperty(e)}clear(){this.memoryStorage.clear();Al(this).forEach(e=>this.removeItem(e));const e=Tl(this.clientId,this);e.idToken.forEach(e=>this.removeItem(e)),e.accessToken.forEach(e=>this.removeItem(e)),e.refreshToken.forEach(e=>this.removeItem(e)),this.getKeys().forEach(e=>{(e.startsWith(fs)||-1!==e.indexOf(this.clientId))&&this.removeItem(e)})}async importExistingCache(e){if(!this.encryptionCookie)return;let t=Al(this);t=await this.importArray(t,e),t.length?this.setItem(xs(),JSON.stringify(t)):this.removeItem(xs());const r=Tl(this.clientId,this);r.idToken=await this.importArray(r.idToken,e),r.accessToken=await this.importArray(r.accessToken,e),r.refreshToken=await this.importArray(r.refreshToken,e),r.idToken.length||r.accessToken.length||r.refreshToken.length?this.setItem(ws(this.clientId),JSON.stringify(r)):this.removeItem(ws(this.clientId))}async getItemFromEncryptedCache(e,t){if(!this.encryptionCookie)return null;const r=this.getItem(e);if(!r)return null;let n;try{n=JSON.parse(r)}catch(QU){return null}return Sl(n)?n.id!==this.encryptionCookie.id?(this.performanceClient.incrementFields({encryptedCacheExpiredCount:1},t),null):Ks($o,vi,this.logger,this.performanceClient,t)(this.encryptionCookie.key,n.nonce,this.getContext(e),n.data):(this.performanceClient.incrementFields({unencryptedCacheCount:1},t),n)}async importArray(e,t){const r=[],n=[];return e.forEach(e=>{const i=this.getItemFromEncryptedCache(e,t).then(t=>{t?(this.memoryStorage.setItem(e,t),r.push(e)):this.removeItem(e)});n.push(i)}),await Promise.all(n),r}getContext(e){let t="";return e.includes(this.clientId)&&(t=this.clientId),t}updateCache(e){this.logger.trace("Updating internal cache from broadcast event");const t=this.performanceClient.startMeasurement(oi);t.add({isBackground:!0});const{key:r,value:n,context:i}=e.data;return r?i&&i!==this.clientId?(this.logger.trace("Ignoring broadcast event from clientId: ".concat(i)),void t.end({success:!1,errorCode:"contextMismatch"})):(n?(this.memoryStorage.setItem(r,n),this.logger.verbose("Updated item in internal cache")):(this.memoryStorage.removeItem(r),this.logger.verbose("Removed item from internal cache")),void t.end({success:!0})):(this.logger.error("Broadcast event missing key"),void t.end({success:!1,errorCode:"noKey"}))}}class Il{constructor(){if(!window.sessionStorage)throw(0,es.jz)(ts.xz)}async initialize(){}getItem(e){return window.sessionStorage.getItem(e)}getUserData(e){return this.getItem(e)}setItem(e,t){window.sessionStorage.setItem(e,t)}async setUserData(e,t){this.setItem(e,t)}removeItem(e){window.sessionStorage.removeItem(e)}getKeys(){return Object.keys(window.sessionStorage)}containsKey(e){return window.sessionStorage.hasOwnProperty(e)}decryptData(){return Promise.resolve(null)}}var jl=__webpack_require__(7204);function Ml(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}class Nl extends Lr{constructor(e,t,r,n,i,a,o){super(e,r,n,i,o),this.cacheConfig=t,this.logger=n,this.internalStorage=new js,this.browserStorage=Rl(e,t.cacheLocation,n,i),this.temporaryCacheStorage=Rl(e,t.temporaryCacheLocation,n,i),this.cookieStorage=new Cl,this.eventHandler=a}async initialize(e){this.performanceClient.addFields({cacheLocation:this.cacheConfig.cacheLocation,cacheRetentionDays:this.cacheConfig.cacheRetentionDays},e),await this.browserStorage.initialize(e),await this.migrateExistingCache(e),this.trackVersionChanges(e)}async migrateExistingCache(e){const t=Al(this.browserStorage,0),r=Tl(this.clientId,this.browserStorage,0);this.performanceClient.addFields({oldAccountCount:t.length,oldAccessCount:r.accessToken.length,oldIdCount:r.idToken.length,oldRefreshCount:r.refreshToken.length},e);const n=Al(this.browserStorage,1),i=Tl(this.clientId,this.browserStorage,1);this.performanceClient.addFields({currAccountCount:n.length,currAccessCount:i.accessToken.length,currIdCount:i.idToken.length,currRefreshCount:i.refreshToken.length},e),await Promise.all([this.updateV0ToCurrent(1,t,n,e),this.updateV0ToCurrent(1,r.idToken,i.idToken,e),this.updateV0ToCurrent(1,r.accessToken,i.accessToken,e),this.updateV0ToCurrent(1,r.refreshToken,i.refreshToken,e)]),t.length>0?this.browserStorage.setItem(xs(0),JSON.stringify(t)):this.browserStorage.removeItem(xs(0)),n.length>0?this.browserStorage.setItem(xs(1),JSON.stringify(n)):this.browserStorage.removeItem(xs(1)),this.setTokenKeys(r,e,0),this.setTokenKeys(i,e,1)}async updateV0ToCurrent(e,t,r,n){const i=[];for(const a of[...t]){const o=this.browserStorage.getItem(a),s=this.validateAndParseJson(o||"");if(!s){Ml(t,a);continue}s.lastUpdatedAt||(s.lastUpdatedAt=Date.now().toString(),this.setItem(a,JSON.stringify(s),n));const l=Sl(s)?await this.browserStorage.decryptData(a,s,n):s;let c;if(l&&($s(l)||Zs(l))&&(c=l.expiresOn),!l||Gs(s.lastUpdatedAt,this.cacheConfig.cacheRetentionDays)||c&&Vs(c,Le.F0))this.browserStorage.removeItem(a),Ml(t,a),this.performanceClient.incrementFields({expiredCacheRemovedCount:1},n);else if(this.cacheConfig.cacheLocation!==Mi.Al.LocalStorage||Sl(s)){const t="".concat(fs,".").concat(e).concat("-").concat(a),o=this.browserStorage.getItem(t);if(!o){i.push(this.setUserData(t,JSON.stringify(l),n,s.lastUpdatedAt).then(()=>{r.push(t),this.performanceClient.incrementFields({upgradedCacheCount:1},n)}));continue}{const e=this.validateAndParseJson(o);if(Number(s.lastUpdatedAt)>Number(e.lastUpdatedAt)){i.push(this.setUserData(t,JSON.stringify(l),n,s.lastUpdatedAt).then(()=>{this.performanceClient.incrementFields({updatedCacheFromV0Count:1},n)}));continue}}}}return Promise.all(i)}trackVersionChanges(e){const t=this.browserStorage.getItem(ys);t&&(this.logger.info("MSAL.js was last initialized by version: ".concat(t)),this.performanceClient.addFields({previousLibraryVersion:t},e)),t!==hs&&this.setItem(ys,hs,e)}validateAndParseJson(e){if(!e)return null;try{const t=JSON.parse(e);return t&&"object"===typeof t?t:null}catch(t){return null}}setItem(e,t,r){let n=0,i=[];for(let a=0;a<=20;a++)try{this.browserStorage.setItem(e,t),a>0&&(a<=n?this.removeAccessTokenKeys(i.slice(0,a),r,0):(this.removeAccessTokenKeys(i.slice(0,n),r,0),this.removeAccessTokenKeys(i.slice(n,a),r)));break}catch(QU){const s=Dr(QU);if(!(s.errorCode===jr&&a<20))throw s;if(!i.length){const r=e===ws(this.clientId,0)?JSON.parse(t).accessToken:this.getTokenKeys(0).accessToken,a=e===ws(this.clientId)?JSON.parse(t).accessToken:this.getTokenKeys().accessToken;i=[...r,...a],n=r.length}if(i.length<=a)throw s;this.removeAccessToken(i[a],r,!1)}}async setUserData(e,t,r,n){let i=0,a=[];for(let o=0;o<=20;o++)try{await Ks(this.browserStorage.setUserData.bind(this.browserStorage),ai,this.logger,this.performanceClient)(e,t,r,n),o>0&&(o<=i?this.removeAccessTokenKeys(a.slice(0,o),r,0):(this.removeAccessTokenKeys(a.slice(0,i),r,0),this.removeAccessTokenKeys(a.slice(i,o),r)));break}catch(QU){const t=Dr(QU);if(!(t.errorCode===jr&&o<20))throw t;if(!a.length){const e=this.getTokenKeys(0).accessToken,t=this.getTokenKeys().accessToken;a=[...e,...t],i=e.length}if(a.length<=o)throw t;this.removeAccessToken(a[o],r,!1)}}getAccount(e,t){this.logger.trace("BrowserCacheManager.getAccount called");const r=this.browserStorage.getUserData(e);if(!r)return this.removeAccountKeyFromMap(e,t),null;const n=this.validateAndParseJson(r);return n&&_l.isAccountEntity(n)?Lr.toObject(new _l,n):null}async setAccount(e,t){this.logger.trace("BrowserCacheManager.setAccount called");const r=this.generateAccountKey(e.getAccountInfo()),n=Date.now().toString();e.lastUpdatedAt=n,await this.setUserData(r,JSON.stringify(e),t,n);const i=this.addAccountKeyToMap(r,t);this.cacheConfig.cacheLocation===Mi.Al.LocalStorage&&i&&this.eventHandler.emitEvent(jl.B.ACCOUNT_ADDED,void 0,e.getAccountInfo())}getAccountKeys(){return Al(this.browserStorage)}addAccountKeyToMap(e,t){this.logger.trace("BrowserCacheManager.addAccountKeyToMap called"),this.logger.tracePii("BrowserCacheManager.addAccountKeyToMap called with key: ".concat(e));const r=this.getAccountKeys();return-1===r.indexOf(e)?(r.push(e),this.setItem(xs(),JSON.stringify(r),t),this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key added"),!0):(this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key already exists in map"),!1)}removeAccountKeyFromMap(e,t){this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap called"),this.logger.tracePii("BrowserCacheManager.removeAccountKeyFromMap called with key: ".concat(e));const r=this.getAccountKeys(),n=r.indexOf(e);if(n>-1){if(r.splice(n,1),0===r.length)return void this.removeItem(xs());this.setItem(xs(),JSON.stringify(r),t),this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap account key removed")}else this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap key not found in existing map")}removeAccount(e,t){const r=this.getActiveAccount(t);(null===r||void 0===r?void 0:r.homeAccountId)===e.homeAccountId&&(null===r||void 0===r?void 0:r.environment)===e.environment&&this.setActiveAccount(null,t),super.removeAccount(e,t),this.removeAccountKeyFromMap(this.generateAccountKey(e),t),this.browserStorage.getKeys().forEach(t=>{t.includes(e.homeAccountId)&&t.includes(e.environment)&&this.browserStorage.removeItem(t)}),this.cacheConfig.cacheLocation===Mi.Al.LocalStorage&&this.eventHandler.emitEvent(jl.B.ACCOUNT_REMOVED,void 0,e)}removeIdToken(e,t){super.removeIdToken(e,t);const r=this.getTokenKeys(),n=r.idToken.indexOf(e);n>-1&&(this.logger.info("idToken removed from tokenKeys map"),r.idToken.splice(n,1),this.setTokenKeys(r,t))}removeAccessToken(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];super.removeAccessToken(e,t),r&&this.removeAccessTokenKeys([e],t)}removeAccessTokenKeys(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;this.logger.trace("removeAccessTokenKey called");const n=this.getTokenKeys(r);let i=0;if(e.forEach(e=>{const t=n.accessToken.indexOf(e);t>-1&&(n.accessToken.splice(t,1),i++)}),i>0)return this.logger.info("removed ".concat(i," accessToken keys from tokenKeys map")),void this.setTokenKeys(n,t,r)}removeRefreshToken(e,t){super.removeRefreshToken(e,t);const r=this.getTokenKeys(),n=r.refreshToken.indexOf(e);n>-1&&(this.logger.info("refreshToken removed from tokenKeys map"),r.refreshToken.splice(n,1),this.setTokenKeys(r,t))}getTokenKeys(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return Tl(this.clientId,this.browserStorage,e)}setTokenKeys(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;0!==e.idToken.length||0!==e.accessToken.length||0!==e.refreshToken.length?this.setItem(ws(this.clientId,r),JSON.stringify(e),t):this.removeItem(ws(this.clientId,r))}getIdTokenCredential(e,t){const r=this.browserStorage.getUserData(e);if(!r)return this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),this.removeIdToken(e,t),null;const n=this.validateAndParseJson(r);return n&&(i=n)&&Xs(i)&&i.hasOwnProperty("realm")&&i.credentialType===Le.aG.ID_TOKEN?(this.logger.trace("BrowserCacheManager.getIdTokenCredential: cache hit"),n):(this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),null);var i}async setIdTokenCredential(e,t){this.logger.trace("BrowserCacheManager.setIdTokenCredential called");const r=this.generateCredentialKey(e),n=Date.now().toString();e.lastUpdatedAt=n,await this.setUserData(r,JSON.stringify(e),t,n);const i=this.getTokenKeys();-1===i.idToken.indexOf(r)&&(this.logger.info("BrowserCacheManager: addTokenKey - idToken added to map"),i.idToken.push(r),this.setTokenKeys(i,t))}getAccessTokenCredential(e,t){const r=this.browserStorage.getUserData(e);if(!r)return this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),this.removeAccessTokenKeys([e],t),null;const n=this.validateAndParseJson(r);return n&&$s(n)?(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: cache hit"),n):(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),null)}async setAccessTokenCredential(e,t){this.logger.trace("BrowserCacheManager.setAccessTokenCredential called");const r=this.generateCredentialKey(e),n=Date.now().toString();e.lastUpdatedAt=n,await this.setUserData(r,JSON.stringify(e),t,n);const i=this.getTokenKeys(),a=i.accessToken.indexOf(r);-1!==a&&i.accessToken.splice(a,1),this.logger.trace("access token ".concat(-1===a?"added to":"updated in"," map")),i.accessToken.push(r),this.setTokenKeys(i,t)}getRefreshTokenCredential(e,t){const r=this.browserStorage.getUserData(e);if(!r)return this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),this.removeRefreshToken(e,t),null;const n=this.validateAndParseJson(r);return n&&Zs(n)?(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: cache hit"),n):(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),null)}async setRefreshTokenCredential(e,t){this.logger.trace("BrowserCacheManager.setRefreshTokenCredential called");const r=this.generateCredentialKey(e),n=Date.now().toString();e.lastUpdatedAt=n,await this.setUserData(r,JSON.stringify(e),t,n);const i=this.getTokenKeys();-1===i.refreshToken.indexOf(r)&&(this.logger.info("BrowserCacheManager: addTokenKey - refreshToken added to map"),i.refreshToken.push(r),this.setTokenKeys(i,t))}getAppMetadata(e){const t=this.browserStorage.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null;const r=this.validateAndParseJson(t);return r&&(n=e,(i=r)&&0===n.indexOf(Le.GU)&&i.hasOwnProperty("clientId")&&i.hasOwnProperty("environment"))?(this.logger.trace("BrowserCacheManager.getAppMetadata: cache hit"),r):(this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null);var n,i}setAppMetadata(e,t){this.logger.trace("BrowserCacheManager.setAppMetadata called");const r=function(e){let{environment:t,clientId:r}=e;return[Le.GU,t,r].join(Le.LR.CACHE_KEY_SEPARATOR).toLowerCase()}(e);this.setItem(r,JSON.stringify(e),t)}getServerTelemetry(e){const t=this.browserStorage.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null;const r=this.validateAndParseJson(t);return r&&function(e,t){const r=0===e.indexOf(Le.gT.CACHE_KEY);let n=!0;return t&&(n=t.hasOwnProperty("failedRequests")&&t.hasOwnProperty("errors")&&t.hasOwnProperty("cacheHits")),r&&n}(e,r)?(this.logger.trace("BrowserCacheManager.getServerTelemetry: cache hit"),r):(this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null)}setServerTelemetry(e,t,r){this.logger.trace("BrowserCacheManager.setServerTelemetry called"),this.setItem(e,JSON.stringify(t),r)}getAuthorityMetadata(e){const t=this.internalStorage.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getAuthorityMetadata: called, no cache hit"),null;const r=this.validateAndParseJson(t);return r&&function(e,t){return!!t&&0===e.indexOf(Le.u0.CACHE_KEY)&&t.hasOwnProperty("aliases")&&t.hasOwnProperty("preferred_cache")&&t.hasOwnProperty("preferred_network")&&t.hasOwnProperty("canonical_authority")&&t.hasOwnProperty("authorization_endpoint")&&t.hasOwnProperty("token_endpoint")&&t.hasOwnProperty("issuer")&&t.hasOwnProperty("aliasesFromNetwork")&&t.hasOwnProperty("endpointsFromNetwork")&&t.hasOwnProperty("expiresAt")&&t.hasOwnProperty("jwks_uri")}(e,r)?(this.logger.trace("BrowserCacheManager.getAuthorityMetadata: cache hit"),r):null}getAuthorityMetadataKeys(){return this.internalStorage.getKeys().filter(e=>this.isAuthorityMetadata(e))}setWrapperMetadata(e,t){this.internalStorage.setItem(Mi.H3.WRAPPER_SKU,e),this.internalStorage.setItem(Mi.H3.WRAPPER_VER,t)}getWrapperMetadata(){return[this.internalStorage.getItem(Mi.H3.WRAPPER_SKU)||Le.YM.EMPTY_STRING,this.internalStorage.getItem(Mi.H3.WRAPPER_VER)||Le.YM.EMPTY_STRING]}setAuthorityMetadata(e,t){this.logger.trace("BrowserCacheManager.setAuthorityMetadata called"),this.internalStorage.setItem(e,JSON.stringify(t))}getActiveAccount(e){const t=this.generateCacheKey(Le.Gd.ACTIVE_ACCOUNT_FILTERS),r=this.browserStorage.getItem(t);if(!r)return this.logger.trace("BrowserCacheManager.getActiveAccount: No active account filters found"),null;const n=this.validateAndParseJson(r);return n?(this.logger.trace("BrowserCacheManager.getActiveAccount: Active account filters schema found"),this.getAccountInfoFilteredBy({homeAccountId:n.homeAccountId,localAccountId:n.localAccountId,tenantId:n.tenantId},e)):(this.logger.trace("BrowserCacheManager.getActiveAccount: No active account found"),null)}setActiveAccount(e,t){const r=this.generateCacheKey(Le.Gd.ACTIVE_ACCOUNT_FILTERS);if(e){this.logger.verbose("setActiveAccount: Active account set");const n={homeAccountId:e.homeAccountId,localAccountId:e.localAccountId,tenantId:e.tenantId,lastUpdatedAt:Fs().toString()};this.setItem(r,JSON.stringify(n),t)}else this.logger.verbose("setActiveAccount: No account passed, active account not set"),this.browserStorage.removeItem(r);this.eventHandler.emitEvent(jl.B.ACTIVE_ACCOUNT_CHANGED)}getThrottlingCache(e){const t=this.browserStorage.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null;const r=this.validateAndParseJson(t);return r&&function(e,t){let r=!1;e&&(r=0===e.indexOf(Le.Xw.THROTTLING_PREFIX));let n=!0;return t&&(n=t.hasOwnProperty("throttleTime")),r&&n}(e,r)?(this.logger.trace("BrowserCacheManager.getThrottlingCache: cache hit"),r):(this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null)}setThrottlingCache(e,t,r){this.logger.trace("BrowserCacheManager.setThrottlingCache called"),this.setItem(e,JSON.stringify(t),r)}getTemporaryCache(e,t){const r=t?this.generateCacheKey(e):e;if(this.cacheConfig.storeAuthStateInCookie){const e=this.cookieStorage.getItem(r);if(e)return this.logger.trace("BrowserCacheManager.getTemporaryCache: storeAuthStateInCookies set to true, retrieving from cookies"),e}const n=this.temporaryCacheStorage.getItem(r);if(!n){if(this.cacheConfig.cacheLocation===Mi.Al.LocalStorage){const e=this.browserStorage.getItem(r);if(e)return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item found in local storage"),e}return this.logger.trace("BrowserCacheManager.getTemporaryCache: No cache item found in local storage"),null}return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item returned"),n}setTemporaryCache(e,t,r){const n=r?this.generateCacheKey(e):e;this.temporaryCacheStorage.setItem(n,t),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.setTemporaryCache: storeAuthStateInCookie set to true, setting item cookie"),this.cookieStorage.setItem(n,t,void 0,this.cacheConfig.secureCookies))}removeItem(e){this.browserStorage.removeItem(e)}removeTemporaryItem(e){this.temporaryCacheStorage.removeItem(e),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.removeItem: storeAuthStateInCookie is true, clearing item cookie"),this.cookieStorage.removeItem(e))}getKeys(){return this.browserStorage.getKeys()}clear(e){this.removeAllAccounts(e),this.removeAppMetadata(e),this.temporaryCacheStorage.getKeys().forEach(e=>{-1===e.indexOf(fs)&&-1===e.indexOf(this.clientId)||this.removeTemporaryItem(e)}),this.browserStorage.getKeys().forEach(e=>{-1===e.indexOf(fs)&&-1===e.indexOf(this.clientId)||this.browserStorage.removeItem(e)}),this.internalStorage.clear()}clearTokensAndKeysWithClaims(e){this.performanceClient.addQueueMeasurement(ri,e);const t=this.getTokenKeys();let r=0;t.accessToken.forEach(t=>{const n=this.getAccessTokenCredential(t,e);null!==n&&void 0!==n&&n.requestedClaimsHash&&t.includes(n.requestedClaimsHash.toLowerCase())&&(this.removeAccessToken(t,e),r++)}),r>0&&this.logger.warning("".concat(r," access tokens with claims in the cache keys have been removed from the cache."))}generateCacheKey(e){return dr.startsWith(e,fs)?e:"".concat(fs,".").concat(this.clientId,".").concat(e)}generateCredentialKey(e){const t=e.credentialType===Le.aG.REFRESH_TOKEN&&e.familyId||e.clientId,r=e.tokenType&&e.tokenType.toLowerCase()!==Le.IO.BEARER.toLowerCase()?e.tokenType.toLowerCase():"";return["".concat(fs,".").concat(1),e.homeAccountId,e.environment,e.credentialType,t,e.realm||"",e.target||"",e.requestedClaimsHash||"",r].join("-").toLowerCase()}generateAccountKey(e){const t=e.homeAccountId.split(".")[1];return["".concat(fs,".").concat(1),e.homeAccountId,e.environment,t||e.tenantId||""].join("-").toLowerCase()}resetRequestCache(){this.logger.trace("BrowserCacheManager.resetRequestCache called"),this.removeTemporaryItem(this.generateCacheKey(Mi._p.REQUEST_PARAMS)),this.removeTemporaryItem(this.generateCacheKey(Mi._p.VERIFIER)),this.removeTemporaryItem(this.generateCacheKey(Mi._p.ORIGIN_URI)),this.removeTemporaryItem(this.generateCacheKey(Mi._p.URL_HASH)),this.removeTemporaryItem(this.generateCacheKey(Mi._p.NATIVE_REQUEST)),this.setInteractionInProgress(!1)}cacheAuthorizeRequest(e,t){this.logger.trace("BrowserCacheManager.cacheAuthorizeRequest called");const r=To(JSON.stringify(e));if(this.setTemporaryCache(Mi._p.REQUEST_PARAMS,r,!0),t){const e=To(t);this.setTemporaryCache(Mi._p.VERIFIER,e,!0)}}getCachedRequest(){this.logger.trace("BrowserCacheManager.getCachedRequest called");const e=this.getTemporaryCache(Mi._p.REQUEST_PARAMS,!0);if(!e)throw Na(na);const t=this.getTemporaryCache(Mi._p.VERIFIER,!0);let r,n="";try{r=JSON.parse(Oo(e)),t&&(n=Oo(t))}catch(QU){throw this.logger.errorPii("Attempted to parse: ".concat(e)),this.logger.error("Parsing cached token request threw with error: ".concat(QU)),Na(ia)}return[r,n]}getCachedNativeRequest(){this.logger.trace("BrowserCacheManager.getCachedNativeRequest called");const e=this.getTemporaryCache(Mi._p.NATIVE_REQUEST,!0);if(!e)return this.logger.trace("BrowserCacheManager.getCachedNativeRequest: No cached native request found"),null;const t=this.validateAndParseJson(e);return t||(this.logger.error("BrowserCacheManager.getCachedNativeRequest: Unable to parse native request"),null)}isInteractionInProgress(e){var t;const r=null===(t=this.getInteractionInProgress())||void 0===t?void 0:t.clientId;return e?r===this.clientId:!!r}getInteractionInProgress(){const e="".concat(fs,".").concat(Mi._p.INTERACTION_STATUS_KEY),t=this.getTemporaryCache(e,!1);try{return t?JSON.parse(t):null}catch(QU){return this.logger.error("Cannot parse interaction status. Removing temporary cache items and clearing url hash. Retrying interaction should fix the error"),this.removeTemporaryItem(e),this.resetRequestCache(),rs(window),null}}setInteractionInProgress(e){var t;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Mi.O2.SIGNIN;const n="".concat(fs,".").concat(Mi._p.INTERACTION_STATUS_KEY);if(e){if(this.getInteractionInProgress())throw Na(Hi);this.setTemporaryCache(n,JSON.stringify({clientId:this.clientId,type:r}),!1)}else e||(null===(t=this.getInteractionInProgress())||void 0===t?void 0:t.clientId)!==this.clientId||this.removeTemporaryItem(n)}async hydrateCache(e,t){var r,n,i;const a=Ys(null===(r=e.account)||void 0===r?void 0:r.homeAccountId,null===(n=e.account)||void 0===n?void 0:n.environment,e.idToken,this.clientId,e.tenantId);let o;t.claims&&(o=await this.cryptoImpl.hashString(t.claims));const s={idToken:a,accessToken:Qs(null===(i=e.account)||void 0===i?void 0:i.homeAccountId,e.account.environment,e.accessToken,this.clientId,e.tenantId,e.scopes.join(" "),e.expiresOn?Hs(e.expiresOn):0,e.extExpiresOn?Hs(e.extExpiresOn):0,Oo,void 0,e.tokenType,void 0,t.sshKid,t.claims,o)};return this.saveCacheRecord(s,e.correlationId)}async saveCacheRecord(e,t,r){try{await super.saveCacheRecord(e,t,r)}catch(QU){if(QU instanceof Rr&&this.performanceClient&&t)try{const e=this.getTokenKeys();this.performanceClient.addFields({cacheRtCount:e.refreshToken.length,cacheIdCount:e.idToken.length,cacheAtCount:e.accessToken.length},t)}catch(QU){}throw QU}}}function Rl(e,t,r,n){try{switch(t){case Mi.Al.LocalStorage:return new Pl(e,r,n);case Mi.Al.SessionStorage:return new Il;case Mi.Al.MemoryStorage:}}catch(QU){r.error(QU)}return new js}class Dl{constructor(e){this.eventCallbacks=new Map,this.logger=e||new De.V({}),"undefined"!==typeof BroadcastChannel&&(this.broadcastChannel=new BroadcastChannel("msal.broadcast.event")),this.invokeCrossTabCallbacks=this.invokeCrossTabCallbacks.bind(this)}addEventCallback(e,t,r){if("undefined"!==typeof window){const n=r||Ho();return this.eventCallbacks.has(n)?(this.logger.error("Event callback with id: ".concat(n," is already registered. Please provide a unique id or remove the existing callback and try again.")),null):(this.eventCallbacks.set(n,[e,t||[]]),this.logger.verbose("Event callback registered with id: ".concat(n)),n)}return null}removeEventCallback(e){this.eventCallbacks.delete(e),this.logger.verbose("Event callback ".concat(e," removed."))}emitEvent(e,t,r,n){var i;const a={eventType:e,interactionType:t||null,payload:r||null,error:n||null,timestamp:Date.now()};switch(e){case jl.B.ACCOUNT_ADDED:case jl.B.ACCOUNT_REMOVED:case jl.B.ACTIVE_ACCOUNT_CHANGED:null===(i=this.broadcastChannel)||void 0===i||i.postMessage(a);break;default:this.invokeCallbacks(a)}}invokeCallbacks(e){this.eventCallbacks.forEach((t,r)=>{let[n,i]=t;(0===i.length||i.includes(e.eventType))&&(this.logger.verbose("Emitting event to callback ".concat(r,": ").concat(e.eventType)),n.apply(null,[e]))})}invokeCrossTabCallbacks(e){const t=e.data;this.invokeCallbacks(t)}subscribeCrossTab(){var e;null===(e=this.broadcastChannel)||void 0===e||e.addEventListener("message",this.invokeCrossTabCallbacks)}unsubscribeCrossTab(){var e;null===(e=this.broadcastChannel)||void 0===e||e.removeEventListener("message",this.invokeCrossTabCallbacks)}}const Ll="home_account_id",Ul="UPN";async function Bl(e,t,r,n,i,a,o){null===o||void 0===o||o.addQueueMeasurement(Kn,a);const s=il.transformCIAMAuthority(al(e)),l=new il(s,t,r,n,i,a,o);try{return await Ks(l.resolveEndpointsAsync.bind(l),qn,i,o,a)(),l}catch(QU){throw Rt(Ge)}}class zl extends qe.lR{constructor(e,t,r,n,i){super(e,t,r),this.name="ServerError",this.errorNo=n,this.status=i,Object.setPrototypeOf(this,zl.prototype)}}class Kl{static generateThrottlingStorageKey(e){return"".concat(Le.Xw.THROTTLING_PREFIX,".").concat(JSON.stringify(e))}static preProcess(e,t,r){const n=Kl.generateThrottlingStorageKey(t),i=e.getThrottlingCache(n);if(i){var a;if(i.throttleTime<Date.now())return void e.removeItem(n,r);throw new zl((null===(a=i.errorCodes)||void 0===a?void 0:a.join(" "))||Le.YM.EMPTY_STRING,i.errorMessage,i.subError)}}static postProcess(e,t,r,n){if(Kl.checkResponseStatus(r)||Kl.checkResponseForRetryAfter(r)){const i={throttleTime:Kl.calculateThrottleTime(parseInt(r.headers[Le.OK.RETRY_AFTER])),error:r.body.error,errorCodes:r.body.error_codes,errorMessage:r.body.error_description,subError:r.body.suberror};e.setThrottlingCache(Kl.generateThrottlingStorageKey(t),i,n)}}static checkResponseStatus(e){return 429===e.status||e.status>=500&&e.status<600}static checkResponseForRetryAfter(e){return!!e.headers&&(e.headers.hasOwnProperty(Le.OK.RETRY_AFTER)&&(e.status<200||e.status>=300))}static calculateThrottleTime(e){const t=e<=0?0:e,r=Date.now()/1e3;return Math.floor(1e3*Math.min(r+(t||Le.Xw.DEFAULT_THROTTLE_TIME_SECONDS),r+Le.Xw.DEFAULT_MAX_THROTTLE_TIME_SECONDS))}static removeThrottle(e,t,r,n){const i=xl(t,r,n),a=this.generateThrottlingStorageKey(i);e.removeItem(a,r.correlationId)}}class ql{constructor(e,t){this.config=function(e){let{authOptions:t,systemOptions:r,loggerOptions:n,cacheOptions:i,storageInterface:a,networkInterface:o,cryptoInterface:s,clientCredentials:l,libraryInfo:c,telemetry:u,serverTelemetryManager:d,persistencePlugin:h,serializableCache:f}=e;const p=(0,Re.A)((0,Re.A)({},Ei),n);return{authOptions:(g=t,(0,Re.A)({clientCapabilities:[],azureCloudOptions:Oi,skipAuthorityMetadataCache:!1,instanceAware:!1,encodeExtraQueryParams:!1},g)),systemOptions:(0,Re.A)((0,Re.A)({},ki),r),loggerOptions:p,cacheOptions:(0,Re.A)((0,Re.A)({},Ci),i),storageInterface:a||new Ur(t.clientId,Dt,new De.V(p),new wi),networkInterface:o||Ai,cryptoInterface:s||Dt,clientCredentials:l||Si,libraryInfo:(0,Re.A)((0,Re.A)({},Ti),c),telemetry:(0,Re.A)((0,Re.A)({},Pi),u),serverTelemetryManager:d||null,persistencePlugin:h||null,serializableCache:f||null};var g}(e),this.logger=new De.V(this.config.loggerOptions,Lt,Ut),this.cryptoUtils=this.config.cryptoInterface,this.cacheManager=this.config.storageInterface,this.networkClient=this.config.networkInterface,this.serverTelemetryManager=this.config.serverTelemetryManager,this.authority=this.config.authOptions.authority,this.performanceClient=t}createTokenRequestHeaders(e){const t={};if(t[Le.OK.CONTENT_TYPE]=Le.YM.URL_FORM_CONTENT_TYPE,!this.config.systemOptions.preventCorsPreflight&&e)switch(e.type){case Ll:try{const r=yl(e.credential);t[Le.OK.CCS_HEADER]="Oid:".concat(r.uid,"@").concat(r.utid)}catch(QU){this.logger.verbose("Could not parse home account ID for CCS Header: "+QU)}break;case Ul:t[Le.OK.CCS_HEADER]="UPN: ".concat(e.credential)}return t}async executePostToTokenEndpoint(e,t,r,n,i,a){var o;a&&(null===(o=this.performanceClient)||void 0===o||o.addQueueMeasurement(a,i));const s=await this.sendPostRequest(n,e,{body:t,headers:r},i);return this.config.serverTelemetryManager&&s.status<500&&429!==s.status&&this.config.serverTelemetryManager.clearTelemetryCache(),s}async sendPostRequest(e,t,r,n){let i;Kl.preProcess(this.cacheManager,e,n);try{var a,o;i=await Ks(this.networkClient.sendPostRequestAsync.bind(this.networkClient),tn,this.logger,this.performanceClient,n)(t,r);const e=i.headers||{};null===(a=this.performanceClient)||void 0===a||a.addFields({refreshTokenSize:(null===(o=i.body.refresh_token)||void 0===o?void 0:o.length)||0,httpVerToken:e[Le.OK.X_MS_HTTP_VERSION]||"",requestId:e[Le.OK.X_MS_REQUEST_ID]||""},n)}catch(QU){if(QU instanceof Da){const t=QU.responseHeaders;var s;if(t)null===(s=this.performanceClient)||void 0===s||s.addFields({httpVerToken:t[Le.OK.X_MS_HTTP_VERSION]||"",requestId:t[Le.OK.X_MS_REQUEST_ID]||"",contentTypeHeader:t[Le.OK.CONTENT_TYPE]||void 0,contentLengthHeader:t[Le.OK.CONTENT_LENGTH]||void 0,httpStatus:QU.httpStatus},n);throw QU.error}throw QU instanceof qe.lR?QU:Rt(Ye)}return Kl.postProcess(this.cacheManager,e,i,n),i}async updateAuthority(e,t){var r;null===(r=this.performanceClient)||void 0===r||r.addQueueMeasurement(Mn,t);const n="https://".concat(e,"/").concat(this.authority.tenant,"/"),i=await Bl(n,this.networkClient,this.cacheManager,this.authority.options,this.logger,t,this.performanceClient);this.authority=i}createTokenQueryParameters(e){const t=new Map;return e.embeddedClientId&&Eo(t,this.config.authOptions.clientId,this.config.authOptions.redirectUri),e.tokenQueryParameters&&yo(t,e.tokenQueryParameters),oo(t,e.correlationId),Ja(t,e.correlationId,this.performanceClient),Er(t)}}class Fl{static setRequestState(e,t,r){const n=Fl.generateLibraryState(e,r);return t?"".concat(n).concat(Le.YM.RESOURCE_DELIM).concat(t):n}static generateLibraryState(e,t){if(!e)throw Rt(vt);const r={id:e.createNewGuid()};t&&(r.meta=t);const n=JSON.stringify(r);return e.base64Encode(n)}static parseRequestState(e,t){if(!e)throw Rt(vt);if(!t)throw Rt(Xe);try{const r=t.split(Le.YM.RESOURCE_DELIM),n=r[0],i=r.length>1?r.slice(1).join(Le.YM.RESOURCE_DELIM):Le.YM.EMPTY_STRING,a=e.base64Decode(n),o=JSON.parse(a);return{userRequestState:i||Le.YM.EMPTY_STRING,libraryState:o}}catch(QU){throw Rt(Xe)}}}const Hl="sw";class Wl{constructor(e,t){this.cryptoUtils=e,this.performanceClient=t}async generateCnf(e,t){var r;null===(r=this.performanceClient)||void 0===r||r.addQueueMeasurement(Ln,e.correlationId);const n=await Ks(this.generateKid.bind(this),Ln,t,this.performanceClient,e.correlationId)(e),i=this.cryptoUtils.base64UrlEncode(JSON.stringify(n));return{kid:n.kid,reqCnfString:i}}async generateKid(e){var t;null===(t=this.performanceClient)||void 0===t||t.addQueueMeasurement(Un,e.correlationId);return{kid:await this.cryptoUtils.getPublicKeyThumbprint(e),xms_ksl:Hl}}async signPopToken(e,t,r){return this.signPayload(e,t,r)}async signPayload(e,t,r,n){const{resourceRequestMethod:i,resourceRequestUri:a,shrClaims:o,shrNonce:s,shrOptions:l}=r,c=a?new Ar(a):void 0,u=null===c||void 0===c?void 0:c.getUrlComponents();return this.cryptoUtils.signJwt((0,Re.A)({at:e,ts:Fs(),m:null===i||void 0===i?void 0:i.toUpperCase(),u:null===u||void 0===u?void 0:u.HostNameAndPort,nonce:s||this.cryptoUtils.createNewGuid(),p:null===u||void 0===u?void 0:u.AbsolutePath,q:null!==u&&void 0!==u&&u.QueryString?[[],u.QueryString]:void 0,client_claims:o||void 0},n),t,l,r.correlationId)}}class Vl{constructor(e,t){this.cache=e,this.hasChanged=t}get cacheHasChanged(){return this.hasChanged}get tokenCache(){return this.cache}}class Gl{constructor(e,t,r,n,i,a,o){this.clientId=e,this.cacheStorage=t,this.cryptoObj=r,this.logger=n,this.serializableCache=i,this.persistencePlugin=a,this.performanceClient=o}validateTokenResponse(e,t){if(e.error||e.error_description||e.suberror){var r;const n="Error(s): ".concat(e.error_codes||Le.YM.NOT_AVAILABLE," - Timestamp: ").concat(e.timestamp||Le.YM.NOT_AVAILABLE," - Description: ").concat(e.error_description||Le.YM.NOT_AVAILABLE," - Correlation ID: ").concat(e.correlation_id||Le.YM.NOT_AVAILABLE," - Trace ID: ").concat(e.trace_id||Le.YM.NOT_AVAILABLE),i=null!==(r=e.error_codes)&&void 0!==r&&r.length?e.error_codes[0]:void 0,a=new zl(e.error,n,e.suberror,i,e.status);if(t&&e.status&&e.status>=Le.t3.SERVER_ERROR_RANGE_START&&e.status<=Le.t3.SERVER_ERROR_RANGE_END)return void this.logger.warning("executeTokenRequest:validateTokenResponse - AAD is currently unavailable and the access token is unable to be refreshed.\n".concat(a));if(t&&e.status&&e.status>=Le.t3.CLIENT_ERROR_RANGE_START&&e.status<=Le.t3.CLIENT_ERROR_RANGE_END)return void this.logger.warning("executeTokenRequest:validateTokenResponse - AAD is currently available but is unable to refresh the access token.\n".concat(a));if(gl(e.error,e.error_description,e.suberror))throw new pl(e.error,e.error_description,e.suberror,e.timestamp||Le.YM.EMPTY_STRING,e.trace_id||Le.YM.EMPTY_STRING,e.correlation_id||Le.YM.EMPTY_STRING,e.claims||Le.YM.EMPTY_STRING,i);throw a}}async handleServerTokenResponse(e,t,r,n,i,a,o,s,l){var c;let u,d;if(null===(c=this.performanceClient)||void 0===c||c.addQueueMeasurement(Bn,e.correlation_id),e.id_token){if(u=br(e.id_token||Le.YM.EMPTY_STRING,this.cryptoObj.base64Decode),i&&i.nonce&&u.nonce!==i.nonce)throw Rt(et);if(n.maxAge||0===n.maxAge){const e=u.auth_time;if(!e)throw Rt(tt);_r(e,n.maxAge)}}this.homeAccountIdentifier=_l.generateHomeAccountId(e.client_info||Le.YM.EMPTY_STRING,t.authorityType,this.logger,this.cryptoObj,u),i&&i.state&&(d=Fl.parseRequestState(this.cryptoObj,i.state)),e.key_id=e.key_id||n.sshKid||void 0;const h=this.generateCacheRecord(e,t,r,n,u,a,i);let f;try{if(this.persistencePlugin&&this.serializableCache&&(this.logger.verbose("Persistence enabled, calling beforeCacheAccess"),f=new Vl(this.serializableCache,!0),await this.persistencePlugin.beforeCacheAccess(f)),o&&!s&&h.account){const e=this.cacheStorage.generateAccountKey(h.account.getAccountInfo());if(!this.cacheStorage.getAccount(e,n.correlationId))return this.logger.warning("Account used to refresh tokens not in persistence, refreshed tokens will not be stored in the cache"),await Gl.generateAuthenticationResult(this.cryptoObj,t,h,!1,n,u,d,void 0,l)}await this.cacheStorage.saveCacheRecord(h,n.correlationId,n.storeInCache)}finally{this.persistencePlugin&&this.serializableCache&&f&&(this.logger.verbose("Persistence enabled, calling afterCacheAccess"),await this.persistencePlugin.afterCacheAccess(f))}return Gl.generateAuthenticationResult(this.cryptoObj,t,h,!1,n,u,d,e,l)}generateCacheRecord(e,t,r,n,i,a,o){const s=t.getPreferredCache();if(!s)throw Rt(gt);const l=bl(i);let c,u;e.id_token&&i&&(c=Ys(this.homeAccountIdentifier,s,e.id_token,this.clientId,l||""),u=Yl(this.cacheStorage,t,this.homeAccountIdentifier,this.cryptoObj.base64Decode,n.correlationId,i,e.client_info,s,l,o,void 0,this.logger));let d=null;if(e.access_token){const i=e.scope?hr.fromString(e.scope):new hr(n.scopes||[]),o=("string"===typeof e.expires_in?parseInt(e.expires_in,10):e.expires_in)||0,c=("string"===typeof e.ext_expires_in?parseInt(e.ext_expires_in,10):e.ext_expires_in)||0,u=("string"===typeof e.refresh_in?parseInt(e.refresh_in,10):e.refresh_in)||void 0,h=r+o,f=h+c,p=u&&u>0?r+u:void 0;d=Qs(this.homeAccountIdentifier,s,e.access_token,this.clientId,l||t.tenant||"",i.printScopes(),h,f,this.cryptoObj.base64Decode,p,e.token_type,a,e.key_id,n.claims,n.requestedClaimsHash)}let h=null;if(e.refresh_token){let t;if(e.refresh_token_expires_in){t=r+("string"===typeof e.refresh_token_expires_in?parseInt(e.refresh_token_expires_in,10):e.refresh_token_expires_in)}h=Js(this.homeAccountIdentifier,s,e.refresh_token,this.clientId,e.foci,a,t)}let f=null;return e.foci&&(f={clientId:this.clientId,environment:s,familyId:e.foci}),{account:u,idToken:c,accessToken:d,refreshToken:h,appMetadata:f}}static async generateAuthenticationResult(e,t,r,n,i,a,o,s,l){var c,u,d,h,f;let p,g,m=Le.YM.EMPTY_STRING,v=[],y=null,b=Le.YM.EMPTY_STRING;if(r.accessToken){if(r.accessToken.tokenType!==Le.IO.POP||i.popKid)m=r.accessToken.secret;else{const t=new Wl(e),{secret:n,keyId:a}=r.accessToken;if(!a)throw Rt(Tt);m=await t.signPopToken(n,a,i)}v=hr.fromString(r.accessToken.target).asArray(),y=Ws(r.accessToken.expiresOn),p=Ws(r.accessToken.extendedExpiresOn),r.accessToken.refreshOn&&(g=Ws(r.accessToken.refreshOn))}r.appMetadata&&(b=r.appMetadata.familyId===Le.hB?Le.hB:"");const _=(null===a||void 0===a?void 0:a.oid)||(null===a||void 0===a?void 0:a.sub)||"",x=(null===a||void 0===a?void 0:a.tid)||"";null!==s&&void 0!==s&&s.spa_accountid&&r.account&&(r.account.nativeAccountId=null===s||void 0===s?void 0:s.spa_accountid);const w=r.account?yr(r.account.getAccountInfo(),void 0,a,null===(c=r.idToken)||void 0===c?void 0:c.secret):null;return{authority:t.canonicalAuthority,uniqueId:_,tenantId:x,scopes:v,account:w,idToken:(null===r||void 0===r||null===(u=r.idToken)||void 0===u?void 0:u.secret)||"",idTokenClaims:a||{},accessToken:m,fromCache:n,expiresOn:y,extExpiresOn:p,refreshOn:g,correlationId:i.correlationId,requestId:l||Le.YM.EMPTY_STRING,familyId:b,tokenType:(null===(d=r.accessToken)||void 0===d?void 0:d.tokenType)||Le.YM.EMPTY_STRING,state:o?o.userRequestState:Le.YM.EMPTY_STRING,cloudGraphHostName:(null===(h=r.account)||void 0===h?void 0:h.cloudGraphHostName)||Le.YM.EMPTY_STRING,msGraphHost:(null===(f=r.account)||void 0===f?void 0:f.msGraphHost)||Le.YM.EMPTY_STRING,code:null===s||void 0===s?void 0:s.spa_code,fromNativeBroker:!1}}}function Yl(e,t,r,n,i,a,o,s,l,c,u,d){null===d||void 0===d||d.verbose("setCachedAccount called");const h=e.getAccountKeys().find(e=>e.startsWith(r));let f=null;h&&(f=e.getAccount(h,i));const p=f||_l.createAccount({homeAccountId:r,idTokenClaims:a,clientInfo:o,environment:s,cloudGraphHostName:null===c||void 0===c?void 0:c.cloud_graph_host_name,msGraphHost:null===c||void 0===c?void 0:c.msgraph_host,nativeAccountId:u},t,n),g=p.tenantProfiles||[],m=l||p.realm;if(m&&!g.find(e=>e.tenantId===m)){const e=vr(r,p.localAccountId,m,a);g.push(e)}return p.tenantProfiles=g,p}async function Ql(e,t,r){if("string"===typeof e)return e;return e({clientId:t,tokenEndpoint:r})}class Jl extends ql{constructor(e,t){var r;super(e,t),this.includeRedirectUri=!0,this.oidcDefaultScopes=null===(r=this.config.authOptions.authority.options.OIDCOptions)||void 0===r?void 0:r.defaultScopes}async acquireToken(e,t){var r,n;if(null===(r=this.performanceClient)||void 0===r||r.addQueueMeasurement(Nn,e.correlationId),!e.code)throw Rt(ot);const i=Fs(),a=await Ks(this.executeTokenRequest.bind(this),Rn,this.logger,this.performanceClient,e.correlationId)(this.authority,e),o=null===(n=a.headers)||void 0===n?void 0:n[Le.OK.X_MS_REQUEST_ID],s=new Gl(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin,this.performanceClient);return s.validateTokenResponse(a.body),Ks(s.handleServerTokenResponse.bind(s),Bn,this.logger,this.performanceClient,e.correlationId)(a.body,this.authority,i,e,t,void 0,void 0,void 0,o)}getLogoutUri(e){if(!e)throw ur(Gt);const t=this.createLogoutUrlQueryString(e);return Ar.appendQueryString(this.authority.endSessionEndpoint,t)}async executeTokenRequest(e,t){var r;null===(r=this.performanceClient)||void 0===r||r.addQueueMeasurement(Rn,t.correlationId);const n=this.createTokenQueryParameters(t),i=Ar.appendQueryString(e.tokenEndpoint,n),a=await Ks(this.createTokenRequestBody.bind(this),Dn,this.logger,this.performanceClient,t.correlationId)(t);let o;if(t.clientInfo)try{const e=vl(t.clientInfo,this.cryptoUtils.base64Decode);o={credential:"".concat(e.uid).concat(Le.LR.CLIENT_INFO_SEPARATOR).concat(e.utid),type:Ll}}catch(QU){this.logger.verbose("Could not parse client info for CCS Header: "+QU)}const s=this.createTokenRequestHeaders(o||t.ccsCredential),l=xl(this.config.authOptions.clientId,t);return Ks(this.executePostToTokenEndpoint.bind(this),nn,this.logger,this.performanceClient,t.correlationId)(i,a,s,l,t.correlationId,nn)}async createTokenRequestBody(e){var t,r;null===(t=this.performanceClient)||void 0===t||t.addQueueMeasurement(Dn,e.correlationId);const n=new Map;if(Za(n,e.embeddedClientId||(null===(r=e.tokenBodyParameters)||void 0===r?void 0:r[Ka])||this.config.authOptions.clientId),this.includeRedirectUri)eo(n,e.redirectUri);else if(!e.redirectUri)throw ur(Bt);if($a(n,e.scopes,!0,this.oidcDefaultScopes),function(e,t){e.set("code",t)}(n,e.code),so(n,this.config.libraryInfo),lo(n,this.config.telemetry.application),ko(n),this.serverTelemetryManager&&!Ii(this.config)&&wo(n,this.serverTelemetryManager),e.codeVerifier&&function(e,t){e.set("code_verifier",t)}(n,e.codeVerifier),this.config.clientCredentials.clientSecret&&ho(n,this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){const t=this.config.clientCredentials.clientAssertion;fo(n,await Ql(t.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),po(n,t.assertionType)}if(go(n,Le.$x.AUTHORIZATION_CODE_GRANT),mo(n),e.authenticationScheme===Le.IO.POP){const t=new Wl(this.cryptoUtils,this.performanceClient);let r;if(e.popKid)r=this.cryptoUtils.encodeKid(e.popKid);else{r=(await Ks(t.generateCnf.bind(t),Ln,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString}_o(n,r)}else if(e.authenticationScheme===Le.IO.SSH){if(!e.sshJwk)throw ur(Zt);xo(n,e.sshJwk)}let i;if((!dr.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&ao(n,e.claims,this.config.authOptions.clientCapabilities),e.clientInfo)try{const t=vl(e.clientInfo,this.cryptoUtils.base64Decode);i={credential:"".concat(t.uid).concat(Le.LR.CLIENT_INFO_SEPARATOR).concat(t.utid),type:Ll}}catch(QU){this.logger.verbose("Could not parse client info for CCS Header: "+QU)}else i=e.ccsCredential;if(this.config.systemOptions.preventCorsPreflight&&i)switch(i.type){case Ll:try{no(n,yl(i.credential))}catch(QU){this.logger.verbose("Could not parse home account ID for CCS Header: "+QU)}break;case Ul:ro(n,i.credential)}return e.embeddedClientId&&Eo(n,this.config.authOptions.clientId,this.config.authOptions.redirectUri),e.tokenBodyParameters&&yo(n,e.tokenBodyParameters),!e.enableSpaAuthorizationCode||e.tokenBodyParameters&&e.tokenBodyParameters[Wa]||yo(n,{[Wa]:"1"}),Ja(n,e.correlationId,this.performanceClient),Er(n)}createLogoutUrlQueryString(e){const t=new Map;return e.postLogoutRedirectUri&&function(e,t){e.set("post_logout_redirect_uri",t)}(t,e.postLogoutRedirectUri),e.correlationId&&oo(t,e.correlationId),e.idTokenHint&&function(e,t){e.set("id_token_hint",t)}(t,e.idTokenHint),e.state&&co(t,e.state),e.logoutHint&&function(e,t){e.set("logout_hint",t)}(t,e.logoutHint),e.extraQueryParameters&&yo(t,e.extraQueryParameters),this.config.authOptions.instanceAware&&vo(t),Er(t,this.config.authOptions.encodeExtraQueryParams,e.extraQueryParameters)}}function Xl(e){const{skus:t,libraryName:r,libraryVersion:n,extensionName:i,extensionVersion:a}=e,o=new Map([[0,[r,n]],[2,[i,a]]]);let s=[];if(null!==t&&void 0!==t&&t.length){if(s=t.split(","),s.length<4)return t}else s=Array.from({length:4},()=>"|");return o.forEach((e,t)=>{var r,n;2===e.length&&null!==(r=e[0])&&void 0!==r&&r.length&&null!==(n=e[1])&&void 0!==n&&n.length&&function(e){const{skuArr:t,index:r,skuName:n,skuVersion:i}=e;if(r>=t.length)return;t[r]=[n,i].join("|")}({skuArr:s,index:t,skuName:e[0],skuVersion:e[1]})}),s.join(",")}class $l{constructor(e,t){this.cacheOutcome=Le.Rv.NOT_APPLICABLE,this.cacheManager=t,this.apiId=e.apiId,this.correlationId=e.correlationId,this.wrapperSKU=e.wrapperSKU||Le.YM.EMPTY_STRING,this.wrapperVer=e.wrapperVer||Le.YM.EMPTY_STRING,this.telemetryCacheKey=Le.gT.CACHE_KEY+Le.LR.CACHE_KEY_SEPARATOR+e.clientId}generateCurrentRequestHeaderValue(){const e="".concat(this.apiId).concat(Le.gT.VALUE_SEPARATOR).concat(this.cacheOutcome),t=[this.wrapperSKU,this.wrapperVer],r=this.getNativeBrokerErrorCode();null!==r&&void 0!==r&&r.length&&t.push("broker_error=".concat(r));const n=t.join(Le.gT.VALUE_SEPARATOR),i=[e,this.getRegionDiscoveryFields()].join(Le.gT.VALUE_SEPARATOR);return[Le.gT.SCHEMA_VERSION,i,n].join(Le.gT.CATEGORY_SEPARATOR)}generateLastRequestHeaderValue(){const e=this.getLastRequests(),t=$l.maxErrorsToSend(e),r=e.failedRequests.slice(0,2*t).join(Le.gT.VALUE_SEPARATOR),n=e.errors.slice(0,t).join(Le.gT.VALUE_SEPARATOR),i=e.errors.length,a=[i,t<i?Le.gT.OVERFLOW_TRUE:Le.gT.OVERFLOW_FALSE].join(Le.gT.VALUE_SEPARATOR);return[Le.gT.SCHEMA_VERSION,e.cacheHits,r,n,a].join(Le.gT.CATEGORY_SEPARATOR)}cacheFailedRequest(e){const t=this.getLastRequests();t.errors.length>=Le.gT.MAX_CACHED_ERRORS&&(t.failedRequests.shift(),t.failedRequests.shift(),t.errors.shift()),t.failedRequests.push(this.apiId,this.correlationId),e instanceof Error&&e&&e.toString()?e instanceof qe.lR?e.subError?t.errors.push(e.subError):e.errorCode?t.errors.push(e.errorCode):t.errors.push(e.toString()):t.errors.push(e.toString()):t.errors.push(Le.gT.UNKNOWN_ERROR),this.cacheManager.setServerTelemetry(this.telemetryCacheKey,t,this.correlationId)}incrementCacheHits(){const e=this.getLastRequests();return e.cacheHits+=1,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e,this.correlationId),e.cacheHits}getLastRequests(){return this.cacheManager.getServerTelemetry(this.telemetryCacheKey)||{failedRequests:[],errors:[],cacheHits:0}}clearTelemetryCache(){const e=this.getLastRequests(),t=$l.maxErrorsToSend(e);if(t===e.errors.length)this.cacheManager.removeItem(this.telemetryCacheKey,this.correlationId);else{const r={failedRequests:e.failedRequests.slice(2*t),errors:e.errors.slice(t),cacheHits:0};this.cacheManager.setServerTelemetry(this.telemetryCacheKey,r,this.correlationId)}}static maxErrorsToSend(e){let t,r=0,n=0;const i=e.errors.length;for(t=0;t<i;t++){const i=e.failedRequests[2*t]||Le.YM.EMPTY_STRING,a=e.failedRequests[2*t+1]||Le.YM.EMPTY_STRING,o=e.errors[t]||Le.YM.EMPTY_STRING;if(n+=i.toString().length+a.toString().length+o.length+3,!(n<Le.gT.MAX_LAST_HEADER_BYTES))break;r+=1}return r}getRegionDiscoveryFields(){const e=[];return e.push(this.regionUsed||Le.YM.EMPTY_STRING),e.push(this.regionSource||Le.YM.EMPTY_STRING),e.push(this.regionOutcome||Le.YM.EMPTY_STRING),e.join(",")}updateRegionDiscoveryMetadata(e){this.regionUsed=e.region_used,this.regionSource=e.region_source,this.regionOutcome=e.region_outcome}setCacheOutcome(e){this.cacheOutcome=e}setNativeBrokerErrorCode(e){const t=this.getLastRequests();t.nativeBrokerErrorCode=e,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,t,this.correlationId)}getNativeBrokerErrorCode(){return this.getLastRequests().nativeBrokerErrorCode}clearNativeBrokerErrorCode(){const e=this.getLastRequests();delete e.nativeBrokerErrorCode,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e,this.correlationId)}static makeExtraSkuString(e){return Xl(e)}}class Zl{constructor(e,t,r,n,i,a,o,s,l){this.config=e,this.browserStorage=t,this.browserCrypto=r,this.networkClient=this.config.system.networkClient,this.eventHandler=i,this.navigationClient=a,this.platformAuthProvider=s,this.correlationId=l||Ho(),this.logger=n.clone(Mi.Q1.MSAL_SKU,hs,this.correlationId),this.performanceClient=o}async clearCacheOnLogout(e,t){if(t)try{this.browserStorage.removeAccount(t,e),this.logger.verbose("Cleared cache items belonging to the account provided in the logout request.")}catch(r){this.logger.error("Account provided in logout request was not found. Local cache unchanged.")}else try{this.logger.verbose("No account provided in logout request, clearing all cache items.",this.correlationId),this.browserStorage.clear(e),await this.browserCrypto.clearKeystore()}catch(QU){this.logger.error("Attempted to clear all MSAL cache items and failed. Local cache unchanged.")}}getRedirectUri(e){this.logger.verbose("getRedirectUri called");const t=e||this.config.auth.redirectUri;return Ar.getAbsoluteUrl(t,is())}initializeServerTelemetryManager(e,t){this.logger.verbose("initializeServerTelemetryManager called");const r={clientId:this.config.auth.clientId,correlationId:this.correlationId,apiId:e,forceRefresh:t||!1,wrapperSKU:this.browserStorage.getWrapperMetadata()[0],wrapperVer:this.browserStorage.getWrapperMetadata()[1]};return new $l(r,this.browserStorage)}async getDiscoveredAuthority(e){const{account:t}=e,r=e.requestExtraQueryParameters&&e.requestExtraQueryParameters.hasOwnProperty("instance_aware")?e.requestExtraQueryParameters.instance_aware:void 0;this.performanceClient.addQueueMeasurement(Zr,this.correlationId);const n={protocolMode:this.config.auth.protocolMode,OIDCOptions:this.config.auth.OIDCOptions,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},i=e.requestAuthority||this.config.auth.authority,a=null!==r&&void 0!==r&&r.length?"true"===r:this.config.auth.instanceAware,o=t&&a?this.config.auth.authority.replace(Ar.getDomainFromUrl(i),t.environment):i,s=il.generateAuthority(o,e.requestAzureCloudOptions||this.config.auth.azureCloudOptions),l=await Ks(Bl,Kn,this.logger,this.performanceClient,this.correlationId)(s,this.config.system.networkClient,this.browserStorage,n,this.logger,this.correlationId,this.performanceClient);if(t&&!l.isAlias(t.environment))throw ur(ar);return l}}async function ec(e,t,r,n){r.addQueueMeasurement(pn,e.correlationId);const i=e.authority||t.auth.authority,a=[...e&&e.scopes||[]],o=(0,Re.A)((0,Re.A)({},e),{},{correlationId:e.correlationId,authority:i,scopes:a});if(o.authenticationScheme){if(o.authenticationScheme===Le.IO.SSH){if(!e.sshJwk)throw ur(Zt);if(!e.sshKid)throw ur(er)}n.verbose('Authentication Scheme set to "'.concat(o.authenticationScheme,'" as configured in Auth request'))}else o.authenticationScheme=Le.IO.BEARER,n.verbose('Authentication Scheme wasn\'t explicitly set in request, defaulting to "Bearer" request');return t.cache.claimsBasedCachingEnabled&&e.claims&&!dr.isEmptyObj(e.claims)&&(o.requestedClaimsHash=await Zo(e.claims)),o}async function tc(e,t,r,n,i){n.addQueueMeasurement(gn,e.correlationId);const a=await Ks(ec,pn,i,n,e.correlationId)(e,r,n,i);return(0,Re.A)((0,Re.A)((0,Re.A)({},e),a),{},{account:t,forceRefresh:e.forceRefresh||!1})}function rc(e,t){let r;const n=e.httpMethod;if(t===ze){if(r=n||Le.ym.POST,r!==Le.ym.POST)throw ur(or)}else r=n||Le.ym.GET;if(e.authorizePostBodyParameters&&r!==Le.ym.POST)throw ur(sr);return r}class nc extends Zl{initializeLogoutRequest(e){this.logger.verbose("initializeLogoutRequest called",null===e||void 0===e?void 0:e.correlationId);const t=(0,Re.A)({correlationId:this.correlationId||Ho()},e);if(e)if(e.logoutHint)this.logger.verbose("logoutHint has already been set in logoutRequest");else if(e.account){const r=this.getLogoutHintFromIdTokenClaims(e.account);r&&(this.logger.verbose("Setting logoutHint to login_hint ID Token Claim value for the account provided"),t.logoutHint=r)}else this.logger.verbose("logoutHint was not set and account was not passed into logout request, logoutHint will not be set");else this.logger.verbose("logoutHint will not be set since no logout request was configured");return e&&null===e.postLogoutRedirectUri?this.logger.verbose("postLogoutRedirectUri passed as null, not setting post logout redirect uri",t.correlationId):e&&e.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to uri set on logout request",t.correlationId),t.postLogoutRedirectUri=Ar.getAbsoluteUrl(e.postLogoutRedirectUri,is())):null===this.config.auth.postLogoutRedirectUri?this.logger.verbose("postLogoutRedirectUri configured as null and no uri set on request, not passing post logout redirect",t.correlationId):this.config.auth.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to configured uri",t.correlationId),t.postLogoutRedirectUri=Ar.getAbsoluteUrl(this.config.auth.postLogoutRedirectUri,is())):(this.logger.verbose("Setting postLogoutRedirectUri to current page",t.correlationId),t.postLogoutRedirectUri=Ar.getAbsoluteUrl(is(),is())),t}getLogoutHintFromIdTokenClaims(e){const t=e.idTokenClaims;if(t){if(t.login_hint)return t.login_hint;this.logger.verbose("The ID Token Claims tied to the provided account do not contain a login_hint claim, logoutHint will not be added to logout request")}else this.logger.verbose("The provided account does not contain ID Token Claims, logoutHint will not be added to logout request");return null}async createAuthCodeClient(e){this.performanceClient.addQueueMeasurement(kn,this.correlationId);const t=await Ks(this.getClientConfiguration.bind(this),En,this.logger,this.performanceClient,this.correlationId)(e);return new Jl(t,this.performanceClient)}async getClientConfiguration(e){const{serverTelemetryManager:t,requestAuthority:r,requestAzureCloudOptions:n,requestExtraQueryParameters:i,account:a}=e;this.performanceClient.addQueueMeasurement(En,this.correlationId);const o=await Ks(this.getDiscoveredAuthority.bind(this),Zr,this.logger,this.performanceClient,this.correlationId)({requestAuthority:r,requestAzureCloudOptions:n,requestExtraQueryParameters:i,account:a}),s=this.config.system.loggerOptions;return{authOptions:{clientId:this.config.auth.clientId,authority:o,clientCapabilities:this.config.auth.clientCapabilities,redirectUri:this.config.auth.redirectUri},systemOptions:{tokenRenewalOffsetSeconds:this.config.system.tokenRenewalOffsetSeconds,preventCorsPreflight:!0},loggerOptions:{loggerCallback:s.loggerCallback,piiLoggingEnabled:s.piiLoggingEnabled,logLevel:s.logLevel,correlationId:this.correlationId},cacheOptions:{claimsBasedCachingEnabled:this.config.cache.claimsBasedCachingEnabled},cryptoInterface:this.browserCrypto,networkInterface:this.networkClient,storageInterface:this.browserStorage,serverTelemetryManager:t,libraryInfo:{sku:Mi.Q1.MSAL_SKU,version:hs,cpu:Le.YM.EMPTY_STRING,os:Le.YM.EMPTY_STRING},telemetry:this.config.telemetry}}async initializeAuthorizationRequest(e,t){this.performanceClient.addQueueMeasurement(Cn,this.correlationId);const r=this.getRedirectUri(e.redirectUri),n={interactionType:t},i=Fl.setRequestState(this.browserCrypto,e&&e.state||Le.YM.EMPTY_STRING,n),a=await Ks(ec,pn,this.logger,this.performanceClient,this.correlationId)((0,Re.A)((0,Re.A)({},e),{},{correlationId:this.correlationId}),this.config,this.performanceClient,this.logger),o=(0,Re.A)((0,Re.A)({},a),{},{redirectUri:r,state:i,nonce:e.nonce||Ho(),responseMode:this.config.auth.OIDCOptions.serverResponseType}),s=(0,Re.A)((0,Re.A)({},o),{},{httpMethod:rc(o,this.config.auth.protocolMode)});if(e.loginHint||e.sid)return s;const l=e.account||this.browserStorage.getActiveAccount(this.correlationId);return l&&(this.logger.verbose("Setting validated request account",this.correlationId),this.logger.verbosePii("Setting validated request account: ".concat(l.homeAccountId),this.correlationId),s.account=l),s}}function ic(e,t,r){const n=kr(e);if(!n)throw wr(e)?(r.error("A ".concat(t," is present in the iframe but it does not contain known properties. It's likely that the ").concat(t," has been replaced by code running on the redirectUri page.")),r.errorPii("The ".concat(t," detected is: ").concat(e)),Na(Ki)):(r.error("The request has returned to the redirectUri but a ".concat(t," is not present. It's likely that the ").concat(t," has been removed or the page has been redirected by code running on the redirectUri page.")),Na(Bi));return n}function ac(e,t,r){if(!e.state)throw Na(zi);const n=function(e,t){if(!t)return null;try{return Fl.parseRequestState(e,t).libraryState.meta}catch(QU){throw Rt(Xe)}}(t,e.state);if(!n)throw Na(qi);if(n.interactionType!==r)throw Na(Fi)}function oc(e,t,r,n){var i,a;const o=t.correlationId,s=new Map;Za(s,t.embeddedClientId||(null===(i=t.extraQueryParameters)||void 0===i?void 0:i[Ka])||e.clientId);if($a(s,[...t.scopes||[],...t.extraScopesToConsent||[]],!0,null===(a=e.authority.options.OIDCOptions)||void 0===a?void 0:a.defaultScopes),eo(s,t.redirectUri),oo(s,o),function(e,t){e.set("response_mode",t||Le.p.QUERY)}(s,t.responseMode),mo(s),t.prompt&&(!function(e,t){e.set("prompt",t)}(s,t.prompt),null===n||void 0===n||n.addFields({prompt:t.prompt},o)),t.domainHint&&(!function(e,t){e.set("domain_hint",t)}(s,t.domainHint),null===n||void 0===n||n.addFields({domainHintFromRequest:!0},o)),t.prompt!==Le._M.SELECT_ACCOUNT)if(t.sid&&t.prompt===Le._M.NONE)r.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from request"),io(s,t.sid),null===n||void 0===n||n.addFields({sidFromRequest:!0},o);else if(t.account){const e=function(e){var t;return(null===(t=e.idTokenClaims)||void 0===t?void 0:t.sid)||null}(t.account);let i=function(e){var t;return e.loginHint||(null===(t=e.idTokenClaims)||void 0===t?void 0:t.login_hint)||null}(t.account);if(i&&t.domainHint&&(r.warning('AuthorizationCodeClient.createAuthCodeUrlQueryString: "domainHint" param is set, skipping opaque "login_hint" claim. Please consider not passing domainHint'),i=null),i){r.verbose("createAuthCodeUrlQueryString: login_hint claim present on account"),to(s,i),null===n||void 0===n||n.addFields({loginHintFromClaim:!0},o);try{no(s,yl(t.account.homeAccountId))}catch(QU){r.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(e&&t.prompt===Le._M.NONE){r.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from account"),io(s,e),null===n||void 0===n||n.addFields({sidFromClaim:!0},o);try{no(s,yl(t.account.homeAccountId))}catch(QU){r.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(t.loginHint)r.verbose("createAuthCodeUrlQueryString: Adding login_hint from request"),to(s,t.loginHint),ro(s,t.loginHint),null===n||void 0===n||n.addFields({loginHintFromRequest:!0},o);else if(t.account.username){r.verbose("createAuthCodeUrlQueryString: Adding login_hint from account"),to(s,t.account.username),null===n||void 0===n||n.addFields({loginHintFromUpn:!0},o);try{no(s,yl(t.account.homeAccountId))}catch(QU){r.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}}else t.loginHint&&(r.verbose("createAuthCodeUrlQueryString: No account, adding login_hint from request"),to(s,t.loginHint),ro(s,t.loginHint),null===n||void 0===n||n.addFields({loginHintFromRequest:!0},o));else r.verbose("createAuthCodeUrlQueryString: Prompt is select_account, ignoring account hints");return t.nonce&&function(e,t){e.set("nonce",t)}(s,t.nonce),t.state&&co(s,t.state),(t.claims||e.clientCapabilities&&e.clientCapabilities.length>0)&&ao(s,t.claims,e.clientCapabilities),t.embeddedClientId&&Eo(s,e.clientId,e.redirectUri),!e.instanceAware||t.extraQueryParameters&&Object.keys(t.extraQueryParameters).includes(Qa)||vo(s),s}function sc(e,t,r,n){const i=Er(t,r,n);return Ar.appendQueryString(e.authorizationEndpoint,i)}function lc(e,t){if(!e.state||!t)throw e.state?Rt(Ze,"Cached State"):Rt(Ze,"Server State");let r,n;try{r=decodeURIComponent(e.state)}catch(QU){throw Rt(Xe,e.state)}try{n=decodeURIComponent(t)}catch(QU){throw Rt(Xe,e.state)}if(r!==n)throw Rt($e);if(e.error||e.error_description||e.suberror){const t=function(e){var t,r;const n="code=",i=null===(t=e.error_uri)||void 0===t?void 0:t.lastIndexOf(n);return i&&i>=0?null===(r=e.error_uri)||void 0===r?void 0:r.substring(i+n.length):void 0}(e);if(gl(e.error,e.error_description,e.suberror))throw new pl(e.error||"",e.error_description,e.suberror,e.timestamp||"",e.trace_id||"",e.correlation_id||"",e.claims||"",t);throw new zl(e.error||"",e.error_description,e.suberror,t)}}class cc{constructor(e,t,r,n,i){this.authModule=e,this.browserStorage=t,this.authCodeRequest=r,this.logger=n,this.performanceClient=i}async handleCodeResponse(e,t){let r;this.performanceClient.addQueueMeasurement(On,t.correlationId);try{r=function(e,t){if(lc(e,t),!e.code)throw Rt(Et);return e}(e,t.state)}catch(QU){throw QU instanceof zl&&QU.subError===Gi?Na(Gi):QU}return Ks(this.handleCodeResponseFromServer.bind(this),Sn,this.logger,this.performanceClient,t.correlationId)(r,t)}async handleCodeResponseFromServer(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(this.performanceClient.addQueueMeasurement(Sn,t.correlationId),this.logger.trace("InteractionHandler.handleCodeResponseFromServer called"),this.authCodeRequest.code=e.code,e.cloud_instance_host_name&&await Ks(this.authModule.updateAuthority.bind(this.authModule),Mn,this.logger,this.performanceClient,t.correlationId)(e.cloud_instance_host_name,t.correlationId),r&&(e.nonce=t.nonce||void 0),e.state=t.state,e.client_info)this.authCodeRequest.clientInfo=e.client_info;else{const e=this.createCcsCredentials(t);e&&(this.authCodeRequest.ccsCredential=e)}return await Ks(this.authModule.acquireToken.bind(this.authModule),Nn,this.logger,this.performanceClient,t.correlationId)(this.authCodeRequest,e)}createCcsCredentials(e){return e.account?{credential:e.account.homeAccountId,type:Ll}:e.loginHint?{credential:e.loginHint,type:Ul}:null}}const uc="user_switch",dc={[uc]:"User attempted to switch accounts in the native broker, which is not allowed. All new accounts must sign-in through the standard web flow first, please try again."};class hc extends qe.lR{constructor(e,t,r){super(e,t),Object.setPrototypeOf(this,hc.prototype),this.name="NativeAuthError",this.ext=r}}function fc(e){return!(!e.ext||!e.ext.status||"DISABLED"!==e.ext.status)||(!(!e.ext||!e.ext.error||-2147186943!==e.ext.error)||"ContentError"===e.errorCode)}function pc(e,t,r){if(r&&r.status)switch(r.status){case"ACCOUNT_UNAVAILABLE":return ml(sl);case"USER_INTERACTION_REQUIRED":return new pl(e,t);case"USER_CANCEL":return Na(Gi);case"NO_NETWORK":return Na(ca);case"UX_NOT_ALLOWED":return ml(cl)}return new hc(e,dc[e]||t,r)}class gc extends ql{constructor(e,t){super(e,t)}async acquireCachedToken(e){var t;null===(t=this.performanceClient)||void 0===t||t.addQueueMeasurement(dn,e.correlationId);let r=Le.Rv.NOT_APPLICABLE;if(e.forceRefresh||!this.config.cacheOptions.claimsBasedCachingEnabled&&!dr.isEmptyObj(e.claims))throw this.setCacheOutcome(Le.Rv.FORCE_REFRESH_OR_CLAIMS,e.correlationId),Rt(xt);if(!e.account)throw Rt(ft);const n=e.account.tenantId||function(e){var t;const r=null===(t=new Ar(e).getUrlComponents().PathSegments.slice(-1)[0])||void 0===t?void 0:t.toLowerCase();switch(r){case Le.v2.COMMON:case Le.v2.ORGANIZATIONS:case Le.v2.CONSUMERS:return;default:return r}}(e.authority),i=this.cacheManager.getTokenKeys(),a=this.cacheManager.getAccessToken(e.account,e,i,n);if(!a)throw this.setCacheOutcome(Le.Rv.NO_CACHED_ACCESS_TOKEN,e.correlationId),Rt(xt);if(o=a.cachedAt,Number(o)>Fs()||Vs(a.expiresOn,this.config.systemOptions.tokenRenewalOffsetSeconds))throw this.setCacheOutcome(Le.Rv.CACHED_ACCESS_TOKEN_EXPIRED,e.correlationId),Rt(xt);var o;a.refreshOn&&Vs(a.refreshOn,0)&&(r=Le.Rv.PROACTIVELY_REFRESHED);const s=e.authority||this.authority.getPreferredCache(),l={account:this.cacheManager.getAccount(this.cacheManager.generateAccountKey(e.account),e.correlationId),accessToken:a,idToken:this.cacheManager.getIdToken(e.account,e.correlationId,i,n,this.performanceClient),refreshToken:null,appMetadata:this.cacheManager.readAppMetadataFromCache(s)};return this.setCacheOutcome(r,e.correlationId),this.config.serverTelemetryManager&&this.config.serverTelemetryManager.incrementCacheHits(),[await Ks(this.generateResultFromCacheRecord.bind(this),hn,this.logger,this.performanceClient,e.correlationId)(l,e),r]}setCacheOutcome(e,t){var r,n;null===(r=this.serverTelemetryManager)||void 0===r||r.setCacheOutcome(e),null===(n=this.performanceClient)||void 0===n||n.addFields({cacheOutcome:e},t),e!==Le.Rv.NOT_APPLICABLE&&this.logger.info("Token refresh is required due to cache outcome: ".concat(e))}async generateResultFromCacheRecord(e,t){var r;let n;if(null===(r=this.performanceClient)||void 0===r||r.addQueueMeasurement(hn,t.correlationId),e.idToken&&(n=br(e.idToken.secret,this.config.cryptoInterface.base64Decode)),t.maxAge||0===t.maxAge){var i;const e=null===(i=n)||void 0===i?void 0:i.auth_time;if(!e)throw Rt(tt);_r(e,t.maxAge)}return Gl.generateAuthenticationResult(this.cryptoUtils,this.authority,e,!0,t,n)}}class mc extends nc{async acquireToken(e){this.performanceClient.addQueueMeasurement(Yr,e.correlationId);const t=this.initializeServerTelemetryManager(Mi.sA.acquireTokenSilent_silentFlow),r=await Ks(this.getClientConfiguration.bind(this),En,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:t,requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,account:e.account}),n=new gc(r,this.performanceClient);this.logger.verbose("Silent auth client created");try{const t=(await Ks(n.acquireCachedToken.bind(n),dn,this.logger,this.performanceClient,e.correlationId)(e))[0];return this.performanceClient.addFields({fromCache:!0},e.correlationId),t}catch(i){throw i instanceof Ma&&i.errorCode===pa&&this.logger.verbose("Signing keypair for bound access token not found. Refreshing bound access token and generating a new crypto keypair."),i}}logout(e){this.logger.verbose("logoutRedirect called");const t=this.initializeLogoutRequest(e);return this.clearCacheOnLogout(t.correlationId,null===t||void 0===t?void 0:t.account)}}const vc=["prompt"],yc=["scopes"];class bc extends Zl{constructor(e,t,r,n,i,a,o,s,l,c,u,d){super(e,t,r,n,i,a,s,l,d),this.apiId=o,this.accountId=c,this.platformAuthProvider=l,this.nativeStorageManager=u,this.silentCacheClient=new mc(e,this.nativeStorageManager,r,n,i,a,s,l,d);const h=this.platformAuthProvider.getExtensionName();this.skus=$l.makeExtraSkuString({libraryName:Mi.Q1.MSAL_SKU,libraryVersion:hs,extensionName:h,extensionVersion:this.platformAuthProvider.getExtensionVersion()})}addRequestSKUs(e){e.extraParameters=(0,Re.A)((0,Re.A)({},e.extraParameters),{},{[Va]:this.skus})}async acquireToken(e,t){this.performanceClient.addQueueMeasurement(en,this.correlationId),this.logger.trace("NativeInteractionClient - acquireToken called.");const r=this.performanceClient.startMeasurement(en,this.correlationId),n=Fs(),i=this.initializeServerTelemetryManager(this.apiId);try{const a=await this.initializeNativeRequest(e);try{const e=await this.acquireTokensFromCache(this.accountId,a);return r.end({success:!0,isNativeBroker:!1,fromCache:!0}),e}catch(QU){if(t===Mi.nN.AccessToken)throw this.logger.info("MSAL internal Cache does not contain tokens, return error as per cache policy"),r.end({success:!1,brokerErrorCode:"cache_request_failed"}),QU;this.logger.info("MSAL internal Cache does not contain tokens, proceed to make a native call")}const o=await this.platformAuthProvider.sendMessage(a);return await this.handleNativeResponse(o,a,n).then(e=>(r.end({success:!0,isNativeBroker:!0,requestId:e.requestId}),i.clearNativeBrokerErrorCode(),e)).catch(e=>{throw r.end({success:!1,errorCode:e.errorCode,subErrorCode:e.subError}),e})}catch(QU){throw QU instanceof hc&&i.setNativeBrokerErrorCode(QU.errorCode),r.end({success:!1}),QU}}createSilentCacheRequest(e,t){return{authority:e.authority,correlationId:this.correlationId,scopes:hr.fromString(e.scope).asArray(),account:t,forceRefresh:!1}}async acquireTokensFromCache(e,t){if(!e)throw this.logger.warning("NativeInteractionClient:acquireTokensFromCache - No nativeAccountId provided"),Rt(mt);const r=this.browserStorage.getBaseAccountInfo({nativeAccountId:e},this.correlationId);if(!r)throw Rt(mt);try{const e=this.createSilentCacheRequest(t,r),n=await this.silentCacheClient.acquireToken(e),i=(0,Re.A)((0,Re.A)({},r),{},{idTokenClaims:null===n||void 0===n?void 0:n.idTokenClaims,idToken:null===n||void 0===n?void 0:n.idToken});return(0,Re.A)((0,Re.A)({},n),{},{account:i})}catch(QU){throw QU}}async acquireTokenRedirect(e,t){this.logger.trace("NativeInteractionClient - acquireTokenRedirect called.");const r=Object.assign({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(e),e));delete r.onRedirectNavigate;const n=await this.initializeNativeRequest(r);try{await this.platformAuthProvider.sendMessage(n)}catch(QU){if(QU instanceof hc){if(this.initializeServerTelemetryManager(this.apiId).setNativeBrokerErrorCode(QU.errorCode),fc(QU))throw QU}}this.browserStorage.setTemporaryCache(Mi._p.NATIVE_REQUEST,JSON.stringify(n),!0);const i={apiId:Mi.sA.acquireTokenRedirect,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},a=this.config.auth.navigateToLoginRequestUrl?window.location.href:this.getRedirectUri(e.redirectUri);t.end({success:!0}),await this.navigationClient.navigateExternal(a,i)}async handleRedirectPromise(e,t){if(this.logger.trace("NativeInteractionClient - handleRedirectPromise called."),!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),null;const r=this.browserStorage.getCachedNativeRequest();if(!r)return this.logger.verbose("NativeInteractionClient - handleRedirectPromise called but there is no cached request, returning null."),e&&t&&(null===e||void 0===e||e.addFields({errorCode:"no_cached_request"},t)),null;const{prompt:n}=r,i=fr(r,vc);n&&this.logger.verbose("NativeInteractionClient - handleRedirectPromise called and prompt was included in the original request, removing prompt from cached request to prevent second interaction with native broker window."),this.browserStorage.removeItem(this.browserStorage.generateCacheKey(Mi._p.NATIVE_REQUEST));const a=Fs();try{this.logger.verbose("NativeInteractionClient - handleRedirectPromise sending message to native broker.");const t=await this.platformAuthProvider.sendMessage(i),r=await this.handleNativeResponse(t,i,a);return this.initializeServerTelemetryManager(this.apiId).clearNativeBrokerErrorCode(),e&&this.correlationId&&this.performanceClient.addFields({isNativeBroker:!0},this.correlationId),r}catch(QU){throw QU}}logout(){return this.logger.trace("NativeInteractionClient - logout called."),Promise.reject("Logout not implemented yet")}async handleNativeResponse(e,t,r){var n,i;this.logger.trace("NativeInteractionClient - handleNativeResponse called.");const a=br(e.id_token,Oo),o=this.createHomeAccountIdentifier(e,a),s=null===(n=this.browserStorage.getAccountInfoFilteredBy({nativeAccountId:t.accountId},this.correlationId))||void 0===n?void 0:n.homeAccountId;if(null!==(i=t.extraParameters)&&void 0!==i&&i.child_client_id&&e.account.id!==t.accountId)this.logger.info("handleNativeServerResponse: Double broker flow detected, ignoring accountId mismatch");else if(o!==s&&e.account.id!==t.accountId)throw pc(uc);const l=await this.getDiscoveredAuthority({requestAuthority:t.authority}),c=Yl(this.browserStorage,l,o,Oo,this.correlationId,a,e.client_info,void 0,a.tid,void 0,e.account.id,this.logger);e.expires_in=Number(e.expires_in);const u=await this.generateAuthenticationResult(e,t,a,c,l.canonicalAuthority,r);return await this.cacheAccount(c,this.correlationId),await this.cacheNativeTokens(e,t,o,a,e.access_token,u.tenantId,r),u}createHomeAccountIdentifier(e,t){return _l.generateHomeAccountId(e.client_info||Le.YM.EMPTY_STRING,Ds,this.logger,this.browserCrypto,t)}generateScopes(e,t){return t?hr.fromString(t):hr.fromString(e)}async generatePopAccessToken(e,t){if(t.tokenType===Le.IO.POP&&t.signPopToken){if(e.shr)return this.logger.trace("handleNativeServerResponse: SHR is enabled in native layer"),e.shr;const r=new Wl(this.browserCrypto),n={resourceRequestMethod:t.resourceRequestMethod,resourceRequestUri:t.resourceRequestUri,shrClaims:t.shrClaims,shrNonce:t.shrNonce};if(!t.keyId)throw Rt(Tt);return r.signPopToken(e.access_token,t.keyId,n)}return e.access_token}async generateAuthenticationResult(e,t,r,n,i,a){const o=this.addTelemetryFromNativeResponse(e.properties.MATS),s=this.generateScopes(t.scope,e.scope),l=e.account.properties||{},c=l.UID||r.oid||r.sub||Le.YM.EMPTY_STRING,u=l.TenantId||r.tid||Le.YM.EMPTY_STRING,d=yr(n.getAccountInfo(),void 0,r,e.id_token);d.nativeAccountId!==e.account.id&&(d.nativeAccountId=e.account.id);const h=await this.generatePopAccessToken(e,t),f=t.tokenType===Le.IO.POP?Le.IO.POP:Le.IO.BEARER;return{authority:i,uniqueId:c,tenantId:u,scopes:s.asArray(),account:d,idToken:e.id_token,idTokenClaims:r,accessToken:h,fromCache:!!o&&this.isResponseFromCache(o),expiresOn:Ws(a+e.expires_in),tokenType:f,correlationId:this.correlationId,state:e.state,fromNativeBroker:!0}}async cacheAccount(e,t){await this.browserStorage.setAccount(e,this.correlationId),this.browserStorage.removeAccountContext(e.getAccountInfo(),t)}cacheNativeTokens(e,t,r,n,i,a,o){const s=Ys(r,t.authority,e.id_token||"",t.clientId,n.tid||""),l=o+(t.tokenType===Le.IO.POP?Le.YM.SHR_NONCE_VALIDITY:("string"===typeof e.expires_in?parseInt(e.expires_in,10):e.expires_in)||0),c=this.generateScopes(e.scope,t.scope),u={idToken:s,accessToken:Qs(r,t.authority,i,t.clientId,n.tid||a,c.printScopes(),l,0,Oo,void 0,t.tokenType,void 0,t.keyId)};return this.nativeStorageManager.saveCacheRecord(u,this.correlationId,t.storeInCache)}getExpiresInValue(e,t){return e===Le.IO.POP?Le.YM.SHR_NONCE_VALIDITY:("string"===typeof t?parseInt(t,10):t)||0}addTelemetryFromNativeResponse(e){const t=this.getMATSFromResponse(e);return t?(this.performanceClient.addFields({extensionId:this.platformAuthProvider.getExtensionId(),extensionVersion:this.platformAuthProvider.getExtensionVersion(),matsBrokerVersion:t.broker_version,matsAccountJoinOnStart:t.account_join_on_start,matsAccountJoinOnEnd:t.account_join_on_end,matsDeviceJoin:t.device_join,matsPromptBehavior:t.prompt_behavior,matsApiErrorCode:t.api_error_code,matsUiVisible:t.ui_visible,matsSilentCode:t.silent_code,matsSilentBiSubCode:t.silent_bi_sub_code,matsSilentMessage:t.silent_message,matsSilentStatus:t.silent_status,matsHttpStatus:t.http_status,matsHttpEventCount:t.http_event_count},this.correlationId),t):null}getMATSFromResponse(e){if(e)try{return JSON.parse(e)}catch(QU){this.logger.error("NativeInteractionClient - Error parsing MATS telemetry, returning null instead")}return null}isResponseFromCache(e){return"undefined"===typeof e.is_cached?(this.logger.verbose("NativeInteractionClient - MATS telemetry does not contain field indicating if response was served from cache. Returning false."),!1):!!e.is_cached}async initializeNativeRequest(e){this.logger.trace("NativeInteractionClient - initializeNativeRequest called");const t=await this.getCanonicalAuthority(e),{scopes:r}=e,n=fr(e,yc),i=new hr(r||[]);i.appendScopes(Le.aZ);const a=(0,Re.A)((0,Re.A)({},n),{},{accountId:this.accountId,clientId:this.config.auth.clientId,authority:t.urlString,scope:i.printScopes(),redirectUri:this.getRedirectUri(e.redirectUri),prompt:this.getPrompt(e.prompt),correlationId:this.correlationId,tokenType:e.authenticationScheme,windowTitleSubstring:document.title,extraParameters:(0,Re.A)((0,Re.A)({},e.extraQueryParameters),e.tokenQueryParameters),extendedExpiryToken:!1,keyId:e.popKid});if(a.signPopToken&&e.popKid)throw Na(Aa);if(this.handleExtraBrokerParams(a),a.extraParameters=a.extraParameters||{},a.extraParameters.telemetry=Mi.V8.MATS_TELEMETRY,e.authenticationScheme===Le.IO.POP){const t={resourceRequestUri:e.resourceRequestUri,resourceRequestMethod:e.resourceRequestMethod,shrClaims:e.shrClaims,shrNonce:e.shrNonce},r=new Wl(this.browserCrypto);let n;if(a.keyId)n=this.browserCrypto.base64UrlEncode(JSON.stringify({kid:a.keyId})),a.signPopToken=!1;else{const e=await Ks(r.generateCnf.bind(r),Ln,this.logger,this.performanceClient,this.correlationId)(t,this.logger);n=e.reqCnfString,a.keyId=e.kid,a.signPopToken=!0}a.reqCnf=n}return this.addRequestSKUs(a),a}async getCanonicalAuthority(e){const t=e.authority||this.config.auth.authority;e.account&&await this.getDiscoveredAuthority({requestAuthority:t,requestAzureCloudOptions:e.azureCloudOptions,account:e.account});const r=new Ar(t);return r.validateAsUri(),r}getPrompt(e){switch(this.apiId){case Mi.sA.ssoSilent:case Mi.sA.acquireTokenSilent_silentFlow:return this.logger.trace("initializeNativeRequest: silent request sets prompt to none"),Le._M.NONE}if(e)switch(e){case Le._M.NONE:case Le._M.CONSENT:case Le._M.LOGIN:return this.logger.trace("initializeNativeRequest: prompt is compatible with native flow"),e;default:throw this.logger.trace("initializeNativeRequest: prompt = ".concat(e," is not compatible with native flow")),Na(Ea)}else this.logger.trace("initializeNativeRequest: prompt was not provided")}handleExtraBrokerParams(e){var t;const r=e.extraParameters&&e.extraParameters.hasOwnProperty(Ga)&&e.extraParameters.hasOwnProperty(Ya)&&e.extraParameters.hasOwnProperty(Ka);if(!e.embeddedClientId&&!r)return;let n="";const i=e.redirectUri;e.embeddedClientId?(e.redirectUri=this.config.auth.redirectUri,n=e.embeddedClientId):e.extraParameters&&(e.redirectUri=e.extraParameters[Ya],n=e.extraParameters[Ka]),e.extraParameters={child_client_id:n,child_redirect_uri:i},null===(t=this.performanceClient)||void 0===t||t.addFields({embeddedClientId:n,embeddedRedirectUri:i},this.correlationId)}}async function _c(e,t,r,n,i){const a=oc((0,Re.A)((0,Re.A)({},e.auth),{},{authority:t}),r,n,i);if(so(a,{sku:Mi.Q1.MSAL_SKU,version:hs,os:"",cpu:""}),e.auth.protocolMode!==Be&&lo(a,e.telemetry.application),r.platformBroker&&(function(e){e.set("nativebroker","1")}(a),i.addFields({isPlatformAuthorizeRequest:!0},r.correlationId),r.authenticationScheme===Le.IO.POP)){const e=new Ns(n,i),t=new Wl(e);let o;if(r.popKid)o=e.encodeKid(r.popKid);else{o=(await Ks(t.generateCnf.bind(t),Ln,n,i,r.correlationId)(r,n)).reqCnfString}_o(a,o)}return Ja(a,r.correlationId,i),a}async function xc(e,t,r,n,i){if(!r.codeChallenge)throw ur(Qt);const a=await Ks(_c,Tn,n,i,r.correlationId)(e,t,r,n,i);return Xa(a,Le.RX.CODE),uo(a,r.codeChallenge,Le.YM.S256_CODE_CHALLENGE_METHOD),yo(a,r.extraQueryParameters||{}),sc(t,a,e.auth.encodeExtraQueryParams,r.extraQueryParameters)}async function wc(e,t,r,n,i,a){if(!n.earJwk)throw Na(Ri);const o=await _c(t,r,n,i,a);Xa(o,Le.RX.IDTOKEN_TOKEN_REFRESHTOKEN),function(e,t){e.set("ear_jwk",encodeURIComponent(t)),e.set("ear_jwe_crypto","eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0")}(o,n.earJwk);const s=new Map;yo(s,n.extraQueryParameters||{});return Ec(e,sc(r,s,t.auth.encodeExtraQueryParams,n.extraQueryParameters),o)}async function kc(e,t,r,n,i,a){const o=await _c(t,r,n,i,a);Xa(o,Le.RX.CODE),uo(o,n.codeChallenge,n.codeChallengeMethod||Le.YM.S256_CODE_CHALLENGE_METHOD),function(e,t){Object.entries(t).forEach(t=>{let[r,n]=t;n&&e.set(r,n)})}(o,n.authorizePostBodyParameters||{});const s=new Map;yo(s,n.extraQueryParameters||{});return Ec(e,sc(r,s,t.auth.encodeExtraQueryParams,n.extraQueryParameters),o)}function Ec(e,t,r){const n=e.createElement("form");return n.method="post",n.action=t,r.forEach((t,r)=>{const i=e.createElement("input");i.hidden=!0,i.name=r,i.value=t,n.appendChild(i)}),e.body.appendChild(n),n}async function Cc(e,t,r,n,i,a,o,s,l,c){if(s.verbose("Account id found, calling WAM for token"),!c)throw Na(wa);const u=new Ns(s,l),d=new bc(n,i,u,s,o,n.system.navigationClient,r,l,c,t,a,e.correlationId),{userRequestState:h}=Fl.parseRequestState(u,e.state);return Ks(d.acquireToken.bind(d),en,s,l,e.correlationId)((0,Re.A)((0,Re.A)({},e),{},{state:h,prompt:void 0}))}async function Ac(e,t,r,n,i,a,o,s,l,c,u,d){if(Kl.removeThrottle(o,i.auth.clientId,e),t.accountId)return Ks(Cc,In,c,u,e.correlationId)(e,t.accountId,n,i,o,s,l,c,u,d);const h=(0,Re.A)((0,Re.A)({},e),{},{code:t.code||"",codeVerifier:r}),f=new cc(a,o,h,c,u);return await Ks(f.handleCodeResponse.bind(f),On,c,u,e.correlationId)(t,e)}async function Tc(e,t,r,n,i,a,o,s,l,c,u){if(Kl.removeThrottle(a,n.auth.clientId,e),lc(t,e.state),!t.ear_jwe)throw Na(Di);if(!e.earJwk)throw Na(Ri);const d=JSON.parse(await Ks(Go,bi,l,c,e.correlationId)(e.earJwk,t.ear_jwe));if(d.accountId)return Ks(Cc,In,l,c,e.correlationId)(e,d.accountId,r,n,a,o,s,l,c,u);const h=new Gl(n.auth.clientId,a,new Ns(l,c),l,null,null,c);h.validateTokenResponse(d);const f={code:"",state:e.state,nonce:e.nonce,client_info:d.client_info,cloud_graph_host_name:d.cloud_graph_host_name,cloud_instance_host_name:d.cloud_instance_host_name,cloud_instance_name:d.cloud_instance_name,msgraph_host:d.msgraph_host};return await Ks(h.handleServerTokenResponse.bind(h),Bn,l,c,e.correlationId)(d,i,Fs(),e,f,void 0,void 0,void 0,void 0)}async function Sc(e,t,r){e.addQueueMeasurement(si,r);const n=zs(Oc,li,t,e,r)(e,t,r);return{verifier:n,challenge:await Ks(Pc,ci,t,e,r)(n,e,t,r)}}function Oc(e,t,r){try{const n=new Uint8Array(32);zs(qo,di,t,e,r)(n);return Ao(n)}catch(QU){throw Na(Ni)}}async function Pc(e,t,r,n){t.addQueueMeasurement(ci,n);try{const i=await Ks(Ko,ui,r,t,n)(e,t,n);return Ao(new Uint8Array(i))}catch(QU){throw Na(Ni)}}var Ic=__webpack_require__(7389);class jc{constructor(e,t,r,n){this.logger=e,this.handshakeTimeoutMs=t,this.extensionId=n,this.resolvers=new Map,this.handshakeResolvers=new Map,this.messageChannel=new MessageChannel,this.windowListener=this.onWindowMessage.bind(this),this.performanceClient=r,this.handshakeEvent=r.startMeasurement(ei),this.platformAuthType=Mi.V8.PLATFORM_EXTENSION_PROVIDER}async sendMessage(e){this.logger.trace(this.platformAuthType+" - sendMessage called.");const t={method:Mi.Ct.GetToken,request:e},r={channel:Mi.V8.CHANNEL_ID,extensionId:this.extensionId,responseId:Ho(),body:t};this.logger.trace(this.platformAuthType+" - Sending request to browser extension"),this.logger.tracePii(this.platformAuthType+" - Sending request to browser extension: ".concat(JSON.stringify(r))),this.messageChannel.port1.postMessage(r);const n=await new Promise((e,t)=>{this.resolvers.set(r.responseId,{resolve:e,reject:t})});return this.validatePlatformBrokerResponse(n)}static async createProvider(e,t,r){e.trace("PlatformAuthExtensionHandler - createProvider called.");try{const n=new jc(e,t,r,Mi.V8.PREFERRED_EXTENSION_ID);return await n.sendHandshakeRequest(),n}catch(QU){const i=new jc(e,t,r);return await i.sendHandshakeRequest(),i}}async sendHandshakeRequest(){this.logger.trace(this.platformAuthType+" - sendHandshakeRequest called."),window.addEventListener("message",this.windowListener,!1);const e={channel:Mi.V8.CHANNEL_ID,extensionId:this.extensionId,responseId:Ho(),body:{method:Mi.Ct.HandshakeRequest}};return this.handshakeEvent.add({extensionId:this.extensionId,extensionHandshakeTimeoutMs:this.handshakeTimeoutMs}),this.messageChannel.port1.onmessage=e=>{this.onChannelMessage(e)},window.postMessage(e,window.origin,[this.messageChannel.port2]),new Promise((t,r)=>{this.handshakeResolvers.set(e.responseId,{resolve:t,reject:r}),this.timeoutId=window.setTimeout(()=>{window.removeEventListener("message",this.windowListener,!1),this.messageChannel.port1.close(),this.messageChannel.port2.close(),this.handshakeEvent.end({extensionHandshakeTimedOut:!0,success:!1}),r(Na(_a)),this.handshakeResolvers.delete(e.responseId)},this.handshakeTimeoutMs)})}onWindowMessage(e){if(this.logger.trace(this.platformAuthType+" - onWindowMessage called"),e.source!==window)return;const t=e.data;if(t.channel&&t.channel===Mi.V8.CHANNEL_ID&&(!t.extensionId||t.extensionId===this.extensionId)&&t.body.method===Mi.Ct.HandshakeRequest){const e=this.handshakeResolvers.get(t.responseId);if(!e)return void this.logger.trace(this.platformAuthType+".onWindowMessage - resolver can't be found for request ".concat(t.responseId));this.logger.verbose(t.extensionId?"Extension with id: ".concat(t.extensionId," not installed"):"No extension installed"),clearTimeout(this.timeoutId),this.messageChannel.port1.close(),this.messageChannel.port2.close(),window.removeEventListener("message",this.windowListener,!1),this.handshakeEvent.end({success:!1,extensionInstalled:!1}),e.reject(Na(xa))}}onChannelMessage(e){this.logger.trace(this.platformAuthType+" - onChannelMessage called.");const t=e.data,r=this.resolvers.get(t.responseId),n=this.handshakeResolvers.get(t.responseId);try{const e=t.body.method;if(e===Mi.Ct.Response){if(!r)return;const e=t.body.response;if(this.logger.trace(this.platformAuthType+" - Received response from browser extension"),this.logger.tracePii(this.platformAuthType+" - Received response from browser extension: ".concat(JSON.stringify(e))),"Success"!==e.status)r.reject(pc(e.code,e.description,e.ext));else{if(!e.result)throw(0,qe.pz)(Ic.W,"Event does not contain result.");e.result.code&&e.result.description?r.reject(pc(e.result.code,e.result.description,e.result.ext)):r.resolve(e.result)}this.resolvers.delete(t.responseId)}else if(e===Mi.Ct.HandshakeResponse){if(!n)return void this.logger.trace(this.platformAuthType+".onChannelMessage - resolver can't be found for request ".concat(t.responseId));clearTimeout(this.timeoutId),window.removeEventListener("message",this.windowListener,!1),this.extensionId=t.extensionId,this.extensionVersion=t.body.version,this.logger.verbose(this.platformAuthType+" - Received HandshakeResponse from extension: ".concat(this.extensionId)),this.handshakeEvent.end({extensionInstalled:!0,success:!0}),n.resolve(),this.handshakeResolvers.delete(t.responseId)}}catch(i){this.logger.error("Error parsing response from WAM Extension"),this.logger.errorPii("Error parsing response from WAM Extension: ".concat(i)),this.logger.errorPii("Unable to parse ".concat(e)),r?r.reject(i):n&&n.reject(i)}}validatePlatformBrokerResponse(e){if(e.hasOwnProperty("access_token")&&e.hasOwnProperty("id_token")&&e.hasOwnProperty("client_info")&&e.hasOwnProperty("account")&&e.hasOwnProperty("scope")&&e.hasOwnProperty("expires_in"))return e;throw(0,qe.pz)(Ic.W,"Response missing expected properties.")}getExtensionId(){return this.extensionId}getExtensionVersion(){return this.extensionVersion}getExtensionName(){var e;return this.getExtensionId()===Mi.V8.PREFERRED_EXTENSION_ID?"chrome":null!==(e=this.getExtensionId())&&void 0!==e&&e.length?"unknown":void 0}}const Mc=["accountId","clientId","authority","scope","redirectUri","correlationId","state","storeInCache","embeddedClientId","extraParameters"];class Nc{constructor(e,t,r){this.logger=e,this.performanceClient=t,this.correlationId=r,this.platformAuthType=Mi.V8.PLATFORM_DOM_PROVIDER}static async createProvider(e,t,r){var n;if(e.trace("PlatformAuthDOMHandler: createProvider called"),null!==(n=window.navigator)&&void 0!==n&&n.platformAuthentication){const n=await window.navigator.platformAuthentication.getSupportedContracts(Mi.V8.MICROSOFT_ENTRA_BROKERID);if(null!==n&&void 0!==n&&n.includes(Mi.V8.PLATFORM_DOM_APIS))return e.trace("Platform auth api available in DOM"),new Nc(e,t,r)}}getExtensionId(){return Mi.V8.MICROSOFT_ENTRA_BROKERID}getExtensionVersion(){return""}getExtensionName(){return Mi.V8.DOM_API_NAME}async sendMessage(e){this.logger.trace(this.platformAuthType+" - Sending request to browser DOM API");try{const t=this.initializePlatformDOMRequest(e),r=await window.navigator.platformAuthentication.executeGetToken(t);return this.validatePlatformBrokerResponse(r)}catch(QU){throw this.logger.error(this.platformAuthType+" - executeGetToken DOM API error"),QU}}initializePlatformDOMRequest(e){this.logger.trace(this.platformAuthType+" - initializeNativeDOMRequest called");const{accountId:t,clientId:r,authority:n,scope:i,redirectUri:a,correlationId:o,state:s,storeInCache:l,embeddedClientId:c,extraParameters:u}=e,d=fr(e,Mc),h=this.getDOMExtraParams(d);return{accountId:t,brokerId:this.getExtensionId(),authority:n,clientId:r,correlationId:o||this.correlationId,extraParameters:(0,Re.A)((0,Re.A)({},u),h),isSecurityTokenService:!1,redirectUri:a,scope:i,state:s,storeInCache:l,embeddedClientId:c}}validatePlatformBrokerResponse(e){if(e.hasOwnProperty("isSuccess")){if(e.hasOwnProperty("accessToken")&&e.hasOwnProperty("idToken")&&e.hasOwnProperty("clientInfo")&&e.hasOwnProperty("account")&&e.hasOwnProperty("scopes")&&e.hasOwnProperty("expiresIn"))return this.logger.trace(this.platformAuthType+" - platform broker returned successful and valid response"),this.convertToPlatformBrokerResponse(e);if(e.hasOwnProperty("error")){const t=e;if(!1===t.isSuccess&&t.error&&t.error.code)throw this.logger.trace(this.platformAuthType+" - platform broker returned error response"),pc(t.error.code,t.error.description,{error:parseInt(t.error.errorCode),protocol_error:t.error.protocolError,status:t.error.status,properties:t.error.properties})}}throw(0,qe.pz)(Ic.W,"Response missing expected properties.")}convertToPlatformBrokerResponse(e){var t;this.logger.trace(this.platformAuthType+" - convertToNativeResponse called");return{access_token:e.accessToken,id_token:e.idToken,client_info:e.clientInfo,account:e.account,expires_in:e.expiresIn,scope:e.scopes,state:e.state||"",properties:e.properties||{},extendedLifetimeToken:null!==(t=e.extendedLifetimeToken)&&void 0!==t&&t,shr:e.proofOfPossessionPayload}}getDOMExtraParams(e){const t=Object.entries(e).reduce((e,t)=>{let[r,n]=t;return e[r]=String(n),e},{});return(0,Re.A)({},t)}}async function Rc(e,t,r,n){e.trace("getPlatformAuthProvider called",r);const i=function(){let e;try{var t;return e=window[Mi.Al.SessionStorage],"true"===(null===(t=e)||void 0===t?void 0:t.getItem(vs))}catch(QU){return!1}}();let a;e.trace("Has client allowed platform auth via DOM API: "+i);try{i&&(a=await Nc.createProvider(e,t,r)),a||(e.trace("Platform auth via DOM API not available, checking for extension"),a=await jc.createProvider(e,n||2e3,t))}catch(QU){e.trace("Platform auth not available",QU)}return a}function Dc(e,t,r,n){if(t.trace("isPlatformAuthAllowed called"),!e.system.allowPlatformBroker)return t.trace("isPlatformAuthAllowed: allowPlatformBroker is not enabled, returning false"),!1;if(!r)return t.trace("isPlatformAuthAllowed: Platform auth provider is not initialized, returning false"),!1;if(n)switch(n){case Le.IO.BEARER:case Le.IO.POP:return t.trace("isPlatformAuthAllowed: authenticationScheme is supported, returning true"),!0;default:return t.trace("isPlatformAuthAllowed: authenticationScheme is not supported, returning false"),!1}return!0}class Lc extends nc{constructor(e,t,r,n,i,a,o,s,l,c){super(e,t,r,n,i,a,o,l,c),this.unloadWindow=this.unloadWindow.bind(this),this.nativeStorage=s,this.eventHandler=i}acquireToken(e,t){let r;try{var n;if(r={popupName:this.generatePopupName(e.scopes||Le.aZ,e.authority||this.config.auth.authority),popupWindowAttributes:e.popupWindowAttributes||{},popupWindowParent:null!==(n=e.popupWindowParent)&&void 0!==n?n:window},this.performanceClient.addFields({isAsyncPopup:this.config.system.asyncPopups},this.correlationId),this.config.system.asyncPopups)return this.logger.verbose("asyncPopups set to true, acquiring token"),this.acquireTokenPopupAsync(e,r,t);{const n=(0,Re.A)((0,Re.A)({},e),{},{httpMethod:rc(e,this.config.auth.protocolMode)});return this.logger.verbose("asyncPopup set to false, opening popup before acquiring token"),r.popup=this.openSizedPopup("about:blank",r),this.acquireTokenPopupAsync(n,r,t)}}catch(QU){return Promise.reject(QU)}}logout(e){try{var t;this.logger.verbose("logoutPopup called");const r=this.initializeLogoutRequest(e),n={popupName:this.generateLogoutPopupName(r),popupWindowAttributes:(null===e||void 0===e?void 0:e.popupWindowAttributes)||{},popupWindowParent:null!==(t=null===e||void 0===e?void 0:e.popupWindowParent)&&void 0!==t?t:window},i=e&&e.authority,a=e&&e.mainWindowRedirectUri;return this.config.system.asyncPopups?(this.logger.verbose("asyncPopups set to true"),this.logoutPopupAsync(r,n,i,a)):(this.logger.verbose("asyncPopup set to false, opening popup"),n.popup=this.openSizedPopup("about:blank",n),this.logoutPopupAsync(r,n,i,a))}catch(QU){return Promise.reject(QU)}}async acquireTokenPopupAsync(e,t,r){this.logger.verbose("acquireTokenPopupAsync called");const n=await Ks(this.initializeAuthorizationRequest.bind(this),Cn,this.logger,this.performanceClient,this.correlationId)(e,Mi.X8.Popup);t.popup&&us(n.authority);const i=Dc(this.config,this.logger,this.platformAuthProvider,e.authenticationScheme);return n.platformBroker=i,this.config.auth.protocolMode===ze?this.executeEarFlow(n,t):this.executeCodeFlow(n,t,r)}async executeCodeFlow(e,t,r){const n=e.correlationId,i=this.initializeServerTelemetryManager(Mi.sA.acquireTokenPopup),a=r||await Ks(Sc,si,this.logger,this.performanceClient,n)(this.performanceClient,this.logger,n),o=(0,Re.A)((0,Re.A)({},e),{},{codeChallenge:a.challenge});try{const r=await Ks(this.createAuthCodeClient.bind(this),kn,this.logger,this.performanceClient,n)({serverTelemetryManager:i,requestAuthority:o.authority,requestAzureCloudOptions:o.azureCloudOptions,requestExtraQueryParameters:o.extraQueryParameters,account:o.account});if(o.httpMethod===Le.ym.POST)return await this.executeCodeFlowWithPost(o,t,r,a.verifier);{const i=await Ks(xc,An,this.logger,this.performanceClient,n)(this.config,r.authority,o,this.logger,this.performanceClient),s=this.initiateAuthRequest(i,t);this.eventHandler.emitEvent(jl.B.POPUP_OPENED,Mi.X8.Popup,{popupWindow:s},null);const l=await this.monitorPopupForHash(s,t.popupWindowParent),c=zs(ic,zn,this.logger,this.performanceClient,this.correlationId)(l,this.config.auth.OIDCOptions.serverResponseType,this.logger);return await Ks(Ac,jn,this.logger,this.performanceClient,n)(e,c,a.verifier,Mi.sA.acquireTokenPopup,this.config,r,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}}catch(QU){var s;throw null===(s=t.popup)||void 0===s||s.close(),QU instanceof qe.lR&&(QU.setCorrelationId(this.correlationId),i.cacheFailedRequest(QU)),QU}}async executeEarFlow(e,t){const r=e.correlationId,n=await Ks(this.getDiscoveredAuthority.bind(this),Zr,this.logger,this.performanceClient,r)({requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),i=await Ks(Vo,yi,this.logger,this.performanceClient,r)(),a=(0,Re.A)((0,Re.A)({},e),{},{earJwk:i}),o=t.popup||this.openPopup("about:blank",t);(await wc(o.document,this.config,n,a,this.logger,this.performanceClient)).submit();const s=await Ks(this.monitorPopupForHash.bind(this),_n,this.logger,this.performanceClient,r)(o,t.popupWindowParent),l=zs(ic,zn,this.logger,this.performanceClient,this.correlationId)(s,this.config.auth.OIDCOptions.serverResponseType,this.logger);return Ks(Tc,Pn,this.logger,this.performanceClient,r)(a,l,Mi.sA.acquireTokenPopup,this.config,n,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}async executeCodeFlowWithPost(e,t,r,n){const i=e.correlationId,a=await Ks(this.getDiscoveredAuthority.bind(this),Zr,this.logger,this.performanceClient,i)({requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),o=t.popup||this.openPopup("about:blank",t);(await kc(o.document,this.config,a,e,this.logger,this.performanceClient)).submit();const s=await Ks(this.monitorPopupForHash.bind(this),_n,this.logger,this.performanceClient,i)(o,t.popupWindowParent),l=zs(ic,zn,this.logger,this.performanceClient,this.correlationId)(s,this.config.auth.OIDCOptions.serverResponseType,this.logger);return Ks(Ac,jn,this.logger,this.performanceClient,i)(e,l,n,Mi.sA.acquireTokenPopup,this.config,r,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}async logoutPopupAsync(e,t,r,n){this.logger.verbose("logoutPopupAsync called"),this.eventHandler.emitEvent(jl.B.LOGOUT_START,Mi.X8.Popup,e);const i=this.initializeServerTelemetryManager(Mi.sA.logoutPopup);try{await this.clearCacheOnLogout(this.correlationId,e.account);const s=await Ks(this.createAuthCodeClient.bind(this),kn,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:i,requestAuthority:r,account:e.account||void 0});try{s.authority.endSessionEndpoint}catch(l){var a;if(null!==(a=e.account)&&void 0!==a&&a.homeAccountId&&e.postLogoutRedirectUri&&s.authority.protocolMode===Be){var o;if(this.eventHandler.emitEvent(jl.B.LOGOUT_SUCCESS,Mi.X8.Popup,e),n){const e={apiId:Mi.sA.logoutPopup,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},t=Ar.getAbsoluteUrl(n,is());await this.navigationClient.navigateInternal(t,e)}return void(null===(o=t.popup)||void 0===o||o.close())}}const c=s.getLogoutUri(e);this.eventHandler.emitEvent(jl.B.LOGOUT_SUCCESS,Mi.X8.Popup,e);const u=this.openPopup(c,t);if(this.eventHandler.emitEvent(jl.B.POPUP_OPENED,Mi.X8.Popup,{popupWindow:u},null),await this.monitorPopupForHash(u,t.popupWindowParent).catch(()=>{}),n){const e={apiId:Mi.sA.logoutPopup,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},t=Ar.getAbsoluteUrl(n,is());this.logger.verbose("Redirecting main window to url specified in the request"),this.logger.verbosePii("Redirecting main window to: ".concat(t)),await this.navigationClient.navigateInternal(t,e)}else this.logger.verbose("No main window navigation requested")}catch(QU){var s;throw null===(s=t.popup)||void 0===s||s.close(),QU instanceof qe.lR&&(QU.setCorrelationId(this.correlationId),i.cacheFailedRequest(QU)),this.eventHandler.emitEvent(jl.B.LOGOUT_FAILURE,Mi.X8.Popup,null,QU),this.eventHandler.emitEvent(jl.B.LOGOUT_END,Mi.X8.Popup),QU}this.eventHandler.emitEvent(jl.B.LOGOUT_END,Mi.X8.Popup)}initiateAuthRequest(e,t){if(e)return this.logger.infoPii("Navigate to: ".concat(e)),this.openPopup(e,t);throw this.logger.error("Navigate url is empty"),Na(Ui)}monitorPopupForHash(e,t){return new Promise((t,r)=>{this.logger.verbose("PopupHandler.monitorPopupForHash - polling started");const n=setInterval(()=>{if(e.closed)return this.logger.error("PopupHandler.monitorPopupForHash - window closed"),clearInterval(n),void r(Na(Gi));let i="";try{i=e.location.href}catch(QU){}if(!i||"about:blank"===i)return;clearInterval(n);let a="";const o=this.config.auth.OIDCOptions.serverResponseType;e&&(a=o===Le.zL.QUERY?e.location.search:e.location.hash),this.logger.verbose("PopupHandler.monitorPopupForHash - popup window is on same origin as caller"),t(a)},this.config.system.pollIntervalMilliseconds)}).finally(()=>{this.cleanPopup(e,t)})}openPopup(e,t){try{let r;if(t.popup?(r=t.popup,this.logger.verbosePii("Navigating popup window to: ".concat(e)),r.location.assign(e)):"undefined"===typeof t.popup&&(this.logger.verbosePii("Opening popup window to: ".concat(e)),r=this.openSizedPopup(e,t)),!r)throw Na(Vi);return r.focus&&r.focus(),this.currentWindow=r,t.popupWindowParent.addEventListener("beforeunload",this.unloadWindow),r}catch(QU){throw this.logger.error("error opening popup "+QU.message),Na(Wi)}}openSizedPopup(e,t){var r,n,i,a;let{popupName:o,popupWindowAttributes:s,popupWindowParent:l}=t;const c=l.screenLeft?l.screenLeft:l.screenX,u=l.screenTop?l.screenTop:l.screenY,d=l.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,h=l.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;let f=null===(r=s.popupSize)||void 0===r?void 0:r.width,p=null===(n=s.popupSize)||void 0===n?void 0:n.height,g=null===(i=s.popupPosition)||void 0===i?void 0:i.top,m=null===(a=s.popupPosition)||void 0===a?void 0:a.left;return(!f||f<0||f>d)&&(this.logger.verbose("Default popup window width used. Window width not configured or invalid."),f=Mi.Q1.POPUP_WIDTH),(!p||p<0||p>h)&&(this.logger.verbose("Default popup window height used. Window height not configured or invalid."),p=Mi.Q1.POPUP_HEIGHT),(!g||g<0||g>h)&&(this.logger.verbose("Default popup window top position used. Window top not configured or invalid."),g=Math.max(0,h/2-Mi.Q1.POPUP_HEIGHT/2+u)),(!m||m<0||m>d)&&(this.logger.verbose("Default popup window left position used. Window left not configured or invalid."),m=Math.max(0,d/2-Mi.Q1.POPUP_WIDTH/2+c)),l.open(e,o,"width=".concat(f,", height=").concat(p,", top=").concat(g,", left=").concat(m,", scrollbars=yes"))}unloadWindow(e){this.currentWindow&&this.currentWindow.close(),e.preventDefault()}cleanPopup(e,t){e.close(),t.removeEventListener("beforeunload",this.unloadWindow)}generatePopupName(e,t){return"".concat(Mi.Q1.POPUP_NAME_PREFIX,".").concat(this.config.auth.clientId,".").concat(e.join("-"),".").concat(t,".").concat(this.correlationId)}generateLogoutPopupName(e){const t=e.account&&e.account.homeAccountId;return"".concat(Mi.Q1.POPUP_NAME_PREFIX,".").concat(this.config.auth.clientId,".").concat(t,".").concat(this.correlationId)}}class Uc extends nc{constructor(e,t,r,n,i,a,o,s,l,c){super(e,t,r,n,i,a,o,l,c),this.nativeStorage=s}async acquireToken(e){const t=await Ks(this.initializeAuthorizationRequest.bind(this),Cn,this.logger,this.performanceClient,this.correlationId)(e,Mi.X8.Redirect);t.platformBroker=Dc(this.config,this.logger,this.platformAuthProvider,e.authenticationScheme);const r=e=>{e.persisted&&(this.logger.verbose("Page was restored from back/forward cache. Clearing temporary cache."),this.browserStorage.resetRequestCache(),this.eventHandler.emitEvent(jl.B.RESTORE_FROM_BFCACHE,Mi.X8.Redirect))},n=this.getRedirectStartPage(e.redirectStartPage);this.logger.verbosePii("Redirect start page: ".concat(n)),this.browserStorage.setTemporaryCache(Mi._p.ORIGIN_URI,n,!0),window.addEventListener("pageshow",r);try{this.config.auth.protocolMode===ze?await this.executeEarFlow(t):await this.executeCodeFlow(t,e.onRedirectNavigate)}catch(QU){throw QU instanceof qe.lR&&QU.setCorrelationId(this.correlationId),window.removeEventListener("pageshow",r),QU}}async executeCodeFlow(e,t){const r=e.correlationId,n=this.initializeServerTelemetryManager(Mi.sA.acquireTokenRedirect),i=await Ks(Sc,si,this.logger,this.performanceClient,r)(this.performanceClient,this.logger,r),a=(0,Re.A)((0,Re.A)({},e),{},{codeChallenge:i.challenge});this.browserStorage.cacheAuthorizeRequest(a,i.verifier);try{if(a.httpMethod===Le.ym.POST)return await this.executeCodeFlowWithPost(a);{const r=await Ks(this.createAuthCodeClient.bind(this),kn,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:n,requestAuthority:a.authority,requestAzureCloudOptions:a.azureCloudOptions,requestExtraQueryParameters:a.extraQueryParameters,account:a.account}),i=await Ks(xc,An,this.logger,this.performanceClient,e.correlationId)(this.config,r.authority,a,this.logger,this.performanceClient);return await this.initiateAuthRequest(i,t)}}catch(QU){throw QU instanceof qe.lR&&(QU.setCorrelationId(this.correlationId),n.cacheFailedRequest(QU)),QU}}async executeEarFlow(e){const t=e.correlationId,r=await Ks(this.getDiscoveredAuthority.bind(this),Zr,this.logger,this.performanceClient,t)({requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),n=await Ks(Vo,yi,this.logger,this.performanceClient,t)(),i=(0,Re.A)((0,Re.A)({},e),{},{earJwk:n});this.browserStorage.cacheAuthorizeRequest(i);return(await wc(document,this.config,r,i,this.logger,this.performanceClient)).submit(),new Promise((e,t)=>{setTimeout(()=>{t(Na(Pa,"failed_to_redirect"))},this.config.system.redirectNavigationTimeout)})}async executeCodeFlowWithPost(e){const t=e.correlationId,r=await Ks(this.getDiscoveredAuthority.bind(this),Zr,this.logger,this.performanceClient,t)({requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account});this.browserStorage.cacheAuthorizeRequest(e);return(await kc(document,this.config,r,e,this.logger,this.performanceClient)).submit(),new Promise((e,t)=>{setTimeout(()=>{t(Na(Pa,"failed_to_redirect"))},this.config.system.redirectNavigationTimeout)})}async handleRedirectPromise(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;const i=this.initializeServerTelemetryManager(Mi.sA.handleRedirectPromise);try{const[a,o]=this.getRedirectResponse(e||"");if(!a)return this.logger.info("handleRedirectPromise did not detect a response as a result of a redirect. Cleaning temporary cache."),this.browserStorage.resetRequestCache(),"back_forward"!==function(){if("undefined"===typeof window||"undefined"===typeof window.performance||"function"!==typeof window.performance.getEntriesByType)return;const e=window.performance.getEntriesByType("navigation"),t=e.length?e[0]:void 0;return null===t||void 0===t?void 0:t.type}()?n.event.errorCode="no_server_response":this.logger.verbose("Back navigation event detected. Muting no_server_response error"),null;const s=this.browserStorage.getTemporaryCache(Mi._p.ORIGIN_URI,!0)||Le.YM.EMPTY_STRING,l=Cr(s);if(l===Cr(window.location.href)&&this.config.auth.navigateToLoginRequestUrl){this.logger.verbose("Current page is loginRequestUrl, handling response"),s.indexOf("#")>-1&&function(e){const t=e.split("#");t.shift(),window.location.hash=t.length>0?t.join("#"):""}(s);return await this.handleResponse(a,t,r,i)}if(!this.config.auth.navigateToLoginRequestUrl)return this.logger.verbose("NavigateToLoginRequestUrl set to false, handling response"),await this.handleResponse(a,t,r,i);if(!ns()||this.config.system.allowRedirectInIframe){this.browserStorage.setTemporaryCache(Mi._p.URL_HASH,o,!0);const e={apiId:Mi.sA.handleRedirectPromise,timeout:this.config.system.redirectNavigationTimeout,noHistory:!0};let n=!0;if(s&&"null"!==s)this.logger.verbose("Navigating to loginRequestUrl: ".concat(s)),n=await this.navigationClient.navigateInternal(s,e);else{const t=function(){const e=new Ar(window.location.href).getUrlComponents();return"".concat(e.Protocol,"//").concat(e.HostNameAndPort,"/")}();this.browserStorage.setTemporaryCache(Mi._p.ORIGIN_URI,t,!0),this.logger.warning("Unable to get valid login request url from cache, redirecting to home page"),n=await this.navigationClient.navigateInternal(t,e)}if(!n)return await this.handleResponse(a,t,r,i)}return null}catch(QU){throw QU instanceof qe.lR&&(QU.setCorrelationId(this.correlationId),i.cacheFailedRequest(QU)),QU}}getRedirectResponse(e){this.logger.verbose("getRedirectResponseHash called");let t=e;t||(t=this.config.auth.OIDCOptions.serverResponseType===Le.zL.QUERY?window.location.search:window.location.hash);let r=kr(t);if(r){try{ac(r,this.browserCrypto,Mi.X8.Redirect)}catch(QU){return QU instanceof qe.lR&&this.logger.error("Interaction type validation failed due to ".concat(QU.errorCode,": ").concat(QU.errorMessage)),[null,""]}return rs(window),this.logger.verbose("Hash contains known properties, returning response hash"),[r,t]}const n=this.browserStorage.getTemporaryCache(Mi._p.URL_HASH,!0);return this.browserStorage.removeItem(this.browserStorage.generateCacheKey(Mi._p.URL_HASH)),n&&(r=kr(n),r)?(this.logger.verbose("Hash does not contain known properties, returning cached hash"),[r,n]):[null,""]}async handleResponse(e,t,r,n){if(!e.state)throw Na(zi);if(e.ear_jwe){const r=await Ks(this.getDiscoveredAuthority.bind(this),Zr,this.logger,this.performanceClient,t.correlationId)({requestAuthority:t.authority,requestAzureCloudOptions:t.azureCloudOptions,requestExtraQueryParameters:t.extraQueryParameters,account:t.account});return Ks(Tc,Pn,this.logger,this.performanceClient,t.correlationId)(t,e,Mi.sA.acquireTokenRedirect,this.config,r,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}const i=await Ks(this.createAuthCodeClient.bind(this),kn,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:n,requestAuthority:t.authority});return Ks(Ac,jn,this.logger,this.performanceClient,t.correlationId)(t,e,r,Mi.sA.acquireTokenRedirect,this.config,i,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}async initiateAuthRequest(e,t){if(this.logger.verbose("RedirectHandler.initiateAuthRequest called"),e){this.logger.infoPii("RedirectHandler.initiateAuthRequest: Navigate to: ".concat(e));const r={apiId:Mi.sA.acquireTokenRedirect,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},n=t||this.config.auth.onRedirectNavigate;if("function"===typeof n){this.logger.verbose("RedirectHandler.initiateAuthRequest: Invoking onRedirectNavigate callback");return!1!==n(e)?(this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate did not return false, navigating"),void await this.navigationClient.navigateExternal(e,r)):void this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate returned false, stopping navigation")}return this.logger.verbose("RedirectHandler.initiateAuthRequest: Navigating window to navigate url"),void await this.navigationClient.navigateExternal(e,r)}throw this.logger.info("RedirectHandler.initiateAuthRequest: Navigate url is empty"),Na(Ui)}async logout(e){this.logger.verbose("logoutRedirect called");const t=this.initializeLogoutRequest(e),r=this.initializeServerTelemetryManager(Mi.sA.logout);try{this.eventHandler.emitEvent(jl.B.LOGOUT_START,Mi.X8.Redirect,e),await this.clearCacheOnLogout(this.correlationId,t.account);const a={apiId:Mi.sA.logout,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},o=await Ks(this.createAuthCodeClient.bind(this),kn,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:r,requestAuthority:e&&e.authority,requestExtraQueryParameters:null===e||void 0===e?void 0:e.extraQueryParameters,account:e&&e.account||void 0});if(o.authority.protocolMode===Be)try{o.authority.endSessionEndpoint}catch(i){var n;if(null!==(n=t.account)&&void 0!==n&&n.homeAccountId)return void this.eventHandler.emitEvent(jl.B.LOGOUT_SUCCESS,Mi.X8.Redirect,t)}const s=o.getLogoutUri(t);if(this.eventHandler.emitEvent(jl.B.LOGOUT_SUCCESS,Mi.X8.Redirect,t),!e||"function"!==typeof e.onRedirectNavigate)return this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0,Mi.O2.SIGNOUT),void await this.navigationClient.navigateExternal(s,a);if(!1!==e.onRedirectNavigate(s))return this.logger.verbose("Logout onRedirectNavigate did not return false, navigating"),this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0,Mi.O2.SIGNOUT),void await this.navigationClient.navigateExternal(s,a);this.browserStorage.setInteractionInProgress(!1),this.logger.verbose("Logout onRedirectNavigate returned false, stopping navigation")}catch(QU){throw QU instanceof qe.lR&&(QU.setCorrelationId(this.correlationId),r.cacheFailedRequest(QU)),this.eventHandler.emitEvent(jl.B.LOGOUT_FAILURE,Mi.X8.Redirect,null,QU),this.eventHandler.emitEvent(jl.B.LOGOUT_END,Mi.X8.Redirect),QU}this.eventHandler.emitEvent(jl.B.LOGOUT_END,Mi.X8.Redirect)}getRedirectStartPage(e){const t=e||window.location.href;return Ar.getAbsoluteUrl(t,is())}}async function Bc(e,t,r,n,i){if(t.addQueueMeasurement(bn,n),!e)throw r.info("Navigate url is empty"),Na(Ui);return i?Ks(Fc,xn,r,t,n)(e,i,t,n):zs(Hc,wn,r,t,n)(e)}async function zc(e,t,r,n,i){const a=Wc();if(!a.contentDocument)throw"No document associated with iframe!";return(await kc(a.contentDocument,e,t,r,n,i)).submit(),a}async function Kc(e,t,r,n,i){const a=Wc();if(!a.contentDocument)throw"No document associated with iframe!";return(await wc(a.contentDocument,e,t,r,n,i)).submit(),a}async function qc(e,t,r,n,i,a,o){return n.addQueueMeasurement(_n,a),new Promise((n,a)=>{t<ds&&i.warning("system.loadFrameTimeout or system.iframeHashTimeout set to lower (".concat(t,"ms) than the default (").concat(ds,"ms). This may result in timeouts."));const s=window.setTimeout(()=>{window.clearInterval(l),a(Na(Qi))},t),l=window.setInterval(()=>{let t="";const r=e.contentWindow;try{t=r?r.location.href:""}catch(QU){}if(!t||"about:blank"===t)return;let i="";r&&(i=o===Le.zL.QUERY?r.location.search:r.location.hash),window.clearTimeout(s),window.clearInterval(l),n(i)},r)}).finally(()=>{zs(Vc,ti,i,n,a)(e)})}function Fc(e,t,r,n){return r.addQueueMeasurement(xn,n),new Promise((r,n)=>{const i=Wc();window.setTimeout(()=>{i?(i.src=e,r(i)):n("Unable to load iframe")},t)})}function Hc(e){const t=Wc();return t.src=e,t}function Wc(){const e=document.createElement("iframe");return e.className="msalSilentIframe",e.style.visibility="hidden",e.style.position="absolute",e.style.width=e.style.height="0",e.style.border="0",e.setAttribute("sandbox","allow-scripts allow-same-origin allow-forms"),document.body.appendChild(e),e}function Vc(e){document.body===e.parentNode&&document.body.removeChild(e)}class Gc extends nc{constructor(e,t,r,n,i,a,o,s,l,c,u){super(e,t,r,n,i,a,s,c,u),this.apiId=o,this.nativeStorage=l}async acquireToken(e){this.performanceClient.addQueueMeasurement(Qr,e.correlationId),e.loginHint||e.sid||e.account&&e.account.username||this.logger.warning("No user hint provided. The authorization server may need more information to complete this request.");const t=(0,Re.A)({},e);t.prompt?t.prompt!==Le._M.NONE&&t.prompt!==Le._M.NO_SESSION&&(this.logger.warning("SilentIframeClient. Replacing invalid prompt ".concat(t.prompt," with ").concat(Le._M.NONE)),t.prompt=Le._M.NONE):t.prompt=Le._M.NONE;const r=await Ks(this.initializeAuthorizationRequest.bind(this),Cn,this.logger,this.performanceClient,e.correlationId)(t,Mi.X8.Silent);return r.platformBroker=Dc(this.config,this.logger,this.platformAuthProvider,r.authenticationScheme),us(r.authority),this.config.auth.protocolMode===ze?this.executeEarFlow(r):this.executeCodeFlow(r)}async executeCodeFlow(e){let t;const r=this.initializeServerTelemetryManager(this.apiId);try{return t=await Ks(this.createAuthCodeClient.bind(this),kn,this.logger,this.performanceClient,e.correlationId)({serverTelemetryManager:r,requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),await Ks(this.silentTokenHelper.bind(this),yn,this.logger,this.performanceClient,e.correlationId)(t,e)}catch(QU){if(QU instanceof qe.lR&&(QU.setCorrelationId(this.correlationId),r.cacheFailedRequest(QU)),!t||!(QU instanceof qe.lR)||QU.errorCode!==Mi.Q1.INVALID_GRANT_ERROR)throw QU;return this.performanceClient.addFields({retryError:QU.errorCode},this.correlationId),await Ks(this.silentTokenHelper.bind(this),yn,this.logger,this.performanceClient,this.correlationId)(t,e)}}async executeEarFlow(e){const t=e.correlationId,r=await Ks(this.getDiscoveredAuthority.bind(this),Zr,this.logger,this.performanceClient,t)({requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),n=await Ks(Vo,yi,this.logger,this.performanceClient,t)(),i=(0,Re.A)((0,Re.A)({},e),{},{earJwk:n}),a=await Ks(Kc,bn,this.logger,this.performanceClient,t)(this.config,r,i,this.logger,this.performanceClient),o=this.config.auth.OIDCOptions.serverResponseType,s=await Ks(qc,_n,this.logger,this.performanceClient,t)(a,this.config.system.iframeHashTimeout,this.config.system.pollIntervalMilliseconds,this.performanceClient,this.logger,t,o),l=zs(ic,zn,this.logger,this.performanceClient,t)(s,o,this.logger);return Ks(Tc,Pn,this.logger,this.performanceClient,t)(i,l,this.apiId,this.config,r,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}logout(){return Promise.reject(Na(ea))}async silentTokenHelper(e,t){const r=t.correlationId;this.performanceClient.addQueueMeasurement(yn,r);const n=await Ks(Sc,si,this.logger,this.performanceClient,r)(this.performanceClient,this.logger,r),i=(0,Re.A)((0,Re.A)({},t),{},{codeChallenge:n.challenge});let a;if(t.httpMethod===Le.ym.POST)a=await Ks(zc,bn,this.logger,this.performanceClient,r)(this.config,e.authority,i,this.logger,this.performanceClient);else{const t=await Ks(xc,An,this.logger,this.performanceClient,r)(this.config,e.authority,i,this.logger,this.performanceClient);a=await Ks(Bc,bn,this.logger,this.performanceClient,r)(t,this.performanceClient,this.logger,r,this.config.system.navigateFrameWait)}const o=this.config.auth.OIDCOptions.serverResponseType,s=await Ks(qc,_n,this.logger,this.performanceClient,r)(a,this.config.system.iframeHashTimeout,this.config.system.pollIntervalMilliseconds,this.performanceClient,this.logger,r,o),l=zs(ic,zn,this.logger,this.performanceClient,r)(s,o,this.logger);return Ks(Ac,jn,this.logger,this.performanceClient,r)(t,l,n.verifier,this.apiId,this.config,e,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}}class Yc extends ql{constructor(e,t){super(e,t)}async acquireToken(e){var t,r;null===(t=this.performanceClient)||void 0===t||t.addQueueMeasurement(on,e.correlationId);const n=Fs(),i=await Ks(this.executeTokenRequest.bind(this),an,this.logger,this.performanceClient,e.correlationId)(e,this.authority),a=null===(r=i.headers)||void 0===r?void 0:r[Le.OK.X_MS_REQUEST_ID],o=new Gl(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return o.validateTokenResponse(i.body),Ks(o.handleServerTokenResponse.bind(o),Bn,this.logger,this.performanceClient,e.correlationId)(i.body,this.authority,n,e,void 0,void 0,!0,e.forceCache,a)}async acquireTokenByRefreshToken(e){var t;if(!e)throw ur(Vt);if(null===(t=this.performanceClient)||void 0===t||t.addQueueMeasurement(ln,e.correlationId),!e.account)throw Rt(ft);if(this.cacheManager.isAppMetadataFOCI(e.account.environment))try{return await Ks(this.acquireTokenWithCachedRefreshToken.bind(this),sn,this.logger,this.performanceClient,e.correlationId)(e,!0)}catch(QU){const r=QU instanceof pl&&QU.errorCode===ol,n=QU instanceof zl&&QU.errorCode===Le.I.INVALID_GRANT_ERROR&&QU.subError===Le.I.CLIENT_MISMATCH_ERROR;if(r||n)return Ks(this.acquireTokenWithCachedRefreshToken.bind(this),sn,this.logger,this.performanceClient,e.correlationId)(e,!1);throw QU}return Ks(this.acquireTokenWithCachedRefreshToken.bind(this),sn,this.logger,this.performanceClient,e.correlationId)(e,!1)}async acquireTokenWithCachedRefreshToken(e,t){var r;null===(r=this.performanceClient)||void 0===r||r.addQueueMeasurement(sn,e.correlationId);const n=zs(this.cacheManager.getRefreshToken.bind(this.cacheManager),ni,this.logger,this.performanceClient,e.correlationId)(e.account,t,e.correlationId,void 0,this.performanceClient);if(!n)throw ml(ol);var i;if(n.expiresOn&&Vs(n.expiresOn,e.refreshTokenExpirationOffsetSeconds||300))throw null===(i=this.performanceClient)||void 0===i||i.addFields({rtExpiresOnMs:Number(n.expiresOn)},e.correlationId),ml(ll);const a=(0,Re.A)((0,Re.A)({},e),{},{refreshToken:n.secret,authenticationScheme:e.authenticationScheme||Le.IO.BEARER,ccsCredential:{credential:e.account.homeAccountId,type:Ll}});try{return await Ks(this.acquireToken.bind(this),on,this.logger,this.performanceClient,e.correlationId)(a)}catch(QU){var o;if(QU instanceof pl)if(null===(o=this.performanceClient)||void 0===o||o.addFields({rtExpiresOnMs:Number(n.expiresOn)},e.correlationId),QU.subError===ul){this.logger.verbose("acquireTokenWithRefreshToken: bad refresh token, removing from cache");const t=this.cacheManager.generateCredentialKey(n);this.cacheManager.removeRefreshToken(t,e.correlationId)}throw QU}}async executeTokenRequest(e,t){var r;null===(r=this.performanceClient)||void 0===r||r.addQueueMeasurement(an,e.correlationId);const n=this.createTokenQueryParameters(e),i=Ar.appendQueryString(t.tokenEndpoint,n),a=await Ks(this.createTokenRequestBody.bind(this),cn,this.logger,this.performanceClient,e.correlationId)(e),o=this.createTokenRequestHeaders(e.ccsCredential),s=xl(this.config.authOptions.clientId,e);return Ks(this.executePostToTokenEndpoint.bind(this),rn,this.logger,this.performanceClient,e.correlationId)(i,a,o,s,e.correlationId,rn)}async createTokenRequestBody(e){var t,r,n;null===(t=this.performanceClient)||void 0===t||t.addQueueMeasurement(cn,e.correlationId);const i=new Map;if(Za(i,e.embeddedClientId||(null===(r=e.tokenBodyParameters)||void 0===r?void 0:r[Ka])||this.config.authOptions.clientId),e.redirectUri&&eo(i,e.redirectUri),$a(i,e.scopes,!0,null===(n=this.config.authOptions.authority.options.OIDCOptions)||void 0===n?void 0:n.defaultScopes),go(i,Le.$x.REFRESH_TOKEN_GRANT),mo(i),so(i,this.config.libraryInfo),lo(i,this.config.telemetry.application),ko(i),this.serverTelemetryManager&&!Ii(this.config)&&wo(i,this.serverTelemetryManager),function(e,t){e.set("refresh_token",t)}(i,e.refreshToken),this.config.clientCredentials.clientSecret&&ho(i,this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){const t=this.config.clientCredentials.clientAssertion;fo(i,await Ql(t.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),po(i,t.assertionType)}if(e.authenticationScheme===Le.IO.POP){const t=new Wl(this.cryptoUtils,this.performanceClient);let r;if(e.popKid)r=this.cryptoUtils.encodeKid(e.popKid);else{r=(await Ks(t.generateCnf.bind(t),Ln,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString}_o(i,r)}else if(e.authenticationScheme===Le.IO.SSH){if(!e.sshJwk)throw ur(Zt);xo(i,e.sshJwk)}if((!dr.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&ao(i,e.claims,this.config.authOptions.clientCapabilities),this.config.systemOptions.preventCorsPreflight&&e.ccsCredential)switch(e.ccsCredential.type){case Ll:try{no(i,yl(e.ccsCredential.credential))}catch(QU){this.logger.verbose("Could not parse home account ID for CCS Header: "+QU)}break;case Ul:ro(i,e.ccsCredential.credential)}return e.embeddedClientId&&Eo(i,this.config.authOptions.clientId,this.config.authOptions.redirectUri),e.tokenBodyParameters&&yo(i,e.tokenBodyParameters),Ja(i,e.correlationId,this.performanceClient),Er(i)}}class Qc extends nc{async acquireToken(e){this.performanceClient.addQueueMeasurement(Xr,e.correlationId);const t=await Ks(ec,pn,this.logger,this.performanceClient,e.correlationId)(e,this.config,this.performanceClient,this.logger),r=(0,Re.A)((0,Re.A)({},e),t);e.redirectUri&&(r.redirectUri=this.getRedirectUri(e.redirectUri));const n=this.initializeServerTelemetryManager(Mi.sA.acquireTokenSilent_silentFlow),i=await this.createRefreshTokenClient({serverTelemetryManager:n,authorityUrl:r.authority,azureCloudOptions:r.azureCloudOptions,account:r.account});return Ks(i.acquireTokenByRefreshToken.bind(i),ln,this.logger,this.performanceClient,e.correlationId)(r).catch(e=>{throw e.setCorrelationId(this.correlationId),n.cacheFailedRequest(e),e})}logout(){return Promise.reject(Na(ea))}async createRefreshTokenClient(e){const t=await Ks(this.getClientConfiguration.bind(this),En,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:e.serverTelemetryManager,requestAuthority:e.authorityUrl,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account});return new Yc(t,this.performanceClient)}}class Jc{constructor(e,t,r,n){this.isBrowserEnvironment="undefined"!==typeof window,this.config=e,this.storage=t,this.logger=r,this.cryptoObj=n}async loadExternalTokens(e,t,r){if(!this.isBrowserEnvironment)throw Na(sa);const n=e.correlationId||Ho(),i=t.id_token?br(t.id_token,Oo):void 0,a={protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},o=e.authority?new il(il.generateAuthority(e.authority,e.azureCloudOptions),this.config.system.networkClient,this.storage,a,this.logger,e.correlationId||Ho()):void 0,s=await this.loadAccount(e,r.clientInfo||t.client_info||"",n,i,o),l=await this.loadIdToken(t,s.homeAccountId,s.environment,s.realm,n),c=await this.loadAccessToken(e,t,s.homeAccountId,s.environment,s.realm,r,n),u=await this.loadRefreshToken(t,s.homeAccountId,s.environment,n);return this.generateAuthenticationResult(e,{account:s,idToken:l,accessToken:c,refreshToken:u},i,o)}async loadAccount(e,t,r,n,i){if(this.logger.verbose("TokenCache - loading account"),e.account){const t=_l.createFromAccountInfo(e.account);return await this.storage.setAccount(t,r),t}if(!i||!t&&!n)throw this.logger.error("TokenCache - if an account is not provided on the request, authority and either clientInfo or idToken must be provided instead."),Na(fa);const a=_l.generateHomeAccountId(t,i.authorityType,this.logger,this.cryptoObj,n),o=null===n||void 0===n?void 0:n.tid,s=Yl(this.storage,i,a,Oo,r,n,t,i.hostnameAndPort,o,void 0,void 0,this.logger);return await this.storage.setAccount(s,r),s}async loadIdToken(e,t,r,n,i){if(!e.id_token)return this.logger.verbose("TokenCache - no id token found in response"),null;this.logger.verbose("TokenCache - loading id token");const a=Ys(t,r,e.id_token,this.config.auth.clientId,n);return await this.storage.setIdTokenCredential(a,i),a}async loadAccessToken(e,t,r,n,i,a,o){if(!t.access_token)return this.logger.verbose("TokenCache - no access token found in response"),null;if(!t.expires_in)return this.logger.error("TokenCache - no expiration set on the access token. Cannot add it to the cache."),null;if(!t.scope&&(!e.scopes||!e.scopes.length))return this.logger.error("TokenCache - scopes not specified in the request or response. Cannot add token to the cache."),null;this.logger.verbose("TokenCache - loading access token");const s=t.scope?hr.fromString(t.scope):new hr(e.scopes),l=a.expiresOn||t.expires_in+Fs(),c=a.extendedExpiresOn||(t.ext_expires_in||t.expires_in)+Fs(),u=Qs(r,n,t.access_token,this.config.auth.clientId,i,s.printScopes(),l,c,Oo);return await this.storage.setAccessTokenCredential(u,o),u}async loadRefreshToken(e,t,r,n){if(!e.refresh_token)return this.logger.verbose("TokenCache - no refresh token found in response"),null;this.logger.verbose("TokenCache - loading refresh token");const i=Js(t,r,e.refresh_token,this.config.auth.clientId,e.foci,void 0,e.refresh_token_expires_in);return await this.storage.setRefreshTokenCredential(i,n),i}generateAuthenticationResult(e,t,r,n){var i,a,o;let s,l="",c=[],u=null;null!==t&&void 0!==t&&t.accessToken&&(l=t.accessToken.secret,c=hr.fromString(t.accessToken.target).asArray(),u=Ws(t.accessToken.expiresOn),s=Ws(t.accessToken.extendedExpiresOn));const d=t.account;return{authority:n?n.canonicalAuthority:"",uniqueId:t.account.localAccountId,tenantId:t.account.realm,scopes:c,account:d.getAccountInfo(),idToken:(null===(i=t.idToken)||void 0===i?void 0:i.secret)||"",idTokenClaims:r||{},accessToken:l,fromCache:!0,expiresOn:u,correlationId:e.correlationId||"",requestId:"",extExpiresOn:s,familyId:(null===(a=t.refreshToken)||void 0===a?void 0:a.familyId)||"",tokenType:(null===t||void 0===t||null===(o=t.accessToken)||void 0===o?void 0:o.tokenType)||"",state:e.state||"",cloudGraphHostName:d.cloudGraphHostName||"",msGraphHost:d.msGraphHost||"",fromNativeBroker:!1}}}class Xc extends Jl{constructor(e){super(e),this.includeRedirectUri=!1}}class $c extends nc{constructor(e,t,r,n,i,a,o,s,l,c){super(e,t,r,n,i,a,s,l,c),this.apiId=o}async acquireToken(e){if(!e.code)throw Na(ga);const t=await Ks(this.initializeAuthorizationRequest.bind(this),Cn,this.logger,this.performanceClient,e.correlationId)(e,Mi.X8.Silent),r=this.initializeServerTelemetryManager(this.apiId);try{const n=(0,Re.A)((0,Re.A)({},t),{},{code:e.code}),i=await Ks(this.getClientConfiguration.bind(this),En,this.logger,this.performanceClient,e.correlationId)({serverTelemetryManager:r,requestAuthority:t.authority,requestAzureCloudOptions:t.azureCloudOptions,requestExtraQueryParameters:t.extraQueryParameters,account:t.account}),a=new Xc(i);this.logger.verbose("Auth code client created");const o=new cc(a,this.browserStorage,n,this.logger,this.performanceClient);return await Ks(o.handleCodeResponseFromServer.bind(o),Sn,this.logger,this.performanceClient,e.correlationId)({code:e.code,msgraph_host:e.msGraphHost,cloud_graph_host_name:e.cloudGraphHostName,cloud_instance_host_name:e.cloudInstanceHostName},t,!1)}catch(QU){throw QU instanceof qe.lR&&(QU.setCorrelationId(this.correlationId),r.cacheFailedRequest(QU)),QU}}logout(){return Promise.reject(Na(ea))}}function Zc(e){const t=null===e||void 0===e?void 0:e.idTokenClaims;return null!==t&&void 0!==t&&t.tfp||null!==t&&void 0!==t&&t.acr?"B2C":null!==t&&void 0!==t&&t.tid?"9188040d-6c67-4c5b-b112-36a304b66dad"===(null===t||void 0===t?void 0:t.tid)?"MSA":"AAD":void 0}function eu(e,t){try{ls(e)}catch(QU){throw t.end({success:!1},QU),QU}}class tu{constructor(e){this.operatingContext=e,this.isBrowserEnvironment=this.operatingContext.isBrowserEnvironment(),this.config=e.getConfig(),this.initialized=!1,this.logger=this.operatingContext.getLogger(),this.networkClient=this.config.system.networkClient,this.navigationClient=this.config.system.navigationClient,this.redirectResponse=new Map,this.hybridAuthCodeResponses=new Map,this.performanceClient=this.config.telemetry.client,this.browserCrypto=this.isBrowserEnvironment?new Ns(this.logger,this.performanceClient):Dt,this.eventHandler=new Dl(this.logger),this.browserStorage=this.isBrowserEnvironment?new Nl(this.config.auth.clientId,this.config.cache,this.browserCrypto,this.logger,this.performanceClient,this.eventHandler,function(e){const t=e.cloudDiscoveryMetadata;let r;if(t)try{r=JSON.parse(t)}catch(QU){throw ur(Jt)}return{canonicalAuthority:e.authority?al(e.authority):void 0,knownAuthorities:e.knownAuthorities,cloudDiscoveryMetadata:r}}(this.config.auth)):((e,t,r,n)=>{const i={cacheLocation:Mi.Al.MemoryStorage,cacheRetentionDays:5,temporaryCacheLocation:Mi.Al.MemoryStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!1};return new Nl(e,i,Dt,t,r,n)})(this.config.auth.clientId,this.logger,this.performanceClient,this.eventHandler);const t={cacheLocation:Mi.Al.MemoryStorage,cacheRetentionDays:5,temporaryCacheLocation:Mi.Al.MemoryStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!1};this.nativeInternalStorage=new Nl(this.config.auth.clientId,t,this.browserCrypto,this.logger,this.performanceClient,this.eventHandler),this.tokenCache=new Jc(this.config,this.browserStorage,this.logger,this.browserCrypto),this.activeSilentTokenRequests=new Map,this.trackPageVisibility=this.trackPageVisibility.bind(this),this.trackPageVisibilityWithMeasurement=this.trackPageVisibilityWithMeasurement.bind(this)}static async createController(e,t){const r=new tu(e);return await r.initialize(t),r}trackPageVisibility(e){e&&(this.logger.info("Perf: Visibility change detected"),this.performanceClient.incrementFields({visibilityChangeCount:1},e))}async initialize(e,t){if(this.logger.trace("initialize called"),this.initialized)return void this.logger.info("initialize has already been called, exiting early.");if(!this.isBrowserEnvironment)return this.logger.info("in non-browser environment, exiting early."),this.initialized=!0,void this.eventHandler.emitEvent(jl.B.INITIALIZE_END);const r=(null===e||void 0===e?void 0:e.correlationId)||this.getRequestCorrelationId(),n=this.config.system.allowPlatformBroker,i=this.performanceClient.startMeasurement(mn,r);if(this.eventHandler.emitEvent(jl.B.INITIALIZE_START),!t)try{this.logMultipleInstances(i)}catch(a){}if(await Ks(this.browserStorage.initialize.bind(this.browserStorage),vn,this.logger,this.performanceClient,r)(r),n)try{this.platformAuthProvider=await Rc(this.logger,this.performanceClient,r,this.config.system.nativeBrokerHandshakeTimeout)}catch(QU){this.logger.verbose(QU)}this.config.cache.claimsBasedCachingEnabled||(this.logger.verbose("Claims-based caching is disabled. Clearing the previous cache with claims"),zs(this.browserStorage.clearTokensAndKeysWithClaims.bind(this.browserStorage),ri,this.logger,this.performanceClient,r)(r)),this.config.system.asyncPopups&&await this.preGeneratePkceCodes(r),this.initialized=!0,this.eventHandler.emitEvent(jl.B.INITIALIZE_END),i.end({allowPlatformBroker:n,success:!0})}async handleRedirectPromise(e){if(this.logger.verbose("handleRedirectPromise called"),ss(this.initialized),this.isBrowserEnvironment){const t=e||"";let r=this.redirectResponse.get(t);return"undefined"===typeof r?(r=this.handleRedirectPromiseInternal(e),this.redirectResponse.set(t,r),this.logger.verbose("handleRedirectPromise has been called for the first time, storing the promise")):this.logger.verbose("handleRedirectPromise has been called previously, returning the result from the first call"),r}return this.logger.verbose("handleRedirectPromise returns null, not browser environment"),null}async handleRedirectPromiseInternal(e){var t;if(!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),null;if((null===(t=this.browserStorage.getInteractionInProgress())||void 0===t?void 0:t.type)===Mi.O2.SIGNOUT)return this.logger.verbose("handleRedirectPromise removing interaction_in_progress flag and returning null after sign-out"),this.browserStorage.setInteractionInProgress(!1),Promise.resolve(null);const r=this.getAllAccounts(),n=this.browserStorage.getCachedNativeRequest(),i=n&&this.platformAuthProvider&&!e;let a,o;this.eventHandler.emitEvent(jl.B.HANDLE_REDIRECT_START,Mi.X8.Redirect);try{if(i&&this.platformAuthProvider){a=this.performanceClient.startMeasurement(Wr,(null===n||void 0===n?void 0:n.correlationId)||""),this.logger.trace("handleRedirectPromise - acquiring token from native platform"),a.add({isPlatformBrokerRequest:!0});const e=new bc(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Mi.sA.handleRedirectPromise,this.performanceClient,this.platformAuthProvider,n.accountId,this.nativeInternalStorage,n.correlationId);o=Ks(e.handleRedirectPromise.bind(e),Zn,this.logger,this.performanceClient,a.event.correlationId)(this.performanceClient,a.event.correlationId)}else{const[t,r]=this.browserStorage.getCachedRequest(),n=t.correlationId;a=this.performanceClient.startMeasurement(Wr,n),this.logger.trace("handleRedirectPromise - acquiring token from web flow");const i=this.createRedirectClient(n);o=Ks(i.handleRedirectPromise.bind(i),$n,this.logger,this.performanceClient,a.event.correlationId)(e,t,r,a)}}catch(QU){throw this.browserStorage.resetRequestCache(),QU}return o.then(e=>{if(e){this.browserStorage.resetRequestCache();r.length<this.getAllAccounts().length?(this.eventHandler.emitEvent(jl.B.LOGIN_SUCCESS,Mi.X8.Redirect,e),this.logger.verbose("handleRedirectResponse returned result, login success")):(this.eventHandler.emitEvent(jl.B.ACQUIRE_TOKEN_SUCCESS,Mi.X8.Redirect,e),this.logger.verbose("handleRedirectResponse returned result, acquire token success")),a.end({success:!0,accountType:Zc(e.account)})}else a.event.errorCode?a.end({success:!1}):a.discard();return this.eventHandler.emitEvent(jl.B.HANDLE_REDIRECT_END,Mi.X8.Redirect),e}).catch(e=>{this.browserStorage.resetRequestCache();const t=e;throw r.length>0?this.eventHandler.emitEvent(jl.B.ACQUIRE_TOKEN_FAILURE,Mi.X8.Redirect,null,t):this.eventHandler.emitEvent(jl.B.LOGIN_FAILURE,Mi.X8.Redirect,null,t),this.eventHandler.emitEvent(jl.B.HANDLE_REDIRECT_END,Mi.X8.Redirect),a.end({success:!1},t),e})}async acquireTokenRedirect(e){const t=this.getRequestCorrelationId(e);this.logger.verbose("acquireTokenRedirect called",t);const r=this.performanceClient.startMeasurement(Hr,t);r.add({accountType:Zc(e.account),scenarioId:e.scenarioId});const n=e.onRedirectNavigate;if(n)e.onRedirectNavigate=e=>{const t="function"===typeof n?n(e):void 0;return r.add({navigateCallbackResult:!1!==t}),r.event=r.end({success:!0})||r.event,t};else{const e=this.config.auth.onRedirectNavigate;this.config.auth.onRedirectNavigate=t=>{const n="function"===typeof e?e(t):void 0;return r.add({navigateCallbackResult:!1!==n}),r.event=r.end({success:!0})||r.event,n}}const i=this.getAllAccounts().length>0;try{let n;if(cs(this.initialized,this.config),this.browserStorage.setInteractionInProgress(!0,Mi.O2.SIGNIN),i?this.eventHandler.emitEvent(jl.B.ACQUIRE_TOKEN_START,Mi.X8.Redirect,e):this.eventHandler.emitEvent(jl.B.LOGIN_START,Mi.X8.Redirect,e),this.platformAuthProvider&&this.canUsePlatformBroker(e)){n=new bc(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Mi.sA.acquireTokenRedirect,this.performanceClient,this.platformAuthProvider,this.getNativeAccountId(e),this.nativeInternalStorage,t).acquireTokenRedirect(e,r).catch(n=>{if(r.add({brokerErrorName:n.name,brokerErrorCode:n.errorCode}),n instanceof hc&&fc(n)){this.platformAuthProvider=void 0;return this.createRedirectClient(t).acquireToken(e)}if(n instanceof pl){this.logger.verbose("acquireTokenRedirect - Resolving interaction required error thrown by native broker by falling back to web flow");return this.createRedirectClient(t).acquireToken(e)}throw n})}else{n=this.createRedirectClient(t).acquireToken(e)}return await n}catch(QU){throw this.browserStorage.resetRequestCache(),2===r.event.status?this.performanceClient.startMeasurement(Wr,t).end({success:!1},QU):r.end({success:!1},QU),i?this.eventHandler.emitEvent(jl.B.ACQUIRE_TOKEN_FAILURE,Mi.X8.Redirect,null,QU):this.eventHandler.emitEvent(jl.B.LOGIN_FAILURE,Mi.X8.Redirect,null,QU),QU}}acquireTokenPopup(e){const t=this.getRequestCorrelationId(e),r=this.performanceClient.startMeasurement(Fr,t);r.add({scenarioId:e.scenarioId,accountType:Zc(e.account)});try{this.logger.verbose("acquireTokenPopup called",t),eu(this.initialized,r),this.browserStorage.setInteractionInProgress(!0,Mi.O2.SIGNIN)}catch(QU){return Promise.reject(QU)}const n=this.getAllAccounts();let i;n.length>0?this.eventHandler.emitEvent(jl.B.ACQUIRE_TOKEN_START,Mi.X8.Popup,e):this.eventHandler.emitEvent(jl.B.LOGIN_START,Mi.X8.Popup,e);const a=this.getPreGeneratedPkceCodes(t);if(this.canUsePlatformBroker(e))r.add({isPlatformBrokerRequest:!0}),i=this.acquireTokenNative((0,Re.A)((0,Re.A)({},e),{},{correlationId:t}),Mi.sA.acquireTokenPopup).then(e=>(r.end({success:!0,accountType:Zc(e.account)}),e)).catch(n=>{if(r.add({brokerErrorName:n.name,brokerErrorCode:n.errorCode}),n instanceof hc&&fc(n)){this.platformAuthProvider=void 0;return this.createPopupClient(t).acquireToken(e,a)}if(n instanceof pl){this.logger.verbose("acquireTokenPopup - Resolving interaction required error thrown by native broker by falling back to web flow");return this.createPopupClient(t).acquireToken(e,a)}throw n});else{i=this.createPopupClient(t).acquireToken(e,a)}return i.then(e=>(n.length<this.getAllAccounts().length?this.eventHandler.emitEvent(jl.B.LOGIN_SUCCESS,Mi.X8.Popup,e):this.eventHandler.emitEvent(jl.B.ACQUIRE_TOKEN_SUCCESS,Mi.X8.Popup,e),r.end({success:!0,accessTokenSize:e.accessToken.length,idTokenSize:e.idToken.length,accountType:Zc(e.account)}),e)).catch(e=>(n.length>0?this.eventHandler.emitEvent(jl.B.ACQUIRE_TOKEN_FAILURE,Mi.X8.Popup,null,e):this.eventHandler.emitEvent(jl.B.LOGIN_FAILURE,Mi.X8.Popup,null,e),r.end({success:!1},e),Promise.reject(e))).finally(async()=>{this.browserStorage.setInteractionInProgress(!1),this.config.system.asyncPopups&&await this.preGeneratePkceCodes(t)})}trackPageVisibilityWithMeasurement(){const e=this.ssoSilentMeasurement||this.acquireTokenByCodeAsyncMeasurement;e&&(this.logger.info("Perf: Visibility change detected in ",e.event.name),e.increment({visibilityChangeCount:1}))}async ssoSilent(e){var t,r;const n=this.getRequestCorrelationId(e),i=(0,Re.A)((0,Re.A)({},e),{},{prompt:e.prompt,correlationId:n});let a;if(this.ssoSilentMeasurement=this.performanceClient.startMeasurement($r,n),null===(t=this.ssoSilentMeasurement)||void 0===t||t.add({scenarioId:e.scenarioId,accountType:Zc(e.account)}),eu(this.initialized,this.ssoSilentMeasurement),null===(r=this.ssoSilentMeasurement)||void 0===r||r.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement),this.logger.verbose("ssoSilent called",n),this.eventHandler.emitEvent(jl.B.SSO_SILENT_START,Mi.X8.Silent,i),this.canUsePlatformBroker(i)){var o;null===(o=this.ssoSilentMeasurement)||void 0===o||o.add({isPlatformBrokerRequest:!0}),a=this.acquireTokenNative(i,Mi.sA.ssoSilent).catch(e=>{var t;if(null===(t=this.ssoSilentMeasurement)||void 0===t||t.add({brokerErrorName:e.name,brokerErrorCode:e.errorCode}),e instanceof hc&&fc(e)){this.platformAuthProvider=void 0;return this.createSilentIframeClient(i.correlationId).acquireToken(i)}throw e})}else{a=this.createSilentIframeClient(i.correlationId).acquireToken(i)}return a.then(e=>{var t;return this.eventHandler.emitEvent(jl.B.SSO_SILENT_SUCCESS,Mi.X8.Silent,e),null===(t=this.ssoSilentMeasurement)||void 0===t||t.end({success:!0,accessTokenSize:e.accessToken.length,idTokenSize:e.idToken.length,accountType:Zc(e.account)}),e}).catch(e=>{var t;throw this.eventHandler.emitEvent(jl.B.SSO_SILENT_FAILURE,Mi.X8.Silent,null,e),null===(t=this.ssoSilentMeasurement)||void 0===t||t.end({success:!1},e),e}).finally(()=>{document.removeEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement)})}async acquireTokenByCode(e){const t=this.getRequestCorrelationId(e);this.logger.trace("acquireTokenByCode called",t);const r=this.performanceClient.startMeasurement(Br,t);eu(this.initialized,r),this.eventHandler.emitEvent(jl.B.ACQUIRE_TOKEN_BY_CODE_START,Mi.X8.Silent,e),r.add({scenarioId:e.scenarioId});try{if(e.code&&e.nativeAccountId)throw Na(va);if(e.code){const n=e.code;let i=this.hybridAuthCodeResponses.get(n);return i?(this.logger.verbose("Existing acquireTokenByCode request found",t),r.discard()):(this.logger.verbose("Initiating new acquireTokenByCode request",t),i=this.acquireTokenByCodeAsync((0,Re.A)((0,Re.A)({},e),{},{correlationId:t})).then(e=>(this.eventHandler.emitEvent(jl.B.ACQUIRE_TOKEN_BY_CODE_SUCCESS,Mi.X8.Silent,e),this.hybridAuthCodeResponses.delete(n),r.end({success:!0,accessTokenSize:e.accessToken.length,idTokenSize:e.idToken.length,accountType:Zc(e.account)}),e)).catch(e=>{throw this.hybridAuthCodeResponses.delete(n),this.eventHandler.emitEvent(jl.B.ACQUIRE_TOKEN_BY_CODE_FAILURE,Mi.X8.Silent,null,e),r.end({success:!1},e),e}),this.hybridAuthCodeResponses.set(n,i)),await i}if(e.nativeAccountId){if(this.canUsePlatformBroker(e,e.nativeAccountId)){r.add({isPlatformBrokerRequest:!0});const n=await this.acquireTokenNative((0,Re.A)((0,Re.A)({},e),{},{correlationId:t}),Mi.sA.acquireTokenByCode,e.nativeAccountId).catch(e=>{throw e instanceof hc&&fc(e)&&(this.platformAuthProvider=void 0),r.add({brokerErrorName:e.name,brokerErrorCode:e.errorCode}),e});return r.end({accountType:Zc(n.account),success:!0}),n}throw Na(ba)}throw Na(ma)}catch(QU){throw this.eventHandler.emitEvent(jl.B.ACQUIRE_TOKEN_BY_CODE_FAILURE,Mi.X8.Silent,null,QU),r.end({success:!1},QU),QU}}async acquireTokenByCodeAsync(e){var t;this.logger.trace("acquireTokenByCodeAsync called",e.correlationId),this.acquireTokenByCodeAsyncMeasurement=this.performanceClient.startMeasurement(Xn,e.correlationId),null===(t=this.acquireTokenByCodeAsyncMeasurement)||void 0===t||t.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement);const r=this.createSilentAuthCodeClient(e.correlationId);return await r.acquireToken(e).then(e=>{var t;return null===(t=this.acquireTokenByCodeAsyncMeasurement)||void 0===t||t.end({success:!0,fromCache:e.fromCache}),e}).catch(e=>{var t;throw null===(t=this.acquireTokenByCodeAsyncMeasurement)||void 0===t||t.end({success:!1},e),e}).finally(()=>{document.removeEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement)})}async acquireTokenFromCache(e,t){switch(this.performanceClient.addQueueMeasurement(un,e.correlationId),t){case Mi.nN.Default:case Mi.nN.AccessToken:case Mi.nN.AccessTokenAndRefreshToken:const t=this.createSilentCacheClient(e.correlationId);return Ks(t.acquireToken.bind(t),Yr,this.logger,this.performanceClient,e.correlationId)(e);default:throw Rt(xt)}}async acquireTokenByRefreshToken(e,t){switch(this.performanceClient.addQueueMeasurement(zr,e.correlationId),t){case Mi.nN.Default:case Mi.nN.AccessTokenAndRefreshToken:case Mi.nN.RefreshToken:case Mi.nN.RefreshTokenAndNetwork:const t=this.createSilentRefreshClient(e.correlationId);return Ks(t.acquireToken.bind(t),Xr,this.logger,this.performanceClient,e.correlationId)(e);default:throw Rt(xt)}}async acquireTokenBySilentIframe(e){this.performanceClient.addQueueMeasurement(fn,e.correlationId);const t=this.createSilentIframeClient(e.correlationId);return Ks(t.acquireToken.bind(t),Qr,this.logger,this.performanceClient,e.correlationId)(e)}async logout(e){const t=this.getRequestCorrelationId(e);return this.logger.warning("logout API is deprecated and will be removed in msal-browser v3.0.0. Use logoutRedirect instead.",t),this.logoutRedirect((0,Re.A)({correlationId:t},e))}async logoutRedirect(e){const t=this.getRequestCorrelationId(e);cs(this.initialized,this.config),this.browserStorage.setInteractionInProgress(!0,Mi.O2.SIGNOUT);return this.createRedirectClient(t).logout(e)}logoutPopup(e){try{const t=this.getRequestCorrelationId(e);ls(this.initialized),this.browserStorage.setInteractionInProgress(!0,Mi.O2.SIGNOUT);return this.createPopupClient(t).logout(e).finally(()=>{this.browserStorage.setInteractionInProgress(!1)})}catch(QU){return Promise.reject(QU)}}async clearCache(e){if(!this.isBrowserEnvironment)return void this.logger.info("in non-browser environment, returning early.");const t=this.getRequestCorrelationId(e);return this.createSilentCacheClient(t).logout(e)}getAllAccounts(e){const t=this.getRequestCorrelationId();return function(e,t,r,n,i){return e.verbose("getAllAccounts called"),r?t.getAllAccounts(i||{},n):[]}(this.logger,this.browserStorage,this.isBrowserEnvironment,t,e)}getAccount(e){const t=this.getRequestCorrelationId();return function(e,t,r,n){const i=r.getAccountInfoFilteredBy(e,n);return i?(t.verbose("getAccount: Account matching provided filter found, returning"),i):(t.verbose("getAccount: No matching account found, returning null"),null)}(e,this.logger,this.browserStorage,t)}getAccountByUsername(e){const t=this.getRequestCorrelationId();return function(e,t,r,n){if(t.trace("getAccountByUsername called"),!e)return t.warning("getAccountByUsername: No username provided"),null;const i=r.getAccountInfoFilteredBy({username:e},n);return i?(t.verbose("getAccountByUsername: Account matching username found, returning"),t.verbosePii("getAccountByUsername: Returning signed-in accounts matching username: ".concat(e)),i):(t.verbose("getAccountByUsername: No matching account found, returning null"),null)}(e,this.logger,this.browserStorage,t)}getAccountByHomeId(e){const t=this.getRequestCorrelationId();return function(e,t,r,n){if(t.trace("getAccountByHomeId called"),!e)return t.warning("getAccountByHomeId: No homeAccountId provided"),null;const i=r.getAccountInfoFilteredBy({homeAccountId:e},n);return i?(t.verbose("getAccountByHomeId: Account matching homeAccountId found, returning"),t.verbosePii("getAccountByHomeId: Returning signed-in accounts matching homeAccountId: ".concat(e)),i):(t.verbose("getAccountByHomeId: No matching account found, returning null"),null)}(e,this.logger,this.browserStorage,t)}getAccountByLocalId(e){const t=this.getRequestCorrelationId();return function(e,t,r,n){if(t.trace("getAccountByLocalId called"),!e)return t.warning("getAccountByLocalId: No localAccountId provided"),null;const i=r.getAccountInfoFilteredBy({localAccountId:e},n);return i?(t.verbose("getAccountByLocalId: Account matching localAccountId found, returning"),t.verbosePii("getAccountByLocalId: Returning signed-in accounts matching localAccountId: ".concat(e)),i):(t.verbose("getAccountByLocalId: No matching account found, returning null"),null)}(e,this.logger,this.browserStorage,t)}setActiveAccount(e){const t=this.getRequestCorrelationId();!function(e,t,r){t.setActiveAccount(e,r)}(e,this.browserStorage,t)}getActiveAccount(){const e=this.getRequestCorrelationId();return function(e,t){return e.getActiveAccount(t)}(this.browserStorage,e)}async hydrateCache(e,t){this.logger.verbose("hydrateCache called");const r=_l.createFromAccountInfo(e.account,e.cloudGraphHostName,e.msGraphHost);return await this.browserStorage.setAccount(r,e.correlationId),e.fromNativeBroker?(this.logger.verbose("Response was from native broker, storing in-memory"),this.nativeInternalStorage.hydrateCache(e,t)):this.browserStorage.hydrateCache(e,t)}async acquireTokenNative(e,t,r,n){if(this.logger.trace("acquireTokenNative called"),!this.platformAuthProvider)throw Na(wa);return new bc(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,t,this.performanceClient,this.platformAuthProvider,r||this.getNativeAccountId(e),this.nativeInternalStorage,e.correlationId).acquireToken(e,n)}canUsePlatformBroker(e,t){if(this.logger.trace("canUsePlatformBroker called"),!this.platformAuthProvider)return this.logger.trace("canUsePlatformBroker: platform broker unavilable, returning false"),!1;if(!Dc(this.config,this.logger,this.platformAuthProvider,e.authenticationScheme))return this.logger.trace("canUsePlatformBroker: isBrokerAvailable returned false, returning false"),!1;if(e.prompt)switch(e.prompt){case Le._M.NONE:case Le._M.CONSENT:case Le._M.LOGIN:this.logger.trace("canUsePlatformBroker: prompt is compatible with platform broker flow");break;default:return this.logger.trace("canUsePlatformBroker: prompt = ".concat(e.prompt," is not compatible with platform broker flow, returning false")),!1}return!(!t&&!this.getNativeAccountId(e))||(this.logger.trace("canUsePlatformBroker: nativeAccountId is not available, returning false"),!1)}getNativeAccountId(e){const t=e.account||this.getAccount({loginHint:e.loginHint,sid:e.sid})||this.getActiveAccount();return t&&t.nativeAccountId||""}createPopupClient(e){return new Lc(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.platformAuthProvider,e)}createRedirectClient(e){return new Uc(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.platformAuthProvider,e)}createSilentIframeClient(e){return new Gc(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Mi.sA.ssoSilent,this.performanceClient,this.nativeInternalStorage,this.platformAuthProvider,e)}createSilentCacheClient(e){return new mc(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.platformAuthProvider,e)}createSilentRefreshClient(e){return new Qc(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.platformAuthProvider,e)}createSilentAuthCodeClient(e){return new $c(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Mi.sA.acquireTokenByCode,this.performanceClient,this.platformAuthProvider,e)}addEventCallback(e,t){return this.eventHandler.addEventCallback(e,t)}removeEventCallback(e){this.eventHandler.removeEventCallback(e)}addPerformanceCallback(e){return os(),this.performanceClient.addPerformanceCallback(e)}removePerformanceCallback(e){return this.performanceClient.removePerformanceCallback(e)}enableAccountStorageEvents(){this.config.cache.cacheLocation===Mi.Al.LocalStorage?this.eventHandler.subscribeCrossTab():this.logger.info("Account storage events are only available when cacheLocation is set to localStorage")}disableAccountStorageEvents(){this.config.cache.cacheLocation===Mi.Al.LocalStorage?this.eventHandler.unsubscribeCrossTab():this.logger.info("Account storage events are only available when cacheLocation is set to localStorage")}getTokenCache(){return this.tokenCache}getLogger(){return this.logger}setLogger(e){this.logger=e}initializeWrapperLibrary(e,t){this.browserStorage.setWrapperMetadata(e,t)}setNavigationClient(e){this.navigationClient=e}getConfiguration(){return this.config}getPerformanceClient(){return this.performanceClient}isBrowserEnv(){return this.isBrowserEnvironment}getRequestCorrelationId(e){return null!==e&&void 0!==e&&e.correlationId?e.correlationId:this.isBrowserEnvironment?Ho():Le.YM.EMPTY_STRING}async loginRedirect(e){const t=this.getRequestCorrelationId(e);return this.logger.verbose("loginRedirect called",t),this.acquireTokenRedirect((0,Re.A)({correlationId:t},e||Mi.uq))}loginPopup(e){const t=this.getRequestCorrelationId(e);return this.logger.verbose("loginPopup called",t),this.acquireTokenPopup((0,Re.A)({correlationId:t},e||Mi.uq))}async acquireTokenSilent(e){const t=this.getRequestCorrelationId(e),r=this.performanceClient.startMeasurement(Kr,t);r.add({cacheLookupPolicy:e.cacheLookupPolicy,scenarioId:e.scenarioId}),eu(this.initialized,r),this.logger.verbose("acquireTokenSilent called",t);const n=e.account||this.getActiveAccount();if(!n)throw Na(ta);return r.add({accountType:Zc(n)}),this.acquireTokenSilentDeduped(e,n,t).then(n=>(r.end({success:!0,fromCache:n.fromCache,accessTokenSize:n.accessToken.length,idTokenSize:n.idToken.length}),(0,Re.A)((0,Re.A)({},n),{},{state:e.state,correlationId:t}))).catch(e=>{throw e instanceof qe.lR&&e.setCorrelationId(t),r.end({success:!1},e),e})}async acquireTokenSilentDeduped(e,t,r){const n=xl(this.config.auth.clientId,(0,Re.A)((0,Re.A)({},e),{},{authority:e.authority||this.config.auth.authority,correlationId:r}),t.homeAccountId),i=JSON.stringify(n),a=this.activeSilentTokenRequests.get(i);if("undefined"===typeof a){this.logger.verbose("acquireTokenSilent called for the first time, storing active request",r),this.performanceClient.addFields({deduped:!1},r);const n=Ks(this.acquireTokenSilentAsync.bind(this),qr,this.logger,this.performanceClient,r)((0,Re.A)((0,Re.A)({},e),{},{correlationId:r}),t);return this.activeSilentTokenRequests.set(i,n),n.finally(()=>{this.activeSilentTokenRequests.delete(i)})}return this.logger.verbose("acquireTokenSilent has been called previously, returning the result from the first call",r),this.performanceClient.addFields({deduped:!0},r),a}async acquireTokenSilentAsync(e,t){const r=()=>this.trackPageVisibility(e.correlationId);this.performanceClient.addQueueMeasurement(qr,e.correlationId),this.eventHandler.emitEvent(jl.B.ACQUIRE_TOKEN_START,Mi.X8.Silent,e),e.correlationId&&this.performanceClient.incrementFields({visibilityChangeCount:0},e.correlationId),document.addEventListener("visibilitychange",r);const n=await Ks(tc,gn,this.logger,this.performanceClient,e.correlationId)(e,t,this.config,this.performanceClient,this.logger),i=e.cacheLookupPolicy||Mi.nN.Default;return this.acquireTokenSilentNoIframe(n,i).catch(async e=>{const t=function(e,t){const r=!(e instanceof pl&&e.subError!==ul),n=e.errorCode===Mi.Q1.INVALID_GRANT_ERROR||e.errorCode===xt,i=r&&n||e.errorCode===ol||e.errorCode===ll,a=Mi.JE.includes(t);return i&&a}(e,i);if(t){if(this.activeIframeRequest){if(i!==Mi.nN.Skip){const[t,r]=this.activeIframeRequest;this.logger.verbose("Iframe request is already in progress, awaiting resolution for request with correlationId: ".concat(r),n.correlationId);const a=this.performanceClient.startMeasurement(Jr,n.correlationId);a.add({awaitIframeCorrelationId:r});const o=await t;if(a.end({success:o}),o)return this.logger.verbose("Parallel iframe request with correlationId: ".concat(r," succeeded. Retrying cache and/or RT redemption"),n.correlationId),this.acquireTokenSilentNoIframe(n,i);throw this.logger.info("Iframe request with correlationId: ".concat(r," failed. Interaction is required.")),e}return this.logger.warning("Another iframe request is currently in progress and CacheLookupPolicy is set to Skip. This may result in degraded performance and/or reliability for both calls. Please consider changing the CacheLookupPolicy to take advantage of request queuing and token cache.",n.correlationId),Ks(this.acquireTokenBySilentIframe.bind(this),fn,this.logger,this.performanceClient,n.correlationId)(n)}{let e;return this.activeIframeRequest=[new Promise(t=>{e=t}),n.correlationId],this.logger.verbose("Refresh token expired/invalid or CacheLookupPolicy is set to Skip, attempting acquire token by iframe.",n.correlationId),Ks(this.acquireTokenBySilentIframe.bind(this),fn,this.logger,this.performanceClient,n.correlationId)(n).then(t=>(e(!0),t)).catch(t=>{throw e(!1),t}).finally(()=>{this.activeIframeRequest=void 0})}}throw e}).then(t=>(this.eventHandler.emitEvent(jl.B.ACQUIRE_TOKEN_SUCCESS,Mi.X8.Silent,t),e.correlationId&&this.performanceClient.addFields({fromCache:t.fromCache},e.correlationId),t)).catch(e=>{throw this.eventHandler.emitEvent(jl.B.ACQUIRE_TOKEN_FAILURE,Mi.X8.Silent,null,e),e}).finally(()=>{document.removeEventListener("visibilitychange",r)})}async acquireTokenSilentNoIframe(e,t){return Dc(this.config,this.logger,this.platformAuthProvider,e.authenticationScheme)&&e.account.nativeAccountId?(this.logger.verbose("acquireTokenSilent - attempting to acquire token from native platform"),this.performanceClient.addFields({isPlatformBrokerRequest:!0},e.correlationId),this.acquireTokenNative(e,Mi.sA.acquireTokenSilent_silentFlow,e.account.nativeAccountId,t).catch(async t=>{if(this.performanceClient.addFields({brokerErrorName:t.name,brokerErrorCode:t.errorCode},e.correlationId),t instanceof hc&&fc(t))throw this.logger.verbose("acquireTokenSilent - native platform unavailable, falling back to web flow"),this.platformAuthProvider=void 0,Rt(xt);throw t})):(this.logger.verbose("acquireTokenSilent - attempting to acquire token from web flow"),t===Mi.nN.AccessToken&&this.logger.verbose("acquireTokenSilent - cache lookup policy set to AccessToken, attempting to acquire token from local cache"),Ks(this.acquireTokenFromCache.bind(this),un,this.logger,this.performanceClient,e.correlationId)(e,t).catch(r=>{if(t===Mi.nN.AccessToken)throw r;return this.eventHandler.emitEvent(jl.B.ACQUIRE_TOKEN_NETWORK_START,Mi.X8.Silent,e),Ks(this.acquireTokenByRefreshToken.bind(this),zr,this.logger,this.performanceClient,e.correlationId)(e,t)}))}async preGeneratePkceCodes(e){return this.logger.verbose("Generating new PKCE codes"),this.pkceCode=await Ks(Sc,si,this.logger,this.performanceClient,e)(this.performanceClient,this.logger,e),Promise.resolve()}getPreGeneratedPkceCodes(e){this.logger.verbose("Attempting to pick up pre-generated PKCE codes");const t=this.pkceCode?(0,Re.A)({},this.pkceCode):void 0;return this.pkceCode=void 0,this.logger.verbose("".concat(t?"Found":"Did not find"," pre-generated PKCE codes")),this.performanceClient.addFields({usePreGeneratedPkce:!!t},e),t}logMultipleInstances(e){const t=this.config.auth.clientId;if(!window)return;window.msal=window.msal||{},window.msal.clientIds=window.msal.clientIds||[];window.msal.clientIds.length>0&&this.logger.verbose("There is already an instance of MSAL.js in the window."),window.msal.clientIds.push(t),function(e,t,r){var n;const i=(null===(n=window.msal)||void 0===n?void 0:n.clientIds)||[],a=i.length,o=i.filter(t=>t===e).length;o>1&&r.warning("There is already an instance of MSAL.js in the window with the same client id."),t.add({msalInstanceCount:a,sameClientIdInstanceCount:o})}(t,e,this.logger)}}class ru{static async createPublicClientApplication(e){const t=await async function(e,t){const r=new Es(e);return await r.initialize(),tu.createController(r,t)}(e);return new ru(e,t)}constructor(e,t){this.isBroker=!1,this.controller=t||new tu(new Es(e))}async initialize(e){return this.controller.initialize(e,this.isBroker)}async acquireTokenPopup(e){return this.controller.acquireTokenPopup(e)}acquireTokenRedirect(e){return this.controller.acquireTokenRedirect(e)}acquireTokenSilent(e){return this.controller.acquireTokenSilent(e)}acquireTokenByCode(e){return this.controller.acquireTokenByCode(e)}addEventCallback(e,t){return this.controller.addEventCallback(e,t)}removeEventCallback(e){return this.controller.removeEventCallback(e)}addPerformanceCallback(e){return this.controller.addPerformanceCallback(e)}removePerformanceCallback(e){return this.controller.removePerformanceCallback(e)}enableAccountStorageEvents(){this.controller.enableAccountStorageEvents()}disableAccountStorageEvents(){this.controller.disableAccountStorageEvents()}getAccount(e){return this.controller.getAccount(e)}getAccountByHomeId(e){return this.controller.getAccountByHomeId(e)}getAccountByLocalId(e){return this.controller.getAccountByLocalId(e)}getAccountByUsername(e){return this.controller.getAccountByUsername(e)}getAllAccounts(e){return this.controller.getAllAccounts(e)}handleRedirectPromise(e){return this.controller.handleRedirectPromise(e)}loginPopup(e){return this.controller.loginPopup(e)}loginRedirect(e){return this.controller.loginRedirect(e)}logout(e){return this.controller.logout(e)}logoutRedirect(e){return this.controller.logoutRedirect(e)}logoutPopup(e){return this.controller.logoutPopup(e)}ssoSilent(e){return this.controller.ssoSilent(e)}getTokenCache(){return this.controller.getTokenCache()}getLogger(){return this.controller.getLogger()}setLogger(e){this.controller.setLogger(e)}setActiveAccount(e){this.controller.setActiveAccount(e)}getActiveAccount(){return this.controller.getActiveAccount()}initializeWrapperLibrary(e,t){return this.controller.initializeWrapperLibrary(e,t)}setNavigationClient(e){this.controller.setNavigationClient(e)}getConfiguration(){return this.controller.getConfiguration()}async hydrateCache(e,t){return this.controller.hydrateCache(e,t)}clearCache(e){return this.controller.clearCache(e)}}var nu=__webpack_require__(6507);const iu=r.createContext({});function au(e){let{children:t}=e;const[n,i]=(0,r.useState)("true"===localStorage.getItem("rememberMe"));(0,r.useEffect)(()=>{localStorage.setItem("rememberMe",String(n))},[n]);const a=(0,r.useMemo)(()=>new ru(function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return{auth:{clientId:"f536a53d-8a16-45cf-9acf-d8c77212b605",authority:"https://login.microsoftonline.com/94526da5-8783-4516-9eb7-8c58bbf66a2d",redirectUri:"".concat(window.location.origin,"/login"),postLogoutRedirectUri:"".concat(window.location.origin,"/login"),navigateToLoginRequestUrl:!1},cache:{cacheLocation:e?"localStorage":"sessionStorage",storeAuthStateInCookie:!0}}}(n)),[n]);return(0,nu.jsx)(iu.Provider,{value:{rememberMe:n,setRememberMe:i},children:(0,nu.jsx)(Ne.r7,{instance:a,children:t})})}var ou=__webpack_require__(3590);const su="development"===void 0||!1,lu=function(){return su&&console.log(...arguments)},cu=function(){return su&&console.info(...arguments)},uu=function(){return su&&console.debug(...arguments)};function du(){const{instance:e,accounts:t}=(0,Ne.dk)(),{rememberMe:n,setRememberMe:i}=(0,r.useContext)(iu),[a,o]=(0,r.useState)(!1),[s,l]=(0,r.useState)([]),[c,u]=(0,r.useState)(null),[d,h]=(0,r.useState)(!1),f=ee(),p=(0,r.useRef)(!0),g=(0,r.useRef)(!1),m=async function(e){let{timeoutMs:t=3500}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=new AbortController,n=setTimeout(()=>r.abort(),t);try{const t=await fetch(e,{headers:{Accept:"application/json"},signal:r.signal,cache:"no-store"});return t.ok?await t.json().catch(()=>null):(404!==t.status&&uu("[config] ".concat(e," -> ").concat(t.status," ").concat(t.statusText)),null)}catch(QU){return uu("[config] ".concat(e," gagal: ").concat((null===QU||void 0===QU?void 0:QU.name)||"Error"," ").concat((null===QU||void 0===QU?void 0:QU.message)||QU)),null}finally{clearTimeout(n)}};(0,r.useEffect)(()=>{p.current=!0;return(async()=>{u(null);const e=["/config.json","/api/config","/config","http://localhost:3001/api/config","http://localhost:3000/api/config"];let t=null;for(const n of e){uu("[config] mencoba:",n);const e=await m(n);if(e&&"object"===typeof e){t=e,cu("[config] OK dari:",n);break}}const r=t&&Array.isArray(t.adminEmails)?{adminEmails:t.adminEmails}:null;p.current&&(r?(l(r.adminEmails.map(e=>String(e).toLowerCase())),u(null)):(l(["adminapp@waskitainfrastruktur.co.id"]),u("Server config tidak tersedia, menggunakan data default")),h(!0))})(),()=>{p.current=!1}},[]);const v=(0,r.useMemo)(()=>{const e=null===t||void 0===t?void 0:t[0];if(!e)return"";const r=e.idTokenClaims||{};return String(r.preferred_username||r.email||e.username||"").toLowerCase()},[t]);(0,r.useEffect)(()=>{if(g.current)return;if(!d)return;if(!v)return;const e=s.includes(v);lu("[route] email=".concat(v," admin=").concat(e)),g.current=!0,f(e?"/helpdesk/entry":"/chat",{replace:!0})},[v,s,f,d]);return d?(0,nu.jsxs)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-purple-900 via-indigo-800 to-purple-900 p-4 relative overflow-hidden",children:[(0,nu.jsx)("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2MCIgaGVpZ2h0PSI2MCI+CiAgPHBhdGggZD0iTTAgMGg2MHY2MEgweiIgZmlsbD0ibm9uZSIvPgogIDxjaXJjbGUgY3g9IjMwIiBjeT0iMzAiIHI9IjEiIGZpbGw9IiNmZmZmZmYiIGZpbGwtb3BhY2l0eT0iMC4wNSIvPgo8L3N2Zz4=')] opacity-10"}),(0,nu.jsx)("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-purple-600 rounded-full mix-blend-soft-light filter blur-3xl opacity-10 animate-pulse-slow"}),(0,nu.jsx)("div",{className:"absolute bottom-1/3 right-1/4 w-80 h-80 bg-indigo-600 rounded-full mix-blend-soft-light filter blur-3xl opacity-10 animate-pulse-slow delay-1000"}),(0,nu.jsxs)("div",{className:"max-w-5xl w-full flex flex-col md:flex-row rounded-3xl overflow-hidden shadow-2xl bg-white/5 backdrop-blur-sm border border-white/10",children:[(0,nu.jsxs)("div",{className:"w-full md:w-2/5 bg-gradient-to-br from-[#7159d4] to-[#b681ff] text-white p-10 flex flex-col justify-between relative overflow-hidden",children:[(0,nu.jsx)("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2MCIgaGVpZ2h0PSI2MCI+CiAgPHBhdGggZD0iTTAgMGg2MHY2MEgweiIgZmlsbD0ibm9uZSIvPgogIDxjaXJjbGUgY3g9IjMwIiBjeT0iMzAiIHI9IjEiIGZpbGw9IiNmZmZmZmYiIGZpbGwtb3BhY2l0eT0iMC4xIi8+Cjwvc3ZnPg==')] opacity-10"}),(0,nu.jsxs)("div",{className:"relative z-10",children:[(0,nu.jsx)("h1",{className:"text-3xl font-bold mb-8",children:"IT Asset Management"}),(0,nu.jsx)("p",{className:"text-purple-100 mb-6 text-lg leading-relaxed",children:"Sistem manajemen aset TI terintegrasi untuk PT Waskita Karya Infrastruktur"}),(0,nu.jsxs)("div",{className:"space-y-4 mt-10",children:[(0,nu.jsxs)("div",{className:"flex items-center",children:[(0,nu.jsx)("div",{className:"w-10 h-0.5 bg-purple-300 mr-3"}),(0,nu.jsx)("span",{className:"text-purple-200",children:"Akses terkontrol dan terjamin"})]}),(0,nu.jsxs)("div",{className:"flex items-center",children:[(0,nu.jsx)("div",{className:"w-10 h-0.5 bg-purple-300 mr-3"}),(0,nu.jsx)("span",{className:"text-purple-200",children:"Manajemen aset yang efisien"})]}),(0,nu.jsxs)("div",{className:"flex items-center",children:[(0,nu.jsx)("div",{className:"w-10 h-0.5 bg-purple-300 mr-3"}),(0,nu.jsx)("span",{className:"text-purple-200",children:"Laporan real-time"})]})]})]}),(0,nu.jsxs)("div",{className:"relative z-10 mt-8",children:[(0,nu.jsxs)("div",{className:"flex items-center justify-start space-x-6 mb-8",children:[(0,nu.jsx)("img",{src:"/Danantara-Indonesia-Logo-2025.png",alt:"Danantara Indonesia Logo",className:"h-20 w-auto object-contain opacity-95"}),(0,nu.jsx)("img",{src:"/logo-wki.png",alt:"Waskita Infrastruktur Logo",className:"h-16 w-auto object-contain opacity-95"})]}),(0,nu.jsxs)("p",{className:"text-sm text-purple-200",children:["\xa9 ",(new Date).getFullYear()," PT Waskita Karya Infrastruktur"]})]})]}),(0,nu.jsxs)("div",{className:"w-full md:w-3/5 bg-white p-10 flex flex-col justify-center relative",children:[(0,nu.jsxs)("div",{className:"text-center mb-10",children:[(0,nu.jsx)("h2",{className:"text-4xl font-bold text-gray-800 mb-3",children:"Masuk ke Sistem"}),(0,nu.jsx)("p",{className:"text-gray-600 text-lg",children:"Gunakan akun Microsoft Anda untuk mengakses sistem"})]}),c&&(0,nu.jsxs)("div",{className:"mb-8 p-4 bg-amber-50 border border-amber-200 rounded-xl text-amber-800 text-sm flex items-start",children:[(0,nu.jsx)("svg",{className:"w-6 h-6 mr-3 mt-0.5 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:(0,nu.jsx)("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),(0,nu.jsx)("span",{children:c})]}),(0,nu.jsx)("div",{className:"mb-8 flex justify-center",children:(0,nu.jsx)("div",{className:"bg-gray-100 p-5 rounded-2xl inline-flex shadow-sm",children:(0,nu.jsx)("span",{className:"text-gray-700 font-medium text-lg",children:(new Date).toLocaleDateString("id-ID",{weekday:"long",day:"numeric",month:"long",year:"numeric"})})})}),(0,nu.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),localStorage.setItem("rememberMe",n?"true":"false"),o(!0);try{try{await e.ssoSilent({})}catch(r){await e.loginPopup()}}catch(i){alert("Login gagal! Silakan coba lagi.")}finally{o(!1)}},className:"w-full",children:[(0,nu.jsx)("div",{className:"flex items-center mb-8 justify-center",children:(0,nu.jsxs)("label",{className:"flex items-center cursor-pointer",children:[(0,nu.jsxs)("div",{className:"relative",children:[(0,nu.jsx)("input",{type:"checkbox",id:"rememberMe",checked:n,onChange:e=>i(e.target.checked),className:"sr-only"}),(0,nu.jsx)("div",{className:"block w-14 h-7 rounded-full ".concat(n?"bg-purple-600":"bg-gray-300")}),(0,nu.jsx)("div",{className:"dot absolute left-1 top-1 bg-white w-5 h-5 rounded-full transition-transform ".concat(n?"transform translate-x-7":"")})]}),(0,nu.jsx)("span",{className:"ml-4 text-gray-700 font-medium select-none text-lg",children:"Ingat saya"})]})}),(0,nu.jsxs)("button",{type:"submit",disabled:a,className:"w-full py-4 px-6 rounded-xl bg-gradient-to-r from-[#7159d4] to-[#b681ff] hover:from-[#b681ff] hover:to-[#7159d4] text-white font-bold text-lg shadow-lg transition-all duration-300 transform hover:-translate-y-1 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none flex items-center justify-center relative overflow-hidden group",children:[(0,nu.jsx)("span",{className:"absolute inset-0 bg-white opacity-0 group-hover:opacity-10 transition-opacity duration-300"}),a?(0,nu.jsxs)(nu.Fragment,{children:[(0,nu.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-6 w-6 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,nu.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,nu.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Memproses..."]}):(0,nu.jsxs)(nu.Fragment,{children:[(0,nu.jsx)("svg",{className:"w-6 h-6 mr-3",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,nu.jsx)("path",{d:"M12 4C14.2 4 16 5.8 16 8C16 10.2 14.2 12 12 12C9.8 12 8 10.2 8 8C8 5.8 9.8 4 12 4ZM12 14C16.4 14 20 15.8 20 18V20H4V18C4 15.8 7.6 14 12 14Z",fill:"currentColor"})}),"Login dengan Microsoft"]})]})]}),(0,nu.jsx)("div",{className:"mt-12 pt-8 border-t border-gray-100 text-center",children:(0,nu.jsx)("p",{className:"text-gray-500 text-base",children:"Butuh bantuan? Hubungi tim IT support"})})]})]}),(0,nu.jsx)("style",{children:"\n          @keyframes pulse-slow {\n            0%, 100% { opacity: 0.1; }\n            50% { opacity: 0.15; }\n          }\n          .animate-pulse-slow {\n            animation: pulse-slow 6s cubic-bezier(0.4, 0, 0.6, 1) infinite;\n          }\n          .dot {\n            transition: transform 0.3s ease-in-out;\n          }\n        "})]}):(0,nu.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-purple-50 to-indigo-100",children:(0,nu.jsxs)("div",{className:"text-center",children:[(0,nu.jsxs)("div",{className:"relative",children:[(0,nu.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-purple-600 mx-auto"}),(0,nu.jsx)("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",children:(0,nu.jsx)("svg",{className:"animate-pulse h-8 w-8 text-purple-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,nu.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 11c0 3.517-1.009 6.799-2.753 9.571m-3.44-2.04l.054-.09A13.916 13.916 0 008 11a4 4 0 118 0c0 1.017-.07 2.019-.203 3m-2.118 6.844A21.88 21.88 0 0015.171 17m3.839 1.132c.645-2.266.99-4.659.99-7.132A8 8 0 008 4.07M3 15.364c.64-1.319 1-2.8 1-4.364 0-1.457.39-2.823 1.07-4"})})})]}),(0,nu.jsx)("p",{className:"mt-6 text-gray-700 font-medium",children:"Memuat konfigurasi sistem..."}),(0,nu.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:"Harap tunggu sebentar"})]})})}var hu={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},fu=r.createContext&&r.createContext(hu),pu=["attr","size","title"];function gu(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function mu(){return mu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mu.apply(this,arguments)}function vu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function yu(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?vu(Object(r),!0).forEach(function(t){bu(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vu(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function bu(e,t,r){return t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _u(e){return e&&e.map((e,t)=>r.createElement(e.tag,yu({key:t},e.attr),_u(e.child)))}function xu(e){return t=>r.createElement(wu,mu({attr:yu({},e.attr)},t),_u(e.child))}function wu(e){var t=t=>{var n,{attr:i,size:a,title:o}=e,s=gu(e,pu),l=a||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),r.createElement("svg",mu({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,s,{className:n,style:yu(yu({color:e.color||t.color},t.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),o&&r.createElement("title",null,o),e.children)};return void 0!==fu?r.createElement(fu.Consumer,null,e=>t(e)):t(hu)}function ku(e){return xu({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M4 11H2v3h2zm5-4H7v7h2zm5-5v12h-2V2zm-2-1a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1zM6 7a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v7a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1zm-5 4a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1z"},child:[]}]})(e)}function Eu(e){return xu({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M10 12.5a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 .5.5v2a.5.5 0 0 0 1 0v-2A1.5 1.5 0 0 0 9.5 2h-8A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h8a1.5 1.5 0 0 0 1.5-1.5v-2a.5.5 0 0 0-1 0z"},child:[]},{tag:"path",attr:{fillRule:"evenodd",d:"M15.854 8.354a.5.5 0 0 0 0-.708l-3-3a.5.5 0 0 0-.708.708L14.293 7.5H5.5a.5.5 0 0 0 0 1h8.793l-2.147 2.146a.5.5 0 0 0 .708.708z"},child:[]}]})(e)}function Cu(e){return xu({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708"},child:[]}]})(e)}function Au(e){return xu({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M7.646 4.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1-.708.708L8 5.707l-5.646 5.647a.5.5 0 0 1-.708-.708z"},child:[]}]})(e)}function Tu(e){return xu({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M5 0a.5.5 0 0 1 .5.5V2h1V.5a.5.5 0 0 1 1 0V2h1V.5a.5.5 0 0 1 1 0V2h1V.5a.5.5 0 0 1 1 0V2A2.5 2.5 0 0 1 14 4.5h1.5a.5.5 0 0 1 0 1H14v1h1.5a.5.5 0 0 1 0 1H14v1h1.5a.5.5 0 0 1 0 1H14v1h1.5a.5.5 0 0 1 0 1H14a2.5 2.5 0 0 1-2.5 2.5v1.5a.5.5 0 0 1-1 0V14h-1v1.5a.5.5 0 0 1-1 0V14h-1v1.5a.5.5 0 0 1-1 0V14h-1v1.5a.5.5 0 0 1-1 0V14A2.5 2.5 0 0 1 2 11.5H.5a.5.5 0 0 1 0-1H2v-1H.5a.5.5 0 0 1 0-1H2v-1H.5a.5.5 0 0 1 0-1H2v-1H.5a.5.5 0 0 1 0-1H2A2.5 2.5 0 0 1 4.5 2V.5A.5.5 0 0 1 5 0m-.5 3A1.5 1.5 0 0 0 3 4.5v7A1.5 1.5 0 0 0 4.5 13h7a1.5 1.5 0 0 0 1.5-1.5v-7A1.5 1.5 0 0 0 11.5 3zM5 6.5A1.5 1.5 0 0 1 6.5 5h3A1.5 1.5 0 0 1 11 6.5v3A1.5 1.5 0 0 1 9.5 11h-3A1.5 1.5 0 0 1 5 9.5zM6.5 6a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5z"},child:[]}]})(e)}function Su(e){return xu({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 4.754a3.246 3.246 0 1 0 0 6.492 3.246 3.246 0 0 0 0-6.492M5.754 8a2.246 2.246 0 1 1 4.492 0 2.246 2.246 0 0 1-4.492 0"},child:[]},{tag:"path",attr:{d:"M9.796 1.343c-.527-1.79-3.065-1.79-3.592 0l-.094.319a.873.873 0 0 1-1.255.52l-.292-.16c-1.64-.892-3.433.902-2.54 2.541l.159.292a.873.873 0 0 1-.52 1.255l-.319.094c-1.79.527-1.79 3.065 0 3.592l.319.094a.873.873 0 0 1 .52 1.255l-.16.292c-.892 1.64.901 3.434 2.541 2.54l.292-.159a.873.873 0 0 1 1.255.52l.094.319c.527 1.79 3.065 1.79 3.592 0l.094-.319a.873.873 0 0 1 1.255-.52l.292.16c1.64.893 3.434-.902 2.54-2.541l-.159-.292a.873.873 0 0 1 .52-1.255l.319-.094c1.79-.527 1.79-3.065 0-3.592l-.319-.094a.873.873 0 0 1-.52-1.255l.16-.292c.893-1.64-.902-3.433-2.541-2.54l-.292.159a.873.873 0 0 1-1.255-.52zm-2.633.283c.246-.835 1.428-.835 1.674 0l.094.319a1.873 1.873 0 0 0 2.693 1.115l.291-.16c.764-.415 1.6.42 1.184 1.185l-.159.292a1.873 1.873 0 0 0 1.116 2.692l.318.094c.835.246.835 1.428 0 1.674l-.319.094a1.873 1.873 0 0 0-1.115 2.693l.16.291c.415.764-.42 1.6-1.185 1.184l-.291-.159a1.873 1.873 0 0 0-2.693 1.116l-.094.318c-.246.835-1.428.835-1.674 0l-.094-.319a1.873 1.873 0 0 0-2.692-1.115l-.292.16c-.764.415-1.6-.42-1.184-1.185l.159-.291A1.873 1.873 0 0 0 1.945 8.93l-.319-.094c-.835-.246-.835-1.428 0-1.674l.319-.094A1.873 1.873 0 0 0 3.06 4.377l-.16-.292c-.415-.764.42-1.6 1.185-1.184l.292.159a1.873 1.873 0 0 0 2.692-1.115z"},child:[]}]})(e)}function Ou(e){return xu({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 1a5 5 0 0 0-5 5v1h1a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V6a6 6 0 1 1 12 0v6a2.5 2.5 0 0 1-2.5 2.5H9.366a1 1 0 0 1-.866.5h-1a1 1 0 1 1 0-2h1a1 1 0 0 1 .866.5H11.5A1.5 1.5 0 0 0 13 12h-1a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1h1V6a5 5 0 0 0-5-5"},child:[]}]})(e)}function Pu(e){return xu({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8.707 1.5a1 1 0 0 0-1.414 0L.646 8.146a.5.5 0 0 0 .708.708L2 8.207V13.5A1.5 1.5 0 0 0 3.5 15h9a1.5 1.5 0 0 0 1.5-1.5V8.207l.646.647a.5.5 0 0 0 .708-.708L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293zM13 7.207V13.5a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5V7.207l5-5z"},child:[]}]})(e)}function Iu(e){return xu({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0"},child:[]},{tag:"path",attr:{fillRule:"evenodd",d:"M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8m8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1"},child:[]}]})(e)}function ju(e){return xu({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M6 0a.5.5 0 0 1 .5.5V3h3V.5a.5.5 0 0 1 1 0V3h1a.5.5 0 0 1 .5.5v3A3.5 3.5 0 0 1 8.5 10c-.002.434-.01.845-.04 1.22-.041.514-.126 1.003-.317 1.424a2.08 2.08 0 0 1-.97 1.028C6.725 13.9 6.169 14 5.5 14c-.998 0-1.61.33-1.974.718A1.92 1.92 0 0 0 3 16H2c0-.616.232-1.367.797-1.968C3.374 13.42 4.261 13 5.5 13c.581 0 .962-.088 1.218-.219.241-.123.4-.3.514-.55.121-.266.193-.621.23-1.09.027-.34.035-.718.037-1.141A3.5 3.5 0 0 1 4 6.5v-3a.5.5 0 0 1 .5-.5h1V.5A.5.5 0 0 1 6 0M5 4v2.5A2.5 2.5 0 0 0 7.5 9h1A2.5 2.5 0 0 0 11 6.5V4z"},child:[]}]})(e)}function Mu(e){return xu({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M5.338 1.59a61 61 0 0 0-2.837.856.48.48 0 0 0-.328.39c-.554 4.157.726 7.19 2.253 9.188a10.7 10.7 0 0 0 2.287 2.233c.346.244.652.42.893.533q.18.085.293.118a1 1 0 0 0 .101.025 1 1 0 0 0 .1-.025q.114-.034.294-.118c.24-.113.547-.29.893-.533a10.7 10.7 0 0 0 2.287-2.233c1.527-1.997 2.807-5.031 2.253-9.188a.48.48 0 0 0-.328-.39c-.651-.213-1.75-.56-2.837-.855C9.552 1.29 8.531 1.067 8 1.067c-.53 0-1.552.223-2.662.524zM5.072.56C6.157.265 7.31 0 8 0s1.843.265 2.928.56c1.11.3 2.229.655 2.887.87a1.54 1.54 0 0 1 1.044 1.262c.596 4.477-.787 7.795-2.465 9.99a11.8 11.8 0 0 1-2.517 2.453 7 7 0 0 1-1.048.625c-.28.132-.581.24-.829.24s-.548-.108-.829-.24a7 7 0 0 1-1.048-.625 11.8 11.8 0 0 1-2.517-2.453C1.928 10.487.545 7.169 1.141 2.692A1.54 1.54 0 0 1 2.185 1.43 63 63 0 0 1 5.072.56"},child:[]},{tag:"path",attr:{d:"M10.854 5.146a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 1 1 .708-.708L7.5 7.793l2.646-2.647a.5.5 0 0 1 .708 0"},child:[]}]})(e)}function Nu(e){return xu({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"},child:[]}]})(e)}function Ru(e){return xu({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M425.7 256c-16.9 0-32.8-9-41.4-23.4L320 126l-64.2 106.6c-8.7 14.5-24.6 23.5-41.5 23.5-4.5 0-9-.6-13.3-1.9L64 215v178c0 14.7 10 27.5 24.2 31l216.2 54.1c10.2 2.5 20.9 2.5 31 0L551.8 424c14.2-3.6 24.2-16.4 24.2-31V215l-137 39.1c-4.3 1.3-8.8 1.9-13.3 1.9zm212.6-112.2L586.8 41c-3.1-6.2-9.8-9.8-16.7-8.9L320 64l91.7 152.1c3.8 6.3 11.4 9.3 18.5 7.3l197.9-56.5c9.9-2.9 14.7-13.9 10.2-23.1zM53.2 41L1.7 143.8c-4.6 9.2.3 20.2 10.1 23l197.9 56.5c7.1 2 14.7-1 18.5-7.3L320 64 69.8 32.1c-6.9-.8-13.5 2.7-16.6 8.9z"},child:[]}]})(e)}function Du(e){return xu({tag:"svg",attr:{viewBox:"0 0 544 512"},child:[{tag:"path",attr:{d:"M527.79 288H290.5l158.03 158.03c6.04 6.04 15.98 6.53 22.19.68 38.7-36.46 65.32-85.61 73.13-140.86 1.34-9.46-6.51-17.85-16.06-17.85zm-15.83-64.8C503.72 103.74 408.26 8.28 288.8.04 279.68-.59 272 7.1 272 16.24V240h223.77c9.14 0 16.82-7.68 16.19-16.8zM224 288V50.71c0-9.55-8.39-17.4-17.84-16.06C86.99 51.49-4.1 155.6.14 280.37 4.5 408.51 114.83 513.59 243.03 511.98c50.4-.63 96.97-16.87 135.26-44.03 7.9-5.6 8.42-17.23 1.57-24.08L224 288z"},child:[]}]})(e)}function Lu(e){return xu({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528 0H48C21.5 0 0 21.5 0 48v320c0 26.5 21.5 48 48 48h192l-16 48h-72c-13.3 0-24 10.7-24 24s10.7 24 24 24h272c13.3 0 24-10.7 24-24s-10.7-24-24-24h-72l-16-48h192c26.5 0 48-21.5 48-48V48c0-26.5-21.5-48-48-48zm-16 352H64V64h448v288z"},child:[]}]})(e)}function Uu(e){return xu({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(e)}function Bu(e){return xu({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M336 0H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V48c0-26.5-21.5-48-48-48zM144 32h96c8.8 0 16 7.2 16 16s-7.2 16-16 16h-96c-8.8 0-16-7.2-16-16s7.2-16 16-16zm48 128c35.3 0 64 28.7 64 64s-28.7 64-64 64-64-28.7-64-64 28.7-64 64-64zm112 236.8c0 10.6-10 19.2-22.4 19.2H102.4C90 416 80 407.4 80 396.8v-19.2c0-31.8 30.1-57.6 67.2-57.6h5c12.3 5.1 25.7 8 39.8 8s27.6-2.9 39.8-8h5c37.1 0 67.2 25.8 67.2 57.6v19.2z"},child:[]}]})(e)}function zu(e){return xu({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M48 48a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm0 160a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm0 160a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm448 16H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"},child:[]}]})(e)}function Ku(e){return xu({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M320,32a32,32,0,0,0-64,0v96h64Zm48,128H16A16,16,0,0,0,0,176v32a16,16,0,0,0,16,16H32v32A160.07,160.07,0,0,0,160,412.8V512h64V412.8A160.07,160.07,0,0,0,352,256V224h16a16,16,0,0,0,16-16V176A16,16,0,0,0,368,160ZM128,32a32,32,0,0,0-64,0v96h64Z"},child:[]}]})(e)}function qu(e){return xu({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M501.1 395.7L384 278.6c-23.1-23.1-57.6-27.6-85.4-13.9L192 158.1V96L64 0 0 64l96 128h62.1l106.6 106.6c-13.6 27.8-9.2 62.3 13.9 85.4l117.1 117.1c14.6 14.6 38.2 14.6 52.7 0l52.7-52.7c14.5-14.6 14.5-38.2 0-52.7zM331.7 225c28.3 0 54.9 11 74.9 31l19.4 19.4c15.8-6.9 30.8-16.5 43.8-29.5 37.1-37.1 49.7-89.3 37.9-136.7-2.2-9-13.5-12.1-20.1-5.5l-74.4 74.4-67.9-11.3L334 98.9l74.4-74.4c6.6-6.6 3.4-17.9-5.7-20.2-47.4-11.7-99.6.9-136.6 37.9-28.5 28.5-41.9 66.1-41.2 103.6l82.1 82.1c8.1-1.9 16.5-2.9 24.7-2.9zm-103.9 82l-56.7-56.7L18.7 402.8c-25 25-25 65.5 0 90.5s65.5 25 90.5 0l123.6-123.6c-7.6-19.9-9.9-41.6-5-62.7zM64 472c-13.2 0-24-10.8-24-24 0-13.3 10.7-24 24-24s24 10.7 24 24c0 13.2-10.7 24-24 24z"},child:[]}]})(e)}function Fu(e){return xu({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M279.135 512c78.756 0 150.982-35.804 198.844-94.775 28.27-34.831-2.558-85.722-46.249-77.401-82.348 15.683-158.272-47.268-158.272-130.792 0-48.424 26.06-92.292 67.434-115.836 38.745-22.05 28.999-80.788-15.022-88.919A257.936 257.936 0 0 0 279.135 0c-141.36 0-256 114.575-256 256 0 141.36 114.576 256 256 256zm0-464c12.985 0 25.689 1.201 38.016 3.478-54.76 31.163-91.693 90.042-91.693 157.554 0 113.848 103.641 199.2 215.252 177.944C402.574 433.964 344.366 464 279.135 464c-114.875 0-208-93.125-208-208s93.125-208 208-208z"},child:[]}]})(e)}function Hu(e){return xu({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M494.2 221.9l-59.8-40.5 13.7-71c2.6-13.2-1.6-26.8-11.1-36.4-9.6-9.5-23.2-13.7-36.2-11.1l-70.9 13.7-40.4-59.9c-15.1-22.3-51.9-22.3-67 0l-40.4 59.9-70.8-13.7C98 60.4 84.5 64.5 75 74.1c-9.5 9.6-13.7 23.1-11.1 36.3l13.7 71-59.8 40.5C6.6 229.5 0 242 0 255.5s6.7 26 17.8 33.5l59.8 40.5-13.7 71c-2.6 13.2 1.6 26.8 11.1 36.3 9.5 9.5 22.9 13.7 36.3 11.1l70.8-13.7 40.4 59.9C230 505.3 242.6 512 256 512s26-6.7 33.5-17.8l40.4-59.9 70.9 13.7c13.4 2.7 26.8-1.6 36.3-11.1 9.5-9.5 13.6-23.1 11.1-36.3l-13.7-71 59.8-40.5c11.1-7.5 17.8-20.1 17.8-33.5-.1-13.6-6.7-26.1-17.9-33.7zm-112.9 85.6l17.6 91.2-91-17.6L256 458l-51.9-77-90.9 17.6 17.6-91.2-76.8-52 76.8-52-17.6-91.2 91 17.6L256 53l51.9 76.9 91-17.6-17.6 91.1 76.8 52-76.8 52.1zM256 152c-57.3 0-104 46.7-104 104s46.7 104 104 104 104-46.7 104-104-46.7-104-104-104zm0 160c-30.9 0-56-25.1-56-56s25.1-56 56-56 56 25.1 56 56-25.1 56-56 56z"},child:[]}]})(e)}function Wu(){const[e,t]=(0,r.useState)(!1),[n,i]=(0,r.useState)(!1),[a,o]=(0,r.useState)(!1),s=$(),{instance:l,accounts:c}=(0,Ne.dk)(),u=ee(),d=c[0]||{},{dark:h,toggleDark:f}=(0,ou.D)();(0,r.useEffect)(()=>{s.pathname.startsWith("/charts")&&t(!0),s.pathname.startsWith("/helpdesk")&&i(!0)},[s.pathname]);return(0,nu.jsx)("aside",{className:"\n        w-64 h-screen sticky top-0 z-20 transition-all\n        bg-white dark:bg-gray-900\n        text-gray-900 dark:text-white\n        border-r border-gray-200 dark:border-gray-700\n        shadow-lg\n      ",children:(0,nu.jsxs)("div",{className:"flex flex-col h-full w-64",children:[(0,nu.jsxs)("div",{className:"flex items-center justify-center mt-8 mb-2 px-4",children:[(0,nu.jsx)("img",{src:"/logo-wki.png",alt:"Waskita Infrastruktur Logo",className:"h-12 w-12 rounded-full shadow-md bg-white object-contain p-1"}),(0,nu.jsxs)("span",{className:"ml-4 text-xl font-bold text-[#215ba6] dark:text-white tracking-wide leading-tight",children:["Waskita Karya",(0,nu.jsx)("br",{}),"Infrastruktur",(0,nu.jsx)("br",{}),(0,nu.jsx)("span",{className:"font-normal text-sm",children:"IT Asset Management"})]})]}),(0,nu.jsxs)("nav",{className:"mt-8 flex-1 flex flex-col space-y-1 px-2",children:[(0,nu.jsxs)(Pe,{to:"/",className:e=>{let{isActive:t}=e;return(t?"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 border-r-4 border-blue-500":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800")+" flex items-center px-6 py-3 text-base font-medium rounded-lg transition-all mx-2"},children:[(0,nu.jsx)(Pu,{className:"mr-4"})," Dashboard"]}),(0,nu.jsxs)(Pe,{to:"/devices",className:e=>{let{isActive:t}=e;return(t?"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 border-r-4 border-blue-500":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800")+" flex items-center px-6 py-3 text-base font-medium rounded-lg transition-all mx-2"},children:[(0,nu.jsx)(Tu,{className:"mr-4"})," Devices"]}),(0,nu.jsxs)(Pe,{to:"/peripheral",className:e=>{let{isActive:t}=e;return(t?"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 border-r-4 border-blue-500":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800")+" flex items-center px-6 py-3 text-base font-medium rounded-lg transition-all mx-2"},children:[(0,nu.jsx)(ju,{className:"mr-4"})," Peripheral"]}),(0,nu.jsxs)(Pe,{to:"/licenses",className:e=>{let{isActive:t}=e;return(t?"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 border-r-4 border-blue-500":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800")+" flex items-center px-6 py-3 text-base font-medium rounded-lg transition-all mx-2"},children:[(0,nu.jsx)(Mu,{className:"mr-4"})," Licenses"]}),(0,nu.jsxs)("div",{className:"mx-2",children:[(0,nu.jsxs)("button",{className:"flex items-center px-6 py-3 text-base font-medium rounded-lg transition-all w-full "+(s.pathname.startsWith("/helpdesk")?"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 border-r-4 border-blue-500":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800"),onClick:()=>i(e=>!e),children:[(0,nu.jsx)(Ou,{className:"mr-4"}),"Helpdesk",n?(0,nu.jsx)(Au,{className:"ml-auto"}):(0,nu.jsx)(Cu,{className:"ml-auto"})]}),n&&(0,nu.jsxs)("div",{className:"ml-6 mt-1 flex flex-col space-y-1 border-l-2 border-gray-200 dark:border-gray-700 pl-4",children:[(0,nu.jsx)(Pe,{to:"/helpdesk/entry",className:e=>{let{isActive:t}=e;return(t?"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800")+" px-4 py-2 text-sm rounded-lg transition"},children:"Ticket Entry"}),(0,nu.jsx)(Pe,{to:"/helpdesk/solved",className:e=>{let{isActive:t}=e;return(t?"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800")+" px-4 py-2 text-sm rounded-lg transition"},children:"Ticket Solved"})]})]}),(0,nu.jsxs)("div",{className:"mx-2",children:[(0,nu.jsxs)("button",{className:"flex items-center px-6 py-3 text-base font-medium rounded-lg transition-all w-full "+(s.pathname.startsWith("/charts")?"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 border-r-4 border-blue-500":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800"),onClick:()=>t(e=>!e),children:[(0,nu.jsx)(ku,{className:"mr-4"}),"Charts",e?(0,nu.jsx)(Au,{className:"ml-auto"}):(0,nu.jsx)(Cu,{className:"ml-auto"})]}),e&&(0,nu.jsxs)("div",{className:"ml-6 mt-1 flex flex-col space-y-1 border-l-2 border-gray-200 dark:border-gray-700 pl-4",children:[(0,nu.jsx)(Pe,{to:"/charts/license",className:e=>{let{isActive:t}=e;return(t?"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800")+" px-4 py-2 text-sm rounded-lg transition"},children:"License Chart"}),(0,nu.jsx)(Pe,{to:"/charts/device",className:e=>{let{isActive:t}=e;return(t?"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800")+" px-4 py-2 text-sm rounded-lg transition"},children:"Device Chart"}),(0,nu.jsx)(Pe,{to:"/charts/peripheral",className:e=>{let{isActive:t}=e;return(t?"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800")+" px-4 py-2 text-sm rounded-lg transition"},children:"Peripheral Chart"})]})]}),(0,nu.jsxs)(Pe,{to:"/settings",className:e=>{let{isActive:t}=e;return(t?"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 border-r-4 border-blue-500":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800")+" flex items-center px-6 py-3 text-base font-medium rounded-lg transition-all mx-2"},children:[(0,nu.jsx)(Su,{className:"mr-4"})," Settings"]})]}),(0,nu.jsxs)("div",{className:"p-4 mt-auto border-t border-gray-200 dark:border-gray-700",children:[(0,nu.jsxs)("div",{className:"flex items-center mb-4 p-2 rounded-lg bg-gray-100 dark:bg-gray-800",children:[(0,nu.jsx)(Iu,{className:"text-gray-600 dark:text-gray-300 text-xl mr-2"}),(0,nu.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,nu.jsx)("p",{className:"text-sm font-medium text-gray-800 dark:text-white truncate",children:d.name||"User"}),(0,nu.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:d.username||d.email||"user@waskita.com"})]}),(0,nu.jsx)("button",{onClick:()=>{o(!a)},className:"p-1 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700 transition",children:a?(0,nu.jsx)(Au,{}):(0,nu.jsx)(Cu,{})})]}),a&&(0,nu.jsxs)("div",{className:"mb-4 p-2 rounded-lg bg-gray-100 dark:bg-gray-800",children:[(0,nu.jsx)("button",{onClick:()=>u("/profile"),className:"w-full text-left px-3 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-md transition",children:"\ud83d\udccb Profil Saya"}),(0,nu.jsx)("button",{onClick:()=>u("/settings"),className:"w-full text-left px-3 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-md transition",children:"\u2699\ufe0f Pengaturan"})]}),(0,nu.jsxs)("div",{className:"flex items-center justify-between mb-3 p-2 rounded-lg bg-gray-100 dark:bg-gray-800",children:[(0,nu.jsxs)("div",{className:"flex items-center",children:[h?(0,nu.jsx)(Hu,{className:"text-yellow-500 mr-2"}):(0,nu.jsx)(Fu,{className:"text-gray-600 mr-2"}),(0,nu.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:h?"Light Mode":"Dark Mode"})]}),(0,nu.jsx)("button",{className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors ".concat(h?"bg-blue-600":"bg-gray-300"),onClick:f,"aria-label":"Toggle dark mode",children:(0,nu.jsx)("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white transition-transform ".concat(h?"translate-x-6":"translate-x-1")})})]}),(0,nu.jsxs)("button",{onClick:()=>{l.logoutRedirect({postLogoutRedirectUri:"/"})},className:"w-full flex items-center justify-center p-2 rounded-lg bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300 hover:bg-red-200 dark:hover:bg-red-800/50 transition",children:[(0,nu.jsx)(Eu,{className:"mr-2"}),"Logout"]})]})]})})}const Vu={DIPAKAI:{color:"#10b981",label:"Dipakai",icon:"\ud83d\udfe2"},SPARE:{color:"#f59e0b",label:"Spare",icon:"\ud83d\udfe1"},RUSAK:{color:"#ef4444",label:"Rusak",icon:"\ud83d\udd34"},HILANG:{color:"#8b5cf6",label:"Hilang",icon:"\ud83d\udfe3"},TERSEDIA:{color:"#3b82f6",label:"Tersedia",icon:"\ud83d\udd35"},PERBAIKAN:{color:"#f97316",label:"Perbaikan",icon:"\ud83d\udfe0"},"(KOSONG)":{color:"#9ca3af",label:"Unknown",icon:"\u26ab"}},Gu="waskitainfra.sharepoint.com,32252c41-8aed-4ed2-ba35-b6e2731b0d4a,fb2ae80c-1283-4942-a3e8-0d47e8d004fb",Yu="95880dbf-54dc-4bbb-a438-d6519941a409",Qu="waskitainfra.sharepoint.com,82f98496-0de9-45f8-9b3e-30bbfd2838fe,a097be9c-086d-41bd-9afb-5b1a095f2705",Ju="dae749d2-2fd1-4a05-bd16-a69194eb0341",Xu=["Sites.Read.All","Directory.Read.All"];function $u(){var e;const{dark:t}=(0,ou.D)(),{instance:n,accounts:i}=(0,Ne.dk)(),a=ee(),[o,s]=(0,r.useState)([]),[l,c]=(0,r.useState)([]),[u,d]=(0,r.useState)([]),[h,f]=(0,r.useState)(!0),[p,g]=(0,r.useState)({totalDevices:0,totalPeripherals:0,totalLicenses:0,devicesNeedingRepair:0,zeroStockItems:0,licenseWarnings:0});(0,r.useEffect)(()=>{i.length&&async function(){try{f(!0);const e=i[0],t=(await n.acquireTokenSilent({scopes:Xu,account:e})).accessToken;let r=await fetch("https://graph.microsoft.com/v1.0/sites/".concat(Gu,"/lists/").concat(Yu,"/items?expand=fields"),{headers:{Authorization:"Bearer ".concat(t)}}),a=await r.json();s(Array.isArray(a.value)?a.value:[]);let o=await fetch("https://graph.microsoft.com/v1.0/sites/".concat(Qu,"/lists/").concat(Ju,"/items?expand=fields"),{headers:{Authorization:"Bearer ".concat(t)}}),l=await o.json();c(Array.isArray(l.value)?l.value:[]);let u=await fetch("https://graph.microsoft.com/v1.0/subscribedSkus",{headers:{Authorization:"Bearer ".concat(t)}}),h=await u.json();d(Array.isArray(h.value)?h.value:[])}catch(e){console.error("Gagal load dashboard: ",e)}finally{f(!1)}}()},[i.length]),(0,r.useEffect)(()=>{var e;const t={};o.forEach(e=>{var r;const n=((null===(r=e.fields)||void 0===r?void 0:r.Status)||"(KOSONG)").toUpperCase();t[n]||(t[n]=[]),t[n].push(e)});const r=l.filter(e=>{var t,r;return(null!==(t=null===(r=e.fields)||void 0===r?void 0:r.field_2)&&void 0!==t?t:1)<=0}),n=u.filter(e=>{var t;return(null===(t=e.prepaidUnits)||void 0===t?void 0:t.warning)>0}),i=(null===(e=t.PERBAIKAN)||void 0===e?void 0:e.length)||0;g({totalDevices:o.length,totalPeripherals:l.length,totalLicenses:u.length,devicesNeedingRepair:i,zeroStockItems:r.length,licenseWarnings:n.length})},[o,l,u]);const m={};o.forEach(e=>{var t;const r=((null===(t=e.fields)||void 0===t?void 0:t.Status)||"(KOSONG)").toUpperCase();m[r]||(m[r]=[]),m[r].push(e)});const v=Object.keys(m),y=(l.length,l.filter(e=>{var t,r;return(null!==(t=null===(r=e.fields)||void 0===r?void 0:r.field_2)&&void 0!==t?t:1)<=0})),b=(u.length,u.filter(e=>{var t;return(null===(t=e.prepaidUnits)||void 0===t?void 0:t.warning)>0})),_=v.map(e=>{var t,r,n;return{key:e,name:(null===(t=Vu[e])||void 0===t?void 0:t.label)||e,value:m[e].length,color:(null===(r=Vu[e])||void 0===r?void 0:r.color)||"#d1d5db",icon:(null===(n=Vu[e])||void 0===n?void 0:n.icon)||"\u26ab"}}),x=(null===(e=m.PERBAIKAN)||void 0===e?void 0:e.map(e=>e.fields.Title).join(", "))||"",w=y.map(e=>e.fields.Title).join(", "),k=b.map(e=>e.skuPartNumber+" ("+e.prepaidUnits.warning+")").join(", ");const E=[...o.map(e=>{var t,r;return{waktu:null===(t=e.fields)||void 0===t?void 0:t.Modified,text:"Update device "+((null===(r=e.fields)||void 0===r?void 0:r.Title)||""),type:"device"}}),...l.map(e=>{var t,r;return{waktu:null===(t=e.fields)||void 0===t?void 0:t.Modified,text:"Update peripheral "+((null===(r=e.fields)||void 0===r?void 0:r.Title)||""),type:"peripheral"}})].filter(e=>e.waktu).sort((e,t)=>new Date(t.waktu)-new Date(e.waktu)).slice(0,5);return h?(0,nu.jsx)("div",{className:"min-h-screen flex items-center justify-center ".concat(t?"dark bg-gray-900":"bg-gray-50"),children:(0,nu.jsxs)("div",{className:"text-center",children:[(0,nu.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto"}),(0,nu.jsx)("p",{className:"mt-4 text-gray-600 dark:text-gray-300",children:"Memuat data..."})]})}):(0,nu.jsxs)("div",{className:"min-h-screen transition-colors duration-300 ".concat(t?"dark bg-gray-900 text-white":"bg-gray-50 text-gray-900"),children:[(0,nu.jsx)("div",{className:"px-6 py-4 ".concat(t?"bg-gray-800":"bg-white"," shadow-md"),children:(0,nu.jsxs)("div",{className:"flex items-center justify-between",children:[(0,nu.jsxs)("div",{children:[(0,nu.jsx)("h1",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:"IT Asset Dashboard"}),(0,nu.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Manajemen aset TI terintegrasi"})]}),(0,nu.jsx)("div",{className:"flex items-center space-x-4",children:(0,nu.jsx)("div",{className:"px-3 py-1 rounded-full text-xs ".concat(t?"bg-gray-700":"bg-gray-100"),children:(new Date).toLocaleDateString("id-ID",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})})]})}),(0,nu.jsxs)("div",{className:"container mx-auto px-4 py-6",children:[(0,nu.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4 mb-8",children:[(0,nu.jsx)(Zu,{title:"Total Devices",value:p.totalDevices,icon:(0,nu.jsx)(Lu,{className:"text-blue-500"}),color:"blue",darkMode:t}),(0,nu.jsx)(Zu,{title:"Total Peripheral",value:p.totalPeripherals,icon:(0,nu.jsx)(Ku,{className:"text-green-500"}),color:"green",darkMode:t}),(0,nu.jsx)(Zu,{title:"Total Licenses",value:p.totalLicenses,icon:(0,nu.jsx)(Bu,{className:"text-purple-500"}),color:"purple",darkMode:t}),(0,nu.jsx)(Zu,{title:"Perbaikan",value:p.devicesNeedingRepair,icon:(0,nu.jsx)(qu,{className:"text-orange-500"}),color:"orange",darkMode:t}),(0,nu.jsx)(Zu,{title:"Stok Habis",value:p.zeroStockItems,icon:(0,nu.jsx)(Ru,{className:"text-red-500"}),color:"red",darkMode:t}),(0,nu.jsx)(Zu,{title:"License Warning",value:p.licenseWarnings,icon:(0,nu.jsx)(Uu,{className:"text-yellow-500"}),color:"yellow",darkMode:t})]}),(0,nu.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,nu.jsxs)("div",{className:"space-y-6",children:[(0,nu.jsxs)("div",{className:"rounded-xl p-6 shadow-lg ".concat(t?"bg-gray-800":"bg-white"),children:[(0,nu.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,nu.jsxs)("h2",{className:"text-lg font-semibold flex items-center",children:[(0,nu.jsx)(Du,{className:"mr-2 text-blue-500"}),"Status Perangkat"]}),(0,nu.jsxs)("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[o.length," perangkat"]})]}),(0,nu.jsxs)("div",{className:"flex flex-col md:flex-row items-center",children:[(0,nu.jsx)(rd,{pieData:_}),(0,nu.jsx)("div",{className:"mt-4 md:mt-0 md:ml-6 w-full space-y-3",children:_.map(e=>(0,nu.jsxs)("div",{className:"flex items-center justify-between p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700",children:[(0,nu.jsxs)("div",{className:"flex items-center",children:[(0,nu.jsx)("span",{className:"text-lg mr-3",children:e.icon}),(0,nu.jsx)("span",{className:"text-sm",children:e.name})]}),(0,nu.jsxs)("div",{className:"flex items-center",children:[(0,nu.jsx)("span",{className:"text-sm font-medium mr-2",children:e.value}),(0,nu.jsxs)("span",{className:"px-2 py-1 rounded-full text-xs ".concat(t?"bg-gray-700":"bg-gray-100"),children:[Math.round(e.value/o.length*100),"%"]})]})]},e.key))})]})]}),(0,nu.jsxs)("div",{className:"rounded-xl p-6 shadow-lg ".concat(t?"bg-gray-800":"bg-white"),children:[(0,nu.jsxs)("div",{className:"flex items-center gap-2 mb-6",children:[(0,nu.jsx)(zu,{className:"text-blue-500"}),(0,nu.jsx)("h2",{className:"text-lg font-semibold",children:"Aktivitas Terakhir"})]}),(0,nu.jsx)("div",{className:"space-y-4",children:0===E.length?(0,nu.jsx)("p",{className:"text-gray-500 dark:text-gray-400 text-center py-4",children:"Belum ada aktivitas"}):E.map((e,t)=>(0,nu.jsxs)("div",{className:"flex items-start p-3 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700",children:[(0,nu.jsx)("div",{className:"flex-shrink-0 pt-1",children:(0,nu.jsx)("div",{className:"h-3 w-3 rounded-full ".concat("device"===e.type?"bg-blue-500":"bg-green-500")})}),(0,nu.jsxs)("div",{className:"ml-4 flex-1",children:[(0,nu.jsx)("p",{className:"text-sm font-medium",children:e.text}),(0,nu.jsx)("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:e.waktu?new Date(e.waktu).toLocaleString("id-ID"):"Waktu tidak tersedia"})]})]},t))})]})]}),(0,nu.jsxs)("div",{className:"space-y-6",children:[(0,nu.jsxs)("div",{className:"rounded-xl p-6 shadow-lg ".concat(t?"bg-gray-800":"bg-white"),children:[(0,nu.jsxs)("div",{className:"flex items-center gap-2 mb-6",children:[(0,nu.jsx)(Nu,{className:"text-yellow-500"}),(0,nu.jsx)("h2",{className:"text-lg font-semibold",children:"Notifikasi"}),(x||k||w)&&(0,nu.jsx)("span",{className:"px-2 py-1 bg-red-500 text-white text-xs rounded-full",children:[x,k,w].filter(Boolean).length})]}),(0,nu.jsxs)("div",{className:"space-y-4",children:[x&&(0,nu.jsx)(ed,{type:"warning",title:"Device perlu perbaikan",content:x,darkMode:t}),k&&(0,nu.jsx)(ed,{type:"danger",title:"License hampir habis",content:k,darkMode:t}),w&&(0,nu.jsx)(ed,{type:"info",title:"Peripheral stok habis",content:w,darkMode:t}),!x&&!k&&!w&&(0,nu.jsxs)("div",{className:"text-center py-8",children:[(0,nu.jsx)("div",{className:"text-4xl mb-2",children:"\ud83c\udf89"}),(0,nu.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"Tidak ada notifikasi"}),(0,nu.jsx)("p",{className:"text-sm text-gray-400 dark:text-gray-500",children:"Semua sistem berjalan normal"})]})]})]}),(0,nu.jsxs)("div",{className:"rounded-xl p-6 shadow-lg ".concat(t?"bg-gray-800":"bg-white"),children:[(0,nu.jsx)("h2",{className:"text-lg font-semibold mb-6",children:"Akses Cepat"}),(0,nu.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,nu.jsx)(td,{title:"Devices",icon:(0,nu.jsx)(Lu,{}),onClick:()=>a("/devices"),color:"blue",darkMode:t}),(0,nu.jsx)(td,{title:"Peripheral",icon:(0,nu.jsx)(Ku,{}),onClick:()=>a("/peripheral"),color:"green",darkMode:t}),(0,nu.jsx)(td,{title:"Licenses",icon:(0,nu.jsx)(Bu,{}),onClick:()=>a("/licenses"),color:"purple",darkMode:t}),(0,nu.jsx)(td,{title:"Helpdesk",icon:(0,nu.jsx)(qu,{}),onClick:()=>a("/helpdesk/entry"),color:"orange",darkMode:t})]})]})]})]})]})]})}function Zu(e){let{title:t,value:r,icon:n,color:i,darkMode:a}=e;const o={blue:{bg:"bg-blue-100",text:"text-blue-600",darkBg:"bg-blue-900/20",darkText:"text-blue-400"},green:{bg:"bg-green-100",text:"text-green-600",darkBg:"bg-green-900/20",darkText:"text-green-400"},purple:{bg:"bg-purple-100",text:"text-purple-600",darkBg:"bg-purple-900/20",darkText:"text-purple-400"},orange:{bg:"bg-orange-100",text:"text-orange-600",darkBg:"bg-orange-900/20",darkText:"text-orange-400"},red:{bg:"bg-red-100",text:"text-red-600",darkBg:"bg-red-900/20",darkText:"text-red-400"},yellow:{bg:"bg-yellow-100",text:"text-yellow-600",darkBg:"bg-yellow-900/20",darkText:"text-yellow-400"}};return(0,nu.jsx)("div",{className:"p-4 rounded-xl shadow-sm ".concat(a?"bg-gray-800 hover:bg-gray-750 ".concat(o[i].darkBg):"bg-white hover:bg-gray-50 ".concat(o[i].bg)," transition-colors duration-200"),children:(0,nu.jsxs)("div",{className:"flex items-center justify-between",children:[(0,nu.jsxs)("div",{children:[(0,nu.jsx)("p",{className:"text-sm font-medium ".concat(a?"text-gray-400":"text-gray-600"),children:t}),(0,nu.jsx)("p",{className:"text-2xl font-bold ".concat(a?o[i].darkText:o[i].text),children:r})]}),(0,nu.jsx)("div",{className:"p-3 rounded-full ".concat(a?"bg-gray-700":"bg-white"),children:n})]})})}function ed(e){let{type:t,title:r,content:n,darkMode:i}=e;const a={warning:{icon:"\ud83d\udfe0",bg:i?"bg-orange-900/20":"bg-orange-50",border:i?"border-orange-700":"border-orange-200",text:i?"text-orange-300":"text-orange-800"},danger:{icon:"\ud83d\udd34",bg:i?"bg-red-900/20":"bg-red-50",border:i?"border-red-700":"border-red-200",text:i?"text-red-300":"text-red-800"},info:{icon:"\ud83d\udd35",bg:i?"bg-blue-900/20":"bg-blue-50",border:i?"border-blue-700":"border-blue-200",text:i?"text-blue-300":"text-blue-800"}};return(0,nu.jsx)("div",{className:"p-4 rounded-lg border ".concat(a[t].bg," ").concat(a[t].border),children:(0,nu.jsxs)("div",{className:"flex items-start",children:[(0,nu.jsx)("span",{className:"text-xl mr-3",children:a[t].icon}),(0,nu.jsxs)("div",{className:"flex-1",children:[(0,nu.jsx)("p",{className:"font-medium ".concat(a[t].text),children:r}),(0,nu.jsx)("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-300",children:n})]})]})})}function td(e){let{title:t,icon:r,onClick:n,color:i,darkMode:a}=e;const o={blue:{bg:"bg-blue-500",hover:"hover:bg-blue-600"},green:{bg:"bg-green-500",hover:"hover:bg-green-600"},purple:{bg:"bg-purple-500",hover:"hover:bg-purple-600"},orange:{bg:"bg-orange-500",hover:"hover:bg-orange-600"}};return(0,nu.jsxs)("button",{onClick:n,className:"p-4 rounded-xl text-white ".concat(o[i].bg," ").concat(o[i].hover," transition-colors duration-200 flex flex-col items-center justify-center"),children:[(0,nu.jsx)("div",{className:"text-2xl mb-2",children:r}),(0,nu.jsx)("span",{className:"text-sm font-medium",children:t})]})}function rd(e){let{pieData:t}=e;const r=t.reduce((e,t)=>e+t.value,0)||1;let n=0;const i=50;return(0,nu.jsxs)("svg",{width:120,height:120,viewBox:"0 0 120 120",className:"flex-shrink-0",children:[t.map((e,t)=>{if(0===e.value)return null;const a=e.value/r,o=n,s=n+a;n=s;const l=60+i*Math.cos(2*Math.PI*o-Math.PI/2),c=60+i*Math.sin(2*Math.PI*o-Math.PI/2),u=60+i*Math.cos(2*Math.PI*s-Math.PI/2),d=60+i*Math.sin(2*Math.PI*s-Math.PI/2),h=a>.5?1:0,f="M".concat(60,",").concat(60," L").concat(l,",").concat(c," A").concat(i,",").concat(i," 0 ").concat(h,",1 ").concat(u,",").concat(d," Z");return(0,nu.jsx)("path",{d:f,fill:e.color,stroke:"#fff",strokeWidth:2},t)}),(0,nu.jsx)("circle",{cx:60,cy:60,r:i,fill:"none",stroke:"#e5e7eb",strokeWidth:2}),(0,nu.jsx)("text",{x:60,y:60,textAnchor:"middle",dominantBaseline:"middle",fontSize:"14",fontWeight:"bold",fill:"currentColor",children:r})]})}const nd="waskitainfra.sharepoint.com,32252c41-8aed-4ed2-ba35-b6e2731b0d4a,fb2ae80c-1283-4942-a3e8-0d47e8d004fb",id="95880dbf-54dc-4bbb-a438-d6519941a409",ad="https://waskitainfra.sharepoint.com/sites/ITHELPDESK",od=["Sites.ReadWrite.All"],sd=["https://waskitainfra.sharepoint.com/.default"],ld="DevicePhoto";function cd(){var e,t,n,i,a,o,s,l,c;const{instance:u,accounts:d}=(0,Ne.dk)(),{dark:h}=(0,ou.D)(),[f,p]=(0,r.useState)([]),[g,m]=(0,r.useState)(!1),[v,y]=(0,r.useState)(null),[b,_]=(0,r.useState)({}),[x,w]=(0,r.useState)(""),[k,E]=(0,r.useState)({Status:"",Model:"",Divisi:""}),[C,A]=(0,r.useState)({open:!1,mode:"",data:{}}),[T,S]=(0,r.useState)(null),[O,P]=(0,r.useState)(""),I=(0,r.useRef)(null),j=(0,r.useMemo)(()=>[{name:"Foto",key:"Foto_x0020_Peralang"},{name:"Title",key:"Title"},{name:"Status",key:"Status"},{name:"Tipe",key:"Model"},{name:"Pabrikan",key:"Manufacturer"},{name:"Nomor Serial",key:"SerialNumber"},{name:"Pengguna",key:"CurrentOwnerLookupId"},{name:"Departemen",key:"Divisi"},{name:"Antivirus",key:"AntiVirus"}],[]);async function M(){m(!0);try{const e=d[0],t=await u.acquireTokenSilent({scopes:od,account:e}),r=await fetch("https://graph.microsoft.com/v1.0/sites/".concat(nd,"/lists/").concat(id,"/items?expand=fields"),{headers:{Authorization:"Bearer ".concat(t.accessToken)}}),n=await r.json();p(n.value||[]),y(null)}catch(e){w("Gagal mengambil data: "+e.message),console.error(e)}finally{m(!1)}}function N(e){const t=new Set;return f.forEach(r=>{var n;const i=null===(n=r.fields)||void 0===n?void 0:n[e];i&&t.add(i)}),Array.from(t).sort()}function R(){return f.filter(e=>{var t,r,n;return(!k.Status||(null===(t=e.fields)||void 0===t?void 0:t.Status)===k.Status)&&((!k.Model||(null===(r=e.fields)||void 0===r?void 0:r.Model)===k.Model)&&(!k.Divisi||(null===(n=e.fields)||void 0===n?void 0:n.Divisi)===k.Divisi))})}function D(e){let t="";try{var r;let n=null===e||void 0===e?void 0:e[ld];"string"===typeof n&&(n=JSON.parse(n)),e.Attachments&&null!==(r=n)&&void 0!==r&&r.fileName&&e.id&&(t="".concat(ad,"/Lists/Devices/Attachments/").concat(e.id,"/").concat(n.fileName))}catch(n){t=""}return t}function L(e){const t=D(e);return(0,nu.jsx)("div",{className:"w-14 h-14 bg-gray-200 dark:bg-gray-700 flex items-center justify-center overflow-hidden rounded shadow",children:t?(0,nu.jsx)("img",{src:t,alt:"Device",className:"w-full h-full object-cover"}):(0,nu.jsx)("span",{className:"text-gray-400 dark:text-gray-500",children:"\u2014"})})}function U(e){const t=null===e||void 0===e?void 0:e.CurrentOwnerLookupId;return t?b[t]||t:""}(0,r.useEffect)(()=>{d.length>0&&M()},[d.length]),(0,r.useEffect)(()=>{if(!f||0===f.length)return;const e=Array.from(new Set(f.map(e=>{var t;return null===e||void 0===e||null===(t=e.fields)||void 0===t?void 0:t.CurrentOwnerLookupId}).filter(e=>null!=e)));if(0===e.length)return;let t=!0;return(async()=>{try{const a=d[0],o=await u.acquireTokenSilent({scopes:sd,account:a}),s=(0,Re.A)({},b);for(const t of e)if(!s[t])try{const e=await fetch("".concat(ad,"/_api/web/getuserbyid(").concat(t,")"),{headers:{Authorization:"Bearer ".concat(o.accessToken),Accept:"application/json;odata=verbose"}}),i=await e.text();if(e.ok){var r,n;const e=JSON.parse(i);s[t]=(null===e||void 0===e||null===(r=e.d)||void 0===r?void 0:r.Title)||(null===e||void 0===e||null===(n=e.d)||void 0===n?void 0:n.Email)||String(t)}else s[t]=String(t)}catch(i){s[t]=String(t)}t&&_(s)}catch(QU){console.warn("getuserbyid failed",QU)}})(),()=>{t=!1}},[f]);const B=e=>String(null!==e&&void 0!==e?e:"").replaceAll("&","&amp;").replaceAll("<","&lt;").replaceAll(">","&gt;");function z(){const e=arguments.length>0&&void 0!==arguments[0]&&arguments[0]?f:R();if(!e||0===e.length)return void alert("Tidak ada data untuk dicetak.");const t=function(e){const t=(new Date).toLocaleString(),r=j.map(e=>"<th>".concat(B(e.name),"</th>")).join(""),n=e.map(e=>{const t=e.fields||{},r=D(t)?'<img src="'.concat(D(t),'" alt="foto" />'):"\u2014",n=t.AntiVirus?"\u2714":"",i=t.CurrentOwnerLookupId?B(b[t.CurrentOwnerLookupId]||t.CurrentOwnerLookupId):"",a=[r,B(t.Title),B(t.Status),B(t.Model),B(t.Manufacturer),B(t.SerialNumber),i,B(t.Divisi),n].map((e,t)=>0===t?'<td class="center">'.concat(e,"</td>"):"<td>".concat(e,"</td>")).join("");return"<tr>".concat(a,"</tr>")}).join("");return"\n      <!doctype html>\n      <html>\n        <head>".concat('\n      <meta charset="utf-8" />\n      <title>Devices \u2014 Print</title>\n      <style>\n        /* Kertas & margin */\n        @page { size: A4 landscape; margin: 12mm; }\n        html, body { color:#000; font: 12px system-ui,-apple-system,Segoe UI,Roboto,sans-serif; -webkit-print-color-adjust: exact; print-color-adjust: exact; }\n        h1 { font-size: 18px; margin: 0 0 6px; }\n        .meta { font-size: 11px; margin: 0 0 12px; color:#555; }\n\n        /* Tabel dan border tebal */\n        table { width: 100%; border-collapse: collapse; border: 1.5pt solid #000; }\n        thead th { background: #f0f6ff; text-align: left; border: 1.2pt solid #000; }\n        th, td { padding: 6px 8px; vertical-align: top; }\n        tbody td { border: 0.9pt solid #000; }\n        tr { page-break-inside: avoid; }\n        thead { display: table-header-group; }\n        tfoot { display: table-row-group; }\n\n        td img { height: 48px; width: 64px; object-fit: cover; border-radius: 6px; border: 0.9pt solid #000; }\n        .center { text-align: center; }\n      </style>\n    ','</head>\n        <body>\n          <h1>Devices</h1>\n          <div class="meta">\n            Total baris: ').concat(e.length," &nbsp;|&nbsp; Dicetak: ").concat(B(t),"\n          </div>\n          <table>\n            <thead><tr>").concat(r,"</tr></thead>\n            <tbody>").concat(n,"</tbody>\n          </table>\n          <script>\n            window.onload = function() {\n              window.focus();\n              window.print();\n              setTimeout(() => window.close(), 300);\n            };\n          <\/script>\n        </body>\n      </html>\n    ")}(e),r=window.open("","_blank","noopener,noreferrer");r?(r.document.open(),r.document.write(t),r.document.close()):alert("Popup diblokir. Izinkan pop-up untuk mencetak.")}async function K(e,t){const r=d[0],n=await u.acquireTokenSilent({scopes:sd,account:r}),i=t.name,a=await t.arrayBuffer(),o="".concat(ad,"/_api/web/lists(guid'").concat(id,"')/items(").concat(e,")/AttachmentFiles/add(FileName='").concat(encodeURIComponent(i),"')"),s=await fetch(o,{method:"POST",headers:{Authorization:"Bearer ".concat(n.accessToken),Accept:"application/json;odata=verbose","Content-Type":"application/octet-stream"},body:a}),l=await s.text();if(!s.ok)throw console.error("Upload error:",l),new Error("Gagal upload lampiran");return{fileName:i}}async function q(e,t){if(null===t||void 0===t||!t.fileName)return;const r=d[0],n=await u.acquireTokenSilent({scopes:od,account:r}),i={[ld]:JSON.stringify({fileName:t.fileName})},a=await fetch("https://graph.microsoft.com/v1.0/sites/".concat(nd,"/lists/").concat(id,"/items/").concat(e,"/fields"),{method:"PATCH",headers:{Authorization:"Bearer ".concat(n.accessToken),"Content-Type":"application/json"},body:JSON.stringify(i)});if(!a.ok){const e=await a.text();console.warn("Set photo field failed:",e)}}function F(){S(null),O&&URL.revokeObjectURL(O),P(""),I.current&&(I.current.value="")}function H(){F()}return(0,nu.jsxs)("div",{className:"min-h-screen py-8 px-4 ml-64 transition-colors duration-300 ".concat(h?"bg-gray-900 text-white":"bg-gradient-to-br from-blue-50 to-indigo-100 text-gray-800"),children:[x&&(0,nu.jsx)("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-50 px-6 py-3 rounded-lg shadow-lg font-semibold transition-opacity duration-300 cursor-pointer ".concat(h?"bg-green-700":"bg-green-600"," text-white"),onClick:()=>w(""),children:x}),C.open&&(0,nu.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-black/60 z-50 p-4",children:(0,nu.jsxs)("div",{className:"rounded-xl p-6 w-full max-w-2xl shadow-2xl relative max-h-[90vh] overflow-y-auto ".concat(h?"bg-gray-800 text-white":"bg-white text-gray-800"),children:[(0,nu.jsx)("button",{onClick:()=>{A({open:!1,mode:"",data:{}}),H()},className:"absolute right-4 top-4 text-gray-500 hover:text-gray-700 text-xl",type:"button",children:(0,nu.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,nu.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),(0,nu.jsxs)("h3",{className:"text-2xl font-bold mb-6",children:["edit"===C.mode?"Edit":"Tambah"," Device"]}),(0,nu.jsxs)("form",{onSubmit:async function(e){if(e.preventDefault(),!g){m(!0);try{const n=function(e){const t=new FormData(e),r=["Title","Status","Model","Manufacturer","SerialNumber","CurrentOwnerLookupId","Divisi","AntiVirus"],n={};for(const i of r)t.has(i)&&(n[i]=t.get(i));if(n.AntiVirus=t.has("AntiVirus"),n.CurrentOwnerLookupId){const e=parseInt(n.CurrentOwnerLookupId,10);if(!Number.isFinite(e))throw new Error("Pengguna harus angka (SharePoint User ID).");n.CurrentOwnerLookupId=e}else delete n.CurrentOwnerLookupId;return Object.keys(n).forEach(e=>{""!==n[e]&&null!=n[e]||delete n[e]}),n}(e.currentTarget),i=d[0],a=await u.acquireTokenSilent({scopes:od,account:i}),o=async e=>{let t="HTTP ".concat(e.status);try{var r;const n=await e.text(),i=JSON.parse(n);console.log("Graph error detail:",i),t=(null===i||void 0===i||null===(r=i.error)||void 0===r?void 0:r.message)||t}catch(n){}return t};if("create"===C.mode){var t,r;const e=await fetch("https://graph.microsoft.com/v1.0/sites/".concat(nd,"/lists/").concat(id,"/items"),{method:"POST",headers:{Authorization:"Bearer ".concat(a.accessToken),"Content-Type":"application/json"},body:JSON.stringify({fields:n})});if(!e.ok)throw new Error(await o(e));const i=await e.json(),s=(null===i||void 0===i?void 0:i.id)||(null===i||void 0===i||null===(t=i.value)||void 0===t||null===(r=t[0])||void 0===r?void 0:r.id);if(T&&s){const e=await K(s,T);await q(s,e)}w("Data berhasil ditambahkan!")}else if("edit"===C.mode&&v){const e=await fetch("https://graph.microsoft.com/v1.0/sites/".concat(nd,"/lists/").concat(id,"/items/").concat(v.id),{method:"PATCH",headers:{Authorization:"Bearer ".concat(a.accessToken),"Content-Type":"application/json"},body:JSON.stringify({fields:n})});if(!e.ok)throw new Error(await o(e));if(T){const e=await K(v.id,T);await q(v.id,e)}w("Data berhasil diedit!")}A({open:!1,mode:"",data:{}}),H(),await M()}catch(n){console.error(n),w("Gagal simpan: "+n.message)}finally{m(!1)}}},className:"space-y-6",children:[(0,nu.jsxs)("div",{children:[(0,nu.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Foto Perangkat"}),(0,nu.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,nu.jsxs)("label",{className:"flex flex-col items-center justify-center w-32 h-32 border-2 border-dashed rounded-lg cursor-pointer transition-colors ".concat(h?"border-gray-600 hover:border-blue-500":"border-gray-300 hover:border-blue-500"),children:[(0,nu.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,nu.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),(0,nu.jsx)("span",{className:"mt-2 text-sm text-gray-500",children:"Upload foto"}),(0,nu.jsx)("input",{ref:I,type:"file",accept:"image/*",onChange:function(e){var t;const r=null===(t=e.target.files)||void 0===t?void 0:t[0];if(r){S(r);const e=URL.createObjectURL(r);P(e)}},className:"hidden"})]}),O?(0,nu.jsxs)("div",{className:"relative",children:[(0,nu.jsx)("img",{src:O,alt:"preview",className:"h-32 w-32 object-cover rounded-lg border shadow"}),(0,nu.jsx)("button",{type:"button",onClick:F,className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 shadow-md hover:bg-red-600",children:(0,nu.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,nu.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}):null!==(e=C.data)&&void 0!==e&&e[ld]?(0,nu.jsx)(ud,{meta:C.data[ld],fields:C.data}):null]})]}),(0,nu.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,nu.jsxs)("div",{children:[(0,nu.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Nama Perangkat*"}),(0,nu.jsx)("input",{name:"Title",defaultValue:(null===(t=C.data)||void 0===t?void 0:t.Title)||"",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition ".concat(h?"bg-gray-700 border-gray-600 text-white":"border-gray-300 text-gray-800"),required:!0,autoFocus:!0,placeholder:"Contoh: Laptop Dell XPS 13"})]}),(0,nu.jsxs)("div",{children:[(0,nu.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Tipe Perangkat"}),(0,nu.jsx)("input",{name:"Model",defaultValue:(null===(n=C.data)||void 0===n?void 0:n.Model)||"",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition ".concat(h?"bg-gray-700 border-gray-600 text-white":"border-gray-300 text-gray-800"),placeholder:"PERSONAL COMPUTER (PC)"})]}),(0,nu.jsxs)("div",{children:[(0,nu.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Status"}),(0,nu.jsxs)("select",{name:"Status",defaultValue:(null===(i=C.data)||void 0===i?void 0:i.Status)||"",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition ".concat(h?"bg-gray-700 border-gray-600 text-white":"border-gray-300 text-gray-800"),children:[(0,nu.jsx)("option",{value:"",children:"Pilih Status"}),N("Status").map(e=>(0,nu.jsx)("option",{value:e,children:e},e)),["TERSEDIA","DIPAKAI","PERBAIKAN"].map(e=>(0,nu.jsx)("option",{value:e,children:e},"s-".concat(e)))]})]}),(0,nu.jsxs)("div",{children:[(0,nu.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Pabrikan"}),(0,nu.jsxs)("select",{name:"Manufacturer",defaultValue:(null===(a=C.data)||void 0===a?void 0:a.Manufacturer)||"",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition ".concat(h?"bg-gray-700 border-gray-600 text-white":"border-gray-300 text-gray-800"),children:[(0,nu.jsx)("option",{value:"",children:"Pilih Pabrikan"}),N("Manufacturer").map(e=>(0,nu.jsx)("option",{value:e,children:e},e)),["DELL","HP","LENOVO","ASUS","ACER","SAMSUNG"].map(e=>(0,nu.jsx)("option",{value:e,children:e},"m-".concat(e)))]})]}),(0,nu.jsxs)("div",{children:[(0,nu.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Nomor Serial"}),(0,nu.jsx)("input",{name:"SerialNumber",defaultValue:(null===(o=C.data)||void 0===o?void 0:o.SerialNumber)||"",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition ".concat(h?"bg-gray-700 border-gray-600 text-white":"border-gray-300 text-gray-800"),placeholder:"Masukkan nomor serial perangkat"})]}),(0,nu.jsxs)("div",{children:[(0,nu.jsx)("label",{className:"block text-sm font-medium mb-1",children:"ID Pengguna"}),(0,nu.jsx)("input",{name:"CurrentOwnerLookupId",defaultValue:null!==(s=C.data)&&void 0!==s&&s.CurrentOwnerLookupId?String(C.data.CurrentOwnerLookupId):"",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition ".concat(h?"bg-gray-700 border-gray-600 text-white":"border-gray-300 text-gray-800"),placeholder:"ID user (angka) untuk lookup"})]}),(0,nu.jsxs)("div",{children:[(0,nu.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Departemen"}),(0,nu.jsxs)("select",{name:"Divisi",defaultValue:(null===(l=C.data)||void 0===l?void 0:l.Divisi)||"",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition ".concat(h?"bg-gray-700 border-gray-600 text-white":"border-gray-300 text-gray-800"),children:[(0,nu.jsx)("option",{value:"",children:"Pilih Departemen"}),N("Divisi").map(e=>(0,nu.jsx)("option",{value:e,children:e},e))]})]}),(0,nu.jsxs)("div",{className:"flex items-center mt-6",children:[(0,nu.jsx)("div",{className:"flex items-center h-5",children:(0,nu.jsx)("input",{name:"AntiVirus",type:"checkbox",defaultChecked:!(null===(c=C.data)||void 0===c||!c.AntiVirus),className:"h-5 w-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),(0,nu.jsx)("div",{className:"ml-3 text-sm",children:(0,nu.jsx)("label",{className:"font-medium",children:"Antivirus Terpasang"})})]})]}),(0,nu.jsxs)("div",{className:"flex gap-3 mt-8 justify-end",children:[(0,nu.jsx)("button",{type:"button",className:"px-5 py-2.5 rounded-lg font-medium hover:bg-gray-300 transition ".concat(h?"bg-gray-600 text-white hover:bg-gray-700":"bg-gray-200 text-gray-700"),onClick:()=>{A({open:!1,mode:"",data:{}}),H()},children:"Batal"}),(0,nu.jsx)("button",{type:"submit",className:"px-6 py-2.5 rounded-lg bg-blue-600 text-white font-medium hover:bg-blue-700 transition disabled:opacity-60 flex items-center",disabled:g,children:g?(0,nu.jsxs)(nu.Fragment,{children:[(0,nu.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,nu.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,nu.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Menyimpan..."]}):"edit"===C.mode?"Simpan Perubahan":"Tambah Device"})]})]})]})}),(0,nu.jsx)("div",{className:"max-w-7xl mx-auto w-full",children:(0,nu.jsxs)("div",{className:"rounded-xl shadow-lg p-6 md:p-8 ".concat(h?"bg-gray-800":"bg-white"),children:[(0,nu.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-8 gap-4",children:[(0,nu.jsxs)("div",{children:[(0,nu.jsx)("h1",{className:"text-3xl font-bold ".concat(h?"text-white":"text-gray-800"),children:"Manajemen Perangkat"}),(0,nu.jsx)("p",{className:"mt-1 ".concat(h?"text-gray-300":"text-gray-600"),children:"Kelola data perangkat IT perusahaan"})]}),(0,nu.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,nu.jsxs)("button",{className:"px-4 py-2.5 rounded-lg font-medium transition flex items-center ".concat(h?"bg-gray-700 text-white hover:bg-gray-600":"border border-gray-300 text-gray-700 hover:bg-gray-50"),onClick:()=>z(!1),children:[(0,nu.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,nu.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m4 4h6a2 2 0 002-2v-4a2 2 0 00-2-2h-6a2 2 0 00-2 2v4a2 2 0 002 2z"})}),"Cetak (Filter)"]}),(0,nu.jsxs)("button",{className:"px-4 py-2.5 rounded-lg bg-indigo-600 text-white font-medium hover:bg-indigo-700 transition flex items-center",onClick:()=>z(!0),children:[(0,nu.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,nu.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m4 4h6a2 2 0 002-2v-4a2 2 0 00-2-2h-6a2 2 0 00-2 2v4a2 2 0 002 2z"})}),"Cetak (Semua)"]})]})]}),(0,nu.jsxs)("div",{className:"flex flex-wrap items-center gap-4 mb-6",children:[(0,nu.jsxs)("div",{className:"flex flex-col",children:[(0,nu.jsx)("label",{className:"text-sm font-medium mb-1 ".concat(h?"text-gray-300":"text-gray-700"),children:"Status"}),(0,nu.jsxs)("select",{className:"px-4 py-2 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition ".concat(h?"bg-gray-700 border-gray-600 text-white":"border-gray-300 text-gray-800"),value:k.Status,onChange:e=>E(t=>(0,Re.A)((0,Re.A)({},t),{},{Status:e.target.value})),children:[(0,nu.jsx)("option",{value:"",children:"Semua Status"}),N("Status").map(e=>(0,nu.jsx)("option",{value:e,children:e},e))]})]}),(0,nu.jsxs)("div",{className:"flex flex-col",children:[(0,nu.jsx)("label",{className:"text-sm font-medium mb-1 ".concat(h?"text-gray-300":"text-gray-700"),children:"Tipe"}),(0,nu.jsxs)("select",{className:"px-4 py-2 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition ".concat(h?"bg-gray-700 border-gray-600 text-white":"border-gray-300 text-gray-800"),value:k.Model,onChange:e=>E(t=>(0,Re.A)((0,Re.A)({},t),{},{Model:e.target.value})),children:[(0,nu.jsx)("option",{value:"",children:"Semua Tipe"}),N("Model").map(e=>(0,nu.jsx)("option",{value:e,children:e},e))]})]}),(0,nu.jsxs)("div",{className:"flex flex-col",children:[(0,nu.jsx)("label",{className:"text-sm font-medium mb-1 ".concat(h?"text-gray-300":"text-gray-700"),children:"Departemen"}),(0,nu.jsxs)("select",{className:"px-4 py-2 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition ".concat(h?"bg-gray-700 border-gray-600 text-white":"border-gray-300 text-gray-800"),value:k.Divisi,onChange:e=>E(t=>(0,Re.A)((0,Re.A)({},t),{},{Divisi:e.target.value})),children:[(0,nu.jsx)("option",{value:"",children:"Semua Departemen"}),N("Divisi").map(e=>(0,nu.jsx)("option",{value:e,children:e},e))]})]}),(0,nu.jsxs)("div",{className:"flex items-end gap-3",children:[(0,nu.jsx)("button",{className:"px-4 py-2.5 rounded-lg bg-blue-600 hover:bg-blue-700 text-white font-medium transition flex items-center",onClick:M,disabled:g,children:g?(0,nu.jsxs)(nu.Fragment,{children:[(0,nu.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,nu.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,nu.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Memuat..."]}):(0,nu.jsxs)(nu.Fragment,{children:[(0,nu.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,nu.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh"]})}),(0,nu.jsxs)("button",{className:"px-5 py-2.5 rounded-lg bg-green-600 hover:bg-green-700 text-white font-medium transition flex items-center",onClick:function(){H(),A({open:!0,mode:"create",data:{}})},children:[(0,nu.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,nu.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Tambah Data"]})]})]}),(0,nu.jsx)("div",{className:"overflow-x-auto rounded-lg shadow border border-gray-200 dark:border-gray-700",children:(0,nu.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[(0,nu.jsx)("thead",{className:"".concat(h?"bg-gray-700":"bg-gray-50"),children:(0,nu.jsxs)("tr",{children:[j.map(e=>(0,nu.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ".concat(h?"text-gray-300":"text-gray-500"),children:e.name},e.key)),(0,nu.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider ".concat(h?"text-gray-300":"text-gray-500"),children:"Aksi"})]})}),(0,nu.jsx)("tbody",{className:"divide-y ".concat(h?"divide-gray-700 bg-gray-800":"divide-gray-200 bg-white"),children:g?(0,nu.jsx)("tr",{children:(0,nu.jsxs)("td",{colSpan:j.length+1,className:"px-6 py-12 text-center text-gray-500 dark:text-gray-400",children:[(0,nu.jsx)("div",{className:"flex justify-center items-center",children:(0,nu.jsxs)("svg",{className:"animate-spin h-8 w-8 text-blue-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,nu.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,nu.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),(0,nu.jsx)("p",{className:"mt-2",children:"Memuat data perangkat..."})]})}):0===R().length?(0,nu.jsx)("tr",{children:(0,nu.jsxs)("td",{colSpan:j.length+1,className:"px-6 py-12 text-center text-gray-500 dark:text-gray-400",children:[(0,nu.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 mx-auto text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,nu.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,nu.jsx)("p",{className:"mt-2 text-lg font-medium",children:"Data tidak ditemukan"}),(0,nu.jsx)("p",{className:"mt-1",children:"Coba ubah filter atau tambah data baru"})]})}):R().map((e,t)=>{var r,n,i,a,o,s,l,c,f,p,g,b,_,x,k,E;return(0,nu.jsxs)("tr",{className:"hover:".concat(h?"bg-gray-700":"bg-gray-50"," cursor-pointer ").concat(v&&v.id===e.id?h?"bg-blue-900":"bg-blue-50":""),onClick:()=>y(e),children:[(0,nu.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:L(e.fields)}),(0,nu.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium ".concat(h?"text-white":"text-gray-900"),children:null!==(r=null===(n=e.fields)||void 0===n?void 0:n.Title)&&void 0!==r?r:""}),(0,nu.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,nu.jsx)("span",{className:"px-2.5 py-0.5 rounded-full text-xs font-medium ".concat("TERSEDIA"===(null===(i=e.fields)||void 0===i?void 0:i.Status)?"bg-green-100 text-green-800":"DIPAKAI"===(null===(a=e.fields)||void 0===a?void 0:a.Status)?"bg-blue-100 text-blue-800":"PERBAIKAN"===(null===(o=e.fields)||void 0===o?void 0:o.Status)?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"),children:null!==(s=null===(l=e.fields)||void 0===l?void 0:l.Status)&&void 0!==s?s:""})}),(0,nu.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm ".concat(h?"text-gray-300":"text-gray-500"),children:null!==(c=null===(f=e.fields)||void 0===f?void 0:f.Model)&&void 0!==c?c:""}),(0,nu.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm ".concat(h?"text-gray-300":"text-gray-500"),children:null!==(p=null===(g=e.fields)||void 0===g?void 0:g.Manufacturer)&&void 0!==p?p:""}),(0,nu.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm ".concat(h?"text-gray-300":"text-gray-500"),children:null!==(b=null===(_=e.fields)||void 0===_?void 0:_.SerialNumber)&&void 0!==b?b:""}),(0,nu.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm ".concat(h?"text-gray-300":"text-gray-500"),children:U(e.fields)}),(0,nu.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm ".concat(h?"text-gray-300":"text-gray-500"),children:null!==(x=null===(k=e.fields)||void 0===k?void 0:k.Divisi)&&void 0!==x?x:""}),(0,nu.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm ".concat(h?"text-gray-300":"text-gray-500"),children:null!==(E=e.fields)&&void 0!==E&&E.AntiVirus?(0,nu.jsx)("span",{className:"inline-flex items-center justify-center h-6 w-6 rounded-full bg-green-100",children:(0,nu.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-green-600",viewBox:"0 0 20 20",fill:"currentColor",children:(0,nu.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}):(0,nu.jsx)("span",{className:"inline-flex items-center justify-center h-6 w-6 rounded-full bg-gray-100",children:(0,nu.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-gray-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,nu.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})}),(0,nu.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:v&&v.id===e.id?(0,nu.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,nu.jsx)("button",{className:"text-indigo-600 hover:text-indigo-900 px-3 py-1.5 rounded-md transition ".concat(h?"bg-indigo-900 text-indigo-100 hover:bg-indigo-800":"bg-indigo-50 hover:bg-indigo-100"),onClick:e=>{e.stopPropagation(),v&&(H(),A({open:!0,mode:"edit",data:v.fields||{}}))},children:"Edit"}),(0,nu.jsx)("button",{className:"text-red-600 hover:text-red-900 px-3 py-1.5 rounded-md transition ".concat(h?"bg-red-900 text-red-100 hover:bg-red-800":"bg-red-50 hover:bg-red-100"),onClick:e=>{e.stopPropagation(),async function(){var t;if(v&&window.confirm('Yakin hapus device "'.concat((null===(t=v.fields)||void 0===t?void 0:t.Title)||"",'"?'))){m(!0);try{const e=d[0],t=await u.acquireTokenSilent({scopes:od,account:e}),r=await fetch("https://graph.microsoft.com/v1.0/sites/".concat(nd,"/lists/").concat(id,"/items/").concat(v.id),{method:"DELETE",headers:{Authorization:"Bearer ".concat(t.accessToken)}});if(!r.ok){const e=await r.text();throw new Error(e||"HTTP ".concat(r.status))}w("Data berhasil dihapus!"),await M()}catch(e){console.error(e),w("Gagal menghapus data: "+e.message)}finally{m(!1)}}}()},children:"Hapus"})]}):null})]},e.id||t)})})]})}),R().length>0&&!g&&(0,nu.jsxs)("div",{className:"mt-4 text-sm ".concat(h?"text-gray-400":"text-gray-500"),children:["Menampilkan ",R().length," dari ",f.length," perangkat"]})]})})]})}function ud(e){let{meta:t,fields:r}=e;try{var n;let e=t;if("string"===typeof e&&(e=JSON.parse(e)),null!==r&&void 0!==r&&r.id&&null!==(n=e)&&void 0!==n&&n.fileName){const t="".concat(ad,"/Lists/Devices/Attachments/").concat(r.id,"/").concat(e.fileName);return(0,nu.jsxs)("div",{className:"relative",children:[(0,nu.jsx)("img",{src:t,alt:"current",className:"h-32 w-32 object-cover rounded-lg border shadow"}),(0,nu.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-40 flex items-center justify-center rounded-lg opacity-0 hover:opacity-100 transition-opacity",children:(0,nu.jsx)("span",{className:"text-white text-sm font-medium",children:"Foto Saat Ini"})})]})}}catch(i){}return null}const dd=["Directory.Read.All"];function hd(){const{instance:e,accounts:t}=(0,Ne.dk)(),[n,i]=(0,r.useState)([]),[a,o]=(0,r.useState)(!1),[s,l]=(0,r.useState)(""),c=[{title:"License Name",key:"productName"},{title:"Total",key:"enabled"},{title:"Assigned",key:"assigned"},{title:"Available",key:"available"},{title:"Usage",key:"usage"},{title:"Status",key:"status"}];async function u(){o(!0);try{const r=t[0],n=await e.acquireTokenSilent({scopes:dd,account:r}),a=await fetch("https://graph.microsoft.com/v1.0/subscribedSkus",{headers:{Authorization:"Bearer ".concat(n.accessToken)}});let o=(await a.json()).value||[];const s={POWER_BI_PRO:"Power BI Pro",WINDOWS_STORE:"Windows Store",ENTERPRISEPACK:"Office 365 E3",FLOW_FREE:"Power Automate Free",CCIBOTS_PRIVPREV_VIRAL:"Copilot Studio Viral Trial",POWER_BI_STANDARD:"Power BI Standard",Power_Pages_vTrial_for_Makers:"Power Pages vTrial for Makers",STANDARDPACK:"Office 365 E1"},l=o.filter(e=>"WINDOWS_STORE"!==e.skuPartNumber&&e.skuPartNumber).map(e=>{var t,r,n,i,a,o,l,c,u;const d=(null!==(t=null===(r=e.prepaidUnits)||void 0===r?void 0:r.enabled)&&void 0!==t?t:0)-(null!==(n=e.consumedUnits)&&void 0!==n?n:0),h=null!==(i=e.prepaidUnits)&&void 0!==i&&i.enabled?Math.round((null!==(a=e.consumedUnits)&&void 0!==a?a:0)/e.prepaidUnits.enabled*100):0;return{productName:s[e.skuPartNumber]||e.skuPartNumber.replaceAll("_"," "),enabled:null!==(o=null===(l=e.prepaidUnits)||void 0===l?void 0:l.enabled)&&void 0!==o?o:0,assigned:null!==(c=e.consumedUnits)&&void 0!==c?c:0,available:d,usage:h,status:null!==(u=e.capabilityStatus)&&void 0!==u?u:""}});i(l)}catch(r){alert("Failed to fetch data: "+r.message)}o(!1)}(0,r.useEffect)(()=>{t.length>0&&u()},[t.length]);const d=n.filter(e=>c.some(t=>String(e[t.key]).toLowerCase().includes(s.toLowerCase())));return(0,nu.jsxs)("div",{className:"relative min-h-screen flex flex-col items-center py-8 bg-gray-50 dark:bg-gray-900",children:[(0,nu.jsx)("div",{className:"relative z-10 w-full max-w-6xl mb-8",children:(0,nu.jsxs)("div",{className:"bg-gradient-to-r from-blue-600 to-purple-700 rounded-2xl p-8 shadow-xl text-white",children:[(0,nu.jsx)("h1",{className:"text-4xl font-bold mb-2",children:"Microsoft 365 Licenses"}),(0,nu.jsx)("p",{className:"text-blue-100",children:"Manage and monitor your organization's license usage"})]})}),(0,nu.jsx)("div",{className:"relative z-10 w-full max-w-6xl",children:(0,nu.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-lg",children:[(0,nu.jsxs)("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4 mb-6",children:[(0,nu.jsxs)("div",{className:"relative w-full md:w-96",children:[(0,nu.jsx)("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:(0,nu.jsx)("svg",{className:"w-5 h-5 text-gray-500 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,nu.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),(0,nu.jsx)("input",{className:"pl-10 pr-4 py-3 w-full rounded-lg border border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",type:"text",placeholder:"Search licenses...",value:s,onChange:e=>l(e.target.value)})]}),(0,nu.jsx)("button",{className:"flex items-center justify-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-3 rounded-lg transition-colors w-full md:w-auto disabled:opacity-50",onClick:u,disabled:a,children:a?(0,nu.jsxs)(nu.Fragment,{children:[(0,nu.jsxs)("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,nu.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,nu.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading..."]}):(0,nu.jsxs)(nu.Fragment,{children:[(0,nu.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,nu.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh License Data"]})})]}),(0,nu.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[(0,nu.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/30 p-4 rounded-lg border border-blue-100 dark:border-blue-800",children:[(0,nu.jsx)("div",{className:"text-sm text-blue-600 dark:text-blue-400 font-medium",children:"Total Licenses"}),(0,nu.jsx)("div",{className:"text-2xl font-bold text-blue-800 dark:text-blue-200",children:n.reduce((e,t)=>e+t.enabled,0)})]}),(0,nu.jsxs)("div",{className:"bg-green-50 dark:bg-green-900/30 p-4 rounded-lg border border-green-100 dark:border-green-800",children:[(0,nu.jsx)("div",{className:"text-sm text-green-600 dark:text-green-400 font-medium",children:"Assigned"}),(0,nu.jsx)("div",{className:"text-2xl font-bold text-green-800 dark:text-green-200",children:n.reduce((e,t)=>e+t.assigned,0)})]}),(0,nu.jsxs)("div",{className:"bg-amber-50 dark:bg-amber-900/30 p-4 rounded-lg border border-amber-100 dark:border-amber-800",children:[(0,nu.jsx)("div",{className:"text-sm text-amber-600 dark:text-amber-400 font-medium",children:"Available"}),(0,nu.jsx)("div",{className:"text-2xl font-bold text-amber-800 dark:text-amber-200",children:n.reduce((e,t)=>e+t.available,0)})]}),(0,nu.jsxs)("div",{className:"bg-purple-50 dark:bg-purple-900/30 p-4 rounded-lg border border-purple-100 dark:border-purple-800",children:[(0,nu.jsx)("div",{className:"text-sm text-purple-600 dark:text-purple-400 font-medium",children:"License Types"}),(0,nu.jsx)("div",{className:"text-2xl font-bold text-purple-800 dark:text-purple-200",children:n.length})]})]}),(0,nu.jsx)("div",{className:"overflow-x-auto rounded-lg border border-gray-200 dark:border-gray-700",children:(0,nu.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[(0,nu.jsx)("thead",{className:"bg-gray-100 dark:bg-gray-700",children:(0,nu.jsx)("tr",{children:c.map(e=>(0,nu.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 dark:text-gray-300 uppercase tracking-wider",children:e.title},e.key))})}),(0,nu.jsx)("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:a?(0,nu.jsx)("tr",{children:(0,nu.jsx)("td",{colSpan:c.length,className:"px-6 py-12 text-center",children:(0,nu.jsx)("div",{className:"flex justify-center items-center",children:(0,nu.jsxs)("svg",{className:"animate-spin h-8 w-8 text-blue-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,nu.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,nu.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})})})}):0===d.length?(0,nu.jsx)("tr",{children:(0,nu.jsx)("td",{colSpan:c.length,className:"px-6 py-12 text-center text-gray-500 dark:text-gray-400",children:(0,nu.jsxs)("div",{className:"flex flex-col items-center",children:[(0,nu.jsx)("svg",{className:"w-16 h-16 text-gray-300 dark:text-gray-600 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,nu.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,nu.jsx)("p",{className:"text-lg",children:"No license data available"}),(0,nu.jsx)("p",{className:"text-sm mt-1",children:'Click "Refresh License Data" to load information'})]})})}):d.map((e,t)=>(0,nu.jsxs)("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",children:[(0,nu.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,nu.jsx)("div",{className:"font-medium text-gray-900 dark:text-white",children:e.productName})}),(0,nu.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-gray-700 dark:text-gray-300",children:e.enabled}),(0,nu.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-gray-700 dark:text-gray-300",children:e.assigned}),(0,nu.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-gray-700 dark:text-gray-300",children:e.available}),(0,nu.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,nu.jsxs)("div",{className:"flex items-center",children:[(0,nu.jsx)("div",{className:"w-16 h-2 bg-gray-200 dark:bg-gray-700 rounded-full mr-2 overflow-hidden",children:(0,nu.jsx)("div",{className:"h-full rounded-full ".concat(e.usage>90?"bg-red-500":e.usage>70?"bg-amber-500":"bg-green-500"),style:{width:"".concat(Math.min(e.usage,100),"%")}})}),(0,nu.jsxs)("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:[e.usage,"%"]})]})}),(0,nu.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,nu.jsx)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ".concat("Enabled"===e.status?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300"),children:e.status})})]},t))})]})}),d.length>0&&(0,nu.jsxs)("div",{className:"mt-4 text-sm text-gray-500 dark:text-gray-400",children:["Showing ",d.length," of ",n.length," licenses"]})]})})]})}const fd=["Sites.ReadWrite.All"],pd="waskitainfra-my.sharepoint.com,81711596-bf57-403c-8ef6-1cb25a538e52,43f60d09-3f38-4874-bf00-352549188508",gd="467d78c3-7a1d-486f-8743-4a93c6b9ec91",md=["Input Device","Kabel","Media Penyimpanan","Audio","Jaringan","Operating System","Hub/Expander","Item"];function vd(){const{instance:e,accounts:t}=(0,Ne.dk)(),[n,i]=(0,r.useState)([]),[a,o]=(0,r.useState)(!1),[s,l]=(0,r.useState)(""),[c,u]=(0,r.useState)(""),[d,h]=(0,r.useState)(!1),[f,p]=(0,r.useState)(null),[g,m]=(0,r.useState)({Nomor:"",Title:"",Quantity:"",Tipe:""});(0,r.useEffect)(()=>{t.length>0&&b()},[t.length]);const v=e=>{l(e),setTimeout(()=>l(""),3e3)},y=e=>{u(e),setTimeout(()=>u(""),5e3)},b=async()=>{o(!0);try{const r=t[0];if(!r)return void o(!1);const n=await e.acquireTokenSilent({scopes:fd,account:r}),a=await fetch("https://graph.microsoft.com/v1.0/sites/".concat(pd,"/lists/").concat(gd,"/items?expand=fields"),{headers:{Authorization:"Bearer ".concat(n.accessToken)}});if(!a.ok)throw new Error("Gagal fetch data");const s=await a.json();i(s.value)}catch(r){y("Gagal mengambil data: "+r.message)}o(!1)},_=()=>{p(null),m({Nomor:"",Title:"",Quantity:"",Tipe:""}),h(!0)},x=e=>{const{name:t,value:r}=e.target;m(e=>(0,Re.A)((0,Re.A)({},e),{},{[t]:r}))},w=[...n].sort((e,t)=>{var r,n;return(null!==(r=e.fields.Nomor)&&void 0!==r?r:0)-(null!==(n=t.fields.Nomor)&&void 0!==n?n:0)});return(0,nu.jsxs)("div",{className:"relative min-h-screen flex flex-col items-center py-8 md:py-12 bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-gray-900 dark:to-gray-800",children:[s&&(0,nu.jsx)("div",{className:"fixed top-4 right-4 z-50 bg-green-100 border-l-4 border-green-500 text-green-700 p-4 rounded-lg shadow-lg animate-fadeIn",children:(0,nu.jsx)("p",{children:s})}),c&&(0,nu.jsx)("div",{className:"fixed top-4 right-4 z-50 bg-red-100 border-l-4 border-red-500 text-red-700 p-4 rounded-lg shadow-lg animate-fadeIn",children:(0,nu.jsx)("p",{children:c})}),(0,nu.jsx)("div",{className:"w-full flex flex-col items-center px-4",children:(0,nu.jsxs)("div",{className:"bg-white/95 dark:bg-gray-800/95 backdrop-blur-sm shadow-xl rounded-2xl w-full max-w-6xl p-6 md:p-8 transition-all duration-300",children:[(0,nu.jsxs)("div",{className:"mb-8",children:[(0,nu.jsx)("h2",{className:"text-3xl md:text-4xl font-bold mb-3 text-blue-700 dark:text-blue-300",children:"Peripheral Management"}),(0,nu.jsx)("div",{className:"text-gray-600 dark:text-gray-300 text-lg",children:"Daftar seluruh peripheral, kabel, media penyimpanan, dan perangkat tambahan lainnya."})]}),0===t.length&&(0,nu.jsx)("div",{className:"flex justify-center my-10",children:(0,nu.jsx)("button",{onClick:()=>window.location.reload(),className:"px-8 py-3 rounded-lg bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white font-bold text-lg shadow-md transition-all duration-300 transform hover:-translate-y-1",children:"Login Microsoft"})}),t.length>0&&(0,nu.jsxs)("div",{children:[(0,nu.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 mb-8",children:[(0,nu.jsx)("button",{onClick:b,disabled:a,className:"flex items-center justify-center gap-2 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white px-6 py-3 rounded-lg font-bold shadow transition-all duration-300",children:a?(0,nu.jsxs)(nu.Fragment,{children:[(0,nu.jsxs)("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,nu.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,nu.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading..."]}):(0,nu.jsxs)(nu.Fragment,{children:[(0,nu.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,nu.jsx)("path",{fillRule:"evenodd",d:"M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z",clipRule:"evenodd"})}),"Refresh Data"]})}),(0,nu.jsxs)("button",{onClick:_,className:"flex items-center justify-center gap-2 bg-indigo-600 hover:bg-indigo-700 text-white px-6 py-3 rounded-lg font-bold shadow transition-all duration-300 transform hover:-translate-y-0.5",children:[(0,nu.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,nu.jsx)("path",{fillRule:"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z",clipRule:"evenodd"})}),"Tambah Data"]})]}),(0,nu.jsx)("div",{className:"overflow-x-auto rounded-xl shadow-lg bg-white/80 dark:bg-gray-800/80",children:(0,nu.jsxs)("table",{className:"min-w-full text-base",children:[(0,nu.jsx)("thead",{children:(0,nu.jsxs)("tr",{className:"bg-gradient-to-r from-blue-500 to-indigo-500 text-white",children:[(0,nu.jsx)("th",{className:"px-6 py-4 text-left rounded-tl-xl",children:"No"}),(0,nu.jsx)("th",{className:"px-6 py-4 text-left",children:"Nama Item"}),(0,nu.jsx)("th",{className:"px-6 py-4 text-center",children:"Stok"}),(0,nu.jsx)("th",{className:"px-6 py-4 text-center",children:"Tipe"}),(0,nu.jsx)("th",{className:"px-6 py-4 text-center rounded-tr-xl",children:"Aksi"})]})}),(0,nu.jsx)("tbody",{children:a?(0,nu.jsx)("tr",{children:(0,nu.jsx)("td",{colSpan:5,className:"text-center px-4 py-14 text-gray-400 dark:text-gray-300 font-semibold",children:(0,nu.jsx)("div",{className:"flex justify-center items-center",children:(0,nu.jsxs)("svg",{className:"animate-spin h-8 w-8 text-blue-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,nu.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,nu.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})})})}):0===w.length?(0,nu.jsx)("tr",{children:(0,nu.jsx)("td",{colSpan:5,className:"text-center px-4 py-14 text-gray-400 dark:text-gray-300 font-semibold",children:(0,nu.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,nu.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 text-gray-300 mb-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,nu.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,nu.jsx)("p",{children:"Belum ada data peripheral"}),(0,nu.jsxs)("button",{onClick:_,className:"mt-4 text-blue-600 hover:text-blue-800 font-medium flex items-center",children:[(0,nu.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:(0,nu.jsx)("path",{fillRule:"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z",clipRule:"evenodd"})}),"Tambah data pertama"]})]})})}):w.map((r,n)=>{var i,a,o,s,l,c,u,d,f;return(0,nu.jsxs)("tr",{className:"transition-colors duration-200 ".concat(n%2===1?"bg-blue-50/60 dark:bg-gray-700/60":"bg-white dark:bg-gray-800"," hover:bg-blue-100 dark:hover:bg-gray-700"),children:[(0,nu.jsx)("td",{className:"px-6 py-4 font-bold text-gray-700 dark:text-gray-100",children:null!==(i=null===(a=r.fields)||void 0===a?void 0:a.Nomor)&&void 0!==i?i:"-"}),(0,nu.jsx)("td",{className:"px-6 py-4 text-gray-800 dark:text-gray-100 font-medium",children:null!==(o=null===(s=r.fields)||void 0===s?void 0:s.Title)&&void 0!==o?o:"-"}),(0,nu.jsx)("td",{className:"px-6 py-4 text-center",children:(0,nu.jsx)("span",{className:"inline-flex items-center justify-center px-3 py-1 rounded-full text-sm font-semibold ".concat((null===(l=r.fields)||void 0===l?void 0:l.Quantity)>0?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"),children:null!==(c=null===(u=r.fields)||void 0===u?void 0:u.Quantity)&&void 0!==c?c:0})}),(0,nu.jsx)("td",{className:"px-6 py-4 text-center",children:(0,nu.jsx)("span",{className:"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 px-3 py-1 rounded-full text-sm font-semibold",children:null!==(d=null===(f=r.fields)||void 0===f?void 0:f.Tipe)&&void 0!==d?d:"-"})}),(0,nu.jsx)("td",{className:"px-6 py-4 text-center",children:(0,nu.jsxs)("div",{className:"flex justify-center space-x-2",children:[(0,nu.jsxs)("button",{onClick:()=>(e=>{var t;p(e),m({Nomor:e.fields.Nomor,Title:e.fields.Title||"",Quantity:null!==(t=e.fields.Quantity)&&void 0!==t?t:"",Tipe:e.fields.Tipe||""}),h(!0)})(r),className:"bg-blue-100 hover:bg-blue-200 text-blue-800 font-medium px-3 py-1.5 rounded-lg transition-colors duration-200 flex items-center",title:"Edit Item",children:[(0,nu.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:(0,nu.jsx)("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})}),"Edit"]}),(0,nu.jsxs)("button",{onClick:()=>(async r=>{if(window.confirm('Hapus item "'.concat(r.fields.Title,'"?')))try{const n=t[0],i=await e.acquireTokenSilent({scopes:fd,account:n});if(204!==(await fetch("https://graph.microsoft.com/v1.0/sites/".concat(pd,"/lists/").concat(gd,"/items/").concat(r.id),{method:"DELETE",headers:{Authorization:"Bearer ".concat(i.accessToken)}})).status)throw new Error("Gagal hapus data");v("Data berhasil dihapus"),b()}catch(n){y("Gagal hapus data: "+n.message)}})(r),className:"bg-red-100 hover:bg-red-200 text-red-800 font-medium px-3 py-1.5 rounded-lg transition-colors duration-200 flex items-center",title:"Hapus Item",children:[(0,nu.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:(0,nu.jsx)("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})}),"Hapus"]})]})})]},r.id||n)})})]})})]}),d&&(0,nu.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50 p-4 animate-fadeIn",children:(0,nu.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl w-full max-w-md animate-scaleIn",onClick:e=>e.stopPropagation(),children:[(0,nu.jsx)("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:(0,nu.jsx)("h2",{className:"text-xl font-bold text-blue-700 dark:text-blue-300",children:f?"Edit Data Peripheral":"Tambah Data Peripheral"})}),(0,nu.jsxs)("form",{onSubmit:r=>{r.preventDefault(),f?(async()=>{try{const r=t[0],n=await e.acquireTokenSilent({scopes:fd,account:r}),i={Title:g.Title,Quantity:parseInt(g.Quantity)||0,Tipe:g.Tipe},a=await fetch("https://graph.microsoft.com/v1.0/sites/".concat(pd,"/lists/").concat(gd,"/items/").concat(f.id,"/fields"),{method:"PATCH",headers:{Authorization:"Bearer ".concat(n.accessToken),"Content-Type":"application/json"},body:JSON.stringify(i)});if(!a.ok){const e=await a.text();throw new Error("Gagal update data: "+e)}v("Data berhasil diupdate"),h(!1),p(null),b()}catch(r){y("Gagal update data: "+r.message)}})():(async()=>{try{const r=t[0],i=await e.acquireTokenSilent({scopes:fd,account:r});let a=0;n.forEach(e=>{e.fields.Nomor&&e.fields.Nomor>a&&(a=e.fields.Nomor)});const o={fields:{Nomor:a+1,Title:g.Title,Quantity:parseInt(g.Quantity)||0,Tipe:g.Tipe}},s=await fetch("https://graph.microsoft.com/v1.0/sites/".concat(pd,"/lists/").concat(gd,"/items"),{method:"POST",headers:{Authorization:"Bearer ".concat(i.accessToken),"Content-Type":"application/json"},body:JSON.stringify(o)});if(!s.ok){const e=await s.text();throw new Error("Gagal menambah data: "+e)}v("Data berhasil ditambahkan"),h(!1),b()}catch(r){y("Gagal menambah data: "+r.message)}})()},className:"p-6 space-y-4",children:[(0,nu.jsxs)("div",{children:[(0,nu.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Nomor"}),(0,nu.jsx)("input",{type:"number",name:"Nomor",value:g.Nomor,readOnly:!0,disabled:!0,placeholder:"(otomatis)",className:"w-full p-3 rounded-lg border border-gray-300 dark:bg-gray-700 dark:text-white dark:border-gray-600 bg-gray-100 text-gray-500"})]}),(0,nu.jsxs)("div",{children:[(0,nu.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Nama Item *"}),(0,nu.jsx)("input",{type:"text",name:"Title",value:g.Title,onChange:x,required:!0,className:"w-full p-3 rounded-lg border border-gray-300 dark:bg-gray-700 dark:text-white dark:border-gray-600 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",placeholder:"Masukkan nama item"})]}),(0,nu.jsxs)("div",{children:[(0,nu.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Jumlah Stok *"}),(0,nu.jsx)("input",{type:"number",name:"Quantity",value:g.Quantity,onChange:x,required:!0,min:0,className:"w-full p-3 rounded-lg border border-gray-300 dark:bg-gray-700 dark:text-white dark:border-gray-600 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",placeholder:"Masukkan jumlah stok"})]}),(0,nu.jsxs)("div",{children:[(0,nu.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Tipe Item *"}),(0,nu.jsxs)("select",{name:"Tipe",value:g.Tipe,onChange:x,required:!0,className:"w-full p-3 rounded-lg border border-gray-300 dark:bg-gray-700 dark:text-white dark:border-gray-600 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",children:[(0,nu.jsx)("option",{value:"",children:"-- Pilih Tipe --"}),md.map(e=>(0,nu.jsx)("option",{value:e,children:e},e))]})]}),(0,nu.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,nu.jsx)("button",{type:"button",onClick:()=>h(!1),className:"px-5 py-2.5 rounded-lg font-medium border border-gray-300 text-gray-700 dark:text-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Batal"}),(0,nu.jsx)("button",{type:"submit",className:"px-5 py-2.5 rounded-lg font-medium bg-blue-600 text-white hover:bg-blue-700 transition-colors flex items-center",children:f?(0,nu.jsxs)(nu.Fragment,{children:[(0,nu.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:(0,nu.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Update"]}):(0,nu.jsxs)(nu.Fragment,{children:[(0,nu.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:(0,nu.jsx)("path",{fillRule:"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z",clipRule:"evenodd"})}),"Tambah"]})})]})]})]})})]})}),(0,nu.jsx)("style",{jsx:!0,children:"\n        @keyframes fadeIn {\n          from { opacity: 0; }\n          to { opacity: 1; }\n        }\n        @keyframes scaleIn {\n          from { transform: scale(0.95); opacity: 0; }\n          to { transform: scale(1); opacity: 1; }\n        }\n        .animate-fadeIn {\n          animation: fadeIn 0.3s ease-out;\n        }\n        .animate-scaleIn {\n          animation: scaleIn 0.2s ease-out;\n        }\n      "})]})}function yd(e){return xu({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(e)}function bd(e){return xu({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"},child:[]},{tag:"polyline",attr:{points:"22,6 12,13 2,6"},child:[]}]})(e)}function _d(e){return xu({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(e)}function xd(){const{instance:e,accounts:t}=(0,Ne.dk)(),n=ee(),{isAdminLoggedIn:i,adminEmail:a,logoutAdmin:o}=(0,r.useContext)(iu);let s="US",l="user@email.com",c="Admin";var u,d,h,f,p,g;t&&t.length>0?(s=(null===(u=t[0])||void 0===u||null===(d=u.username)||void 0===d?void 0:d.slice(0,2).toUpperCase())||(null===(h=t[0])||void 0===h||null===(f=h.name)||void 0===f?void 0:f.split(" ").map(e=>e[0]).join("").toUpperCase())||"US",l=(null===(p=t[0])||void 0===p?void 0:p.username)||"user@email.com",c=(null===(g=t[0])||void 0===g?void 0:g.name)||"Microsoft User"):i&&(s=a.slice(0,2).toUpperCase(),l=a,c="Admin");return(0,nu.jsxs)("div",{className:"relative min-h-screen flex items-center justify-center overflow-hidden",children:[(0,nu.jsx)("div",{className:"fixed inset-0 z-0",style:{background:"\n            linear-gradient(rgba(251, 250, 253, 0.32),rgba(70,45,120,0.27)),\n            url('".concat("/bg-login.jpg","') center center / cover no-repeat\n          ")}}),(0,nu.jsx)("div",{className:"relative z-10 flex flex-col items-center justify-center min-h-screen w-full",children:(0,nu.jsxs)("div",{className:"backdrop-blur-lg bg-white/70 dark:bg-gray-900/80 border border-gray-200 dark:border-gray-700 shadow-2xl rounded-3xl p-8 min-w-[340px] w-full max-w-[400px]",children:[(0,nu.jsxs)("div",{className:"flex flex-col items-center gap-2 mb-7",children:[(0,nu.jsx)("div",{className:"w-20 h-20 bg-gradient-to-br from-[#b681ff] to-[#7159d4] rounded-full flex items-center justify-center shadow-lg mb-2 border-4 border-white dark:border-gray-900",children:(0,nu.jsx)("span",{className:"text-3xl text-white font-bold tracking-widest select-none",children:s})}),(0,nu.jsx)("span",{className:"text-base font-semibold text-[#7159d4] dark:text-[#b681ff]",children:c}),(0,nu.jsxs)("span",{className:"text-xs text-gray-500 flex items-center gap-1",children:[(0,nu.jsx)(bd,{className:"inline text-base"}),l]})]}),(0,nu.jsxs)("div",{className:"space-y-2 text-gray-700 dark:text-gray-200 text-sm mb-8",children:[(0,nu.jsxs)("div",{className:"flex items-center gap-2",children:[(0,nu.jsx)(_d,{className:"text-[#b681ff]"}),(0,nu.jsxs)("span",{className:"font-medium whitespace-pre-line leading-tight",children:["Waskita Karya Infrastruktur",(0,nu.jsx)("br",{}),"IT Asset Management"]})]}),(0,nu.jsxs)("div",{children:["Versi: ",(0,nu.jsx)("span",{className:"font-medium",children:"1.0.0"})]}),(0,nu.jsxs)("div",{children:["Build: ",(0,nu.jsx)("span",{className:"font-medium",children:(new Date).toISOString().split("T")[0]})]}),(0,nu.jsxs)("div",{children:["Support:",(0,nu.jsx)("a",{href:"mailto:wiqolby@gmail.com",className:"ml-1 text-[#7159d4] underline hover:text-[#b681ff]",children:"wiqolby@gmail.com"})]})]}),(0,nu.jsxs)("button",{onClick:()=>{t&&t.length>0?e.logoutPopup().then(()=>{n("/login",{replace:!0}),window.location.reload()}):i&&(o(),n("/login",{replace:!0}),window.location.reload())},className:"w-full flex items-center justify-center gap-2 py-3 bg-gradient-to-r from-[#b681ff] to-[#7159d4] hover:from-[#7159d4] hover:to-[#b681ff] text-white font-bold rounded-xl shadow-lg transition-all duration-200 active:scale-95",children:[(0,nu.jsx)(yd,{className:"text-lg"}),"Logout"]})]})})]})}function wd(e){var t,r,n="";if("string"==typeof e||"number"==typeof e)n+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=wd(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function kd(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=wd(e))&&(n&&(n+=" "),n+=t);return n}var Ed=__webpack_require__(1460),Cd=__webpack_require__.n(Ed),Ad=__webpack_require__(3890),Td=__webpack_require__.n(Ad),Sd=e=>0===e?0:e>0?1:-1,Od=e=>"number"==typeof e&&e!=+e,Pd=e=>"string"===typeof e&&e.indexOf("%")===e.length-1,Id=e=>("number"===typeof e||e instanceof Number)&&!Od(e),jd=e=>Id(e)||"string"===typeof e,Md=0,Nd=e=>{var t=++Md;return"".concat(e||"").concat(t)},Rd=function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!Id(e)&&"string"!==typeof e)return n;if(Pd(e)){if(null==t)return n;var a=e.indexOf("%");r=t*parseFloat(e.slice(0,a))/100}else r=+e;return Od(r)&&(r=n),i&&null!=t&&r>t&&(r=t),r},Dd=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++){if(r[e[n]])return!0;r[e[n]]=!0}return!1};function Ld(e,t,r){return Id(e)&&Id(t)?e+r*(t-e):t}function Ud(e,t,r){if(e&&e.length)return e.find(e=>e&&("function"===typeof t?t(e):Td()(e,t))===r)}var Bd=e=>null===e||"undefined"===typeof e,zd=e=>Bd(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),Kd=function(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i]};function qd(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Fd(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?qd(Object(r),!0).forEach(function(t){Hd(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qd(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Hd(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Wd=(0,r.forwardRef)((e,t)=>{var{aspect:n,initialDimension:i={width:-1,height:-1},width:a="100%",height:o="100%",minWidth:s=0,minHeight:l,maxHeight:c,children:u,debounce:d=0,id:h,className:f,onResize:p,style:g={}}=e,m=(0,r.useRef)(null),v=(0,r.useRef)();v.current=p,(0,r.useImperativeHandle)(t,()=>m.current);var[y,b]=(0,r.useState)({containerWidth:i.width,containerHeight:i.height}),_=(0,r.useCallback)((e,t)=>{b(r=>{var n=Math.round(e),i=Math.round(t);return r.containerWidth===n&&r.containerHeight===i?r:{containerWidth:n,containerHeight:i}})},[]);(0,r.useEffect)(()=>{var e=e=>{var t,{width:r,height:n}=e[0].contentRect;_(r,n),null===(t=v.current)||void 0===t||t.call(v,r,n)};d>0&&(e=Cd()(e,d,{trailing:!0,leading:!1}));var t=new ResizeObserver(e),{width:r,height:n}=m.current.getBoundingClientRect();return _(r,n),t.observe(m.current),()=>{t.disconnect()}},[_,d]);var x=(0,r.useMemo)(()=>{var{containerWidth:e,containerHeight:t}=y;if(e<0||t<0)return null;Kd(Pd(a)||Pd(o),"The width(%s) and height(%s) are both fixed numbers,\n       maybe you don't need to use a ResponsiveContainer.",a,o),Kd(!n||n>0,"The aspect(%s) must be greater than zero.",n);var i=Pd(a)?e:a,d=Pd(o)?t:o;return n&&n>0&&(i?d=i/n:d&&(i=d*n),c&&d>c&&(d=c)),Kd(i>0||d>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",i,d,a,o,s,l,n),r.Children.map(u,e=>(0,r.cloneElement)(e,{width:i,height:d,style:Fd({width:i,height:d},e.props.style)}))},[n,u,o,c,l,s,y,a]);return r.createElement("div",{id:h?"".concat(h):void 0,className:kd("recharts-responsive-container",f),style:Fd(Fd({},g),{},{width:a,height:o,minWidth:s,minHeight:l,maxHeight:c}),ref:m},r.createElement("div",{style:{width:0,height:0,overflow:"visible"}},x))}),Vd=__webpack_require__(3867);function Gd(e){return"Minified Redux error #".concat(e,"; visit https://redux.js.org/Errors?code=").concat(e," for the full message or use the non-minified dev environment for full errors. ")}var Yd=(()=>"function"===typeof Symbol&&Symbol.observable||"@@observable")(),Qd=()=>Math.random().toString(36).substring(7).split("").join("."),Jd={INIT:"@@redux/INIT".concat(Qd()),REPLACE:"@@redux/REPLACE".concat(Qd()),PROBE_UNKNOWN_ACTION:()=>"@@redux/PROBE_UNKNOWN_ACTION".concat(Qd())};function Xd(e){if("object"!==typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}function $d(e,t,r){if("function"!==typeof e)throw new Error(Gd(2));if("function"===typeof t&&"function"===typeof r||"function"===typeof r&&"function"===typeof arguments[3])throw new Error(Gd(0));if("function"===typeof t&&"undefined"===typeof r&&(r=t,t=void 0),"undefined"!==typeof r){if("function"!==typeof r)throw new Error(Gd(1));return r($d)(e,t)}let n=e,i=t,a=new Map,o=a,s=0,l=!1;function c(){o===a&&(o=new Map,a.forEach((e,t)=>{o.set(t,e)}))}function u(){if(l)throw new Error(Gd(3));return i}function d(e){if("function"!==typeof e)throw new Error(Gd(4));if(l)throw new Error(Gd(5));let t=!0;c();const r=s++;return o.set(r,e),function(){if(t){if(l)throw new Error(Gd(6));t=!1,c(),o.delete(r),a=null}}}function h(e){if(!Xd(e))throw new Error(Gd(7));if("undefined"===typeof e.type)throw new Error(Gd(8));if("string"!==typeof e.type)throw new Error(Gd(17));if(l)throw new Error(Gd(9));try{l=!0,i=n(i,e)}finally{l=!1}return(a=o).forEach(e=>{e()}),e}h({type:Jd.INIT});return{dispatch:h,subscribe:d,getState:u,replaceReducer:function(e){if("function"!==typeof e)throw new Error(Gd(10));n=e,h({type:Jd.REPLACE})},[Yd]:function(){const e=d;return{subscribe(t){if("object"!==typeof t||null===t)throw new Error(Gd(11));function r(){const e=t;e.next&&e.next(u())}r();return{unsubscribe:e(r)}},[Yd](){return this}}}}}function Zd(e){const t=Object.keys(e),r={};for(let a=0;a<t.length;a++){const n=t[a];0,"function"===typeof e[n]&&(r[n]=e[n])}const n=Object.keys(r);let i;try{!function(e){Object.keys(e).forEach(t=>{const r=e[t];if("undefined"===typeof r(void 0,{type:Jd.INIT}))throw new Error(Gd(12));if("undefined"===typeof r(void 0,{type:Jd.PROBE_UNKNOWN_ACTION()}))throw new Error(Gd(13))})}(r)}catch(QU){i=QU}return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(i)throw i;let a=!1;const o={};for(let i=0;i<n.length;i++){const s=n[i],l=r[s],c=e[s],u=l(c,t);if("undefined"===typeof u){t&&t.type;throw new Error(Gd(14))}o[s]=u,a=a||u!==c}return a=a||n.length!==Object.keys(e).length,a?o:e}}function eh(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return 0===t.length?e=>e:1===t.length?t[0]:t.reduce((e,t)=>function(){return e(t(...arguments))})}function th(e){return Xd(e)&&"type"in e&&"string"===typeof e.type}function rh(e){return t=>{let{dispatch:r,getState:n}=t;return t=>i=>"function"===typeof i?i(r,n,e):t(i)}}var nh=rh(),ih=rh,ah=Symbol.for("immer-nothing"),oh=Symbol.for("immer-draftable"),sh=Symbol.for("immer-state");function lh(e){throw new Error("[Immer] minified error nr: ".concat(e,". Full error at: https://bit.ly/3cXEKWf"))}var ch=Object.getPrototypeOf;function uh(e){return!!e&&!!e[sh]}function dh(e){var t;return!!e&&(fh(e)||Array.isArray(e)||!!e[oh]||!(null===(t=e.constructor)||void 0===t||!t[oh])||yh(e)||bh(e))}var hh=Object.prototype.constructor.toString();function fh(e){if(!e||"object"!==typeof e)return!1;const t=ch(e);if(null===t)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object||"function"==typeof r&&Function.toString.call(r)===hh}function ph(e,t){0===gh(e)?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function gh(e){const t=e[sh];return t?t.type_:Array.isArray(e)?1:yh(e)?2:bh(e)?3:0}function mh(e,t){return 2===gh(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function vh(e,t,r){const n=gh(e);2===n?e.set(t,r):3===n?e.add(r):e[t]=r}function yh(e){return e instanceof Map}function bh(e){return e instanceof Set}function _h(e){return e.copy_||e.base_}function xh(e,t){if(yh(e))return new Map(e);if(bh(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=fh(e);if(!0===t||"class_only"===t&&!r){const t=Object.getOwnPropertyDescriptors(e);delete t[sh];let r=Reflect.ownKeys(t);for(let n=0;n<r.length;n++){const i=r[n],a=t[i];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(ch(e),t)}{const t=ch(e);if(null!==t&&r)return(0,Re.A)({},e);const n=Object.create(t);return Object.assign(n,e)}}function wh(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Eh(e)||uh(e)||!dh(e)||(gh(e)>1&&Object.defineProperties(e,{set:{value:kh},add:{value:kh},clear:{value:kh},delete:{value:kh}}),Object.freeze(e),t&&Object.values(e).forEach(e=>wh(e,!0))),e}function kh(){lh(2)}function Eh(e){return Object.isFrozen(e)}var Ch,Ah={};function Th(e){const t=Ah[e];return t||lh(0),t}function Sh(){return Ch}function Oh(e,t){t&&(Th("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Ph(e){Ih(e),e.drafts_.forEach(Mh),e.drafts_=null}function Ih(e){e===Ch&&(Ch=e.parent_)}function jh(e){return Ch={drafts_:[],parent_:Ch,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Mh(e){const t=e[sh];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function Nh(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return void 0!==e&&e!==r?(r[sh].modified_&&(Ph(t),lh(4)),dh(e)&&(e=Rh(t,e),t.parent_||Lh(t,e)),t.patches_&&Th("Patches").generateReplacementPatches_(r[sh].base_,e,t.patches_,t.inversePatches_)):e=Rh(t,r,[]),Ph(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==ah?e:void 0}function Rh(e,t,r){if(Eh(t))return t;const n=t[sh];if(!n)return ph(t,(i,a)=>Dh(e,n,t,i,a,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return Lh(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const t=n.copy_;let i=t,a=!1;3===n.type_&&(i=new Set(t),t.clear(),a=!0),ph(i,(i,o)=>Dh(e,n,t,i,o,r,a)),Lh(e,t,!1),r&&e.patches_&&Th("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function Dh(e,t,r,n,i,a,o){if(uh(i)){const o=Rh(e,i,a&&t&&3!==t.type_&&!mh(t.assigned_,n)?a.concat(n):void 0);if(vh(r,n,o),!uh(o))return;e.canAutoFreeze_=!1}else o&&r.add(i);if(dh(i)&&!Eh(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Rh(e,i),t&&t.scope_.parent_||"symbol"===typeof n||!(yh(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))||Lh(e,i)}}function Lh(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&wh(t,r)}var Uh={get(e,t){if(t===sh)return e;const r=_h(e);if(!mh(r,t))return function(e,t,r){var n;const i=Kh(t,r);return i?"value"in i?i.value:null===(n=i.get)||void 0===n?void 0:n.call(e.draft_):void 0}(e,r,t);const n=r[t];return e.finalized_||!dh(n)?n:n===zh(e.base_,t)?(Fh(e),e.copy_[t]=Hh(n,e)):n},has:(e,t)=>t in _h(e),ownKeys:e=>Reflect.ownKeys(_h(e)),set(e,t,r){const n=Kh(_h(e),t);if(null!==n&&void 0!==n&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const n=zh(_h(e),t),o=null===n||void 0===n?void 0:n[sh];if(o&&o.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(((i=r)===(a=n)?0!==i||1/i===1/a:i!==i&&a!==a)&&(void 0!==r||mh(e.base_,t)))return!0;Fh(e),qh(e)}var i,a;return e.copy_[t]===r&&(void 0!==r||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==zh(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,Fh(e),qh(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const r=_h(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:n.enumerable,value:r[t]}:n},defineProperty(){lh(11)},getPrototypeOf:e=>ch(e.base_),setPrototypeOf(){lh(12)}},Bh={};function zh(e,t){const r=e[sh];return(r?_h(r):e)[t]}function Kh(e,t){if(!(t in e))return;let r=ch(e);for(;r;){const e=Object.getOwnPropertyDescriptor(r,t);if(e)return e;r=ch(r)}}function qh(e){e.modified_||(e.modified_=!0,e.parent_&&qh(e.parent_))}function Fh(e){e.copy_||(e.copy_=xh(e.base_,e.scope_.immer_.useStrictShallowCopy_))}ph(Uh,(e,t)=>{Bh[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),Bh.deleteProperty=function(e,t){return Bh.set.call(this,e,t,void 0)},Bh.set=function(e,t,r){return Uh.set.call(this,e[0],t,r,e[0])};function Hh(e,t){const r=yh(e)?Th("MapSet").proxyMap_(e,t):bh(e)?Th("MapSet").proxySet_(e,t):function(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:Sh(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,a=Uh;r&&(i=[n],a=Bh);const{revoke:o,proxy:s}=Proxy.revocable(i,a);return n.draft_=s,n.revoke_=o,s}(e,t);return(t?t.scope_:Sh()).drafts_.push(r),r}function Wh(e){return uh(e)||lh(10),Vh(e)}function Vh(e){if(!dh(e)||Eh(e))return e;const t=e[sh];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=xh(e,t.scope_.immer_.useStrictShallowCopy_)}else r=xh(e,!0);return ph(r,(e,t)=>{vh(r,e,Vh(t))}),t&&(t.finalized_=!1),r}var Gh=new class{constructor(e){var t=this;this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,r)=>{if("function"===typeof e&&"function"!==typeof t){const r=t;t=e;const n=this;return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r;for(var i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];return n.produce(e,e=>t.call(this,e,...a))}}let n;if("function"!==typeof t&&lh(6),void 0!==r&&"function"!==typeof r&&lh(7),dh(e)){const i=jh(this),a=Hh(e,void 0);let o=!0;try{n=t(a),o=!1}finally{o?Ph(i):Ih(i)}return Oh(i,r),Nh(n,i)}if(!e||"object"!==typeof e){if(n=t(e),void 0===n&&(n=e),n===ah&&(n=void 0),this.autoFreeze_&&wh(n,!0),r){const t=[],i=[];Th("Patches").generateReplacementPatches_(e,n,t,i),r(t,i)}return n}lh(1)},this.produceWithPatches=(e,r)=>{if("function"===typeof e)return function(r){for(var n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];return t.produceWithPatches(r,t=>e(t,...i))};let n,i;return[this.produce(e,r,(e,t)=>{n=e,i=t}),n,i]},"boolean"===typeof(null===e||void 0===e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),"boolean"===typeof(null===e||void 0===e?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){dh(e)||lh(8),uh(e)&&(e=Wh(e));const t=jh(this),r=Hh(e,void 0);return r[sh].isManual_=!0,Ih(t),r}finishDraft(e,t){const r=e&&e[sh];r&&r.isManual_||lh(9);const{scope_:n}=r;return Oh(n,t),Nh(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const n=t[r];if(0===n.path.length&&"replace"===n.op){e=n.value;break}}r>-1&&(t=t.slice(r+1));const n=Th("Patches").applyPatches_;return uh(e)?n(e,t):this.produce(e,e=>n(e,t))}},Yh=Gh.produce;const Qh=["reducerPath"];var Jh="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?eh:eh.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function Xh(e,t){function r(){if(t){let r=t(...arguments);if(!r)throw new Error(Vf(0));return(0,Re.A)((0,Re.A)({type:e,payload:r.payload},"meta"in r&&{meta:r.meta}),"error"in r&&{error:r.error})}return{type:e,payload:arguments.length<=0?void 0:arguments[0]}}return r.toString=()=>"".concat(e),r.type=e,r.match=t=>th(t)&&t.type===e,r}var $h=class e extends Array{constructor(){super(...arguments),Object.setPrototypeOf(this,e.prototype)}static get[Symbol.species](){return e}concat(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return super.concat.apply(this,t)}prepend(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return 1===r.length&&Array.isArray(r[0])?new e(...r[0].concat(this)):new e(...r.concat(this))}};function Zh(e){return dh(e)?Yh(e,()=>{}):e}function ef(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}var tf="RTK_autoBatch",rf=e=>t=>{setTimeout(t,e)},nf=e=>function(t){const{autoBatch:r=!0}=null!==t&&void 0!==t?t:{};let n=new $h(e);return r&&n.push(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:"raf"};return t=>function(){const r=t(...arguments);let n=!0,i=!1,a=!1;const o=new Set,s="tick"===e.type?queueMicrotask:"raf"===e.type?"undefined"!==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:rf(10):"callback"===e.type?e.queueNotification:rf(e.timeout),l=()=>{a=!1,i&&(i=!1,o.forEach(e=>e()))};return Object.assign({},r,{subscribe(e){const t=r.subscribe(()=>n&&e());return o.add(e),()=>{t(),o.delete(e)}},dispatch(e){try{var t;return n=!(null!==e&&void 0!==e&&null!==(t=e.meta)&&void 0!==t&&t[tf]),i=!n,i&&(a||(a=!0,s(l))),r.dispatch(e)}finally{n=!0}}})}}("object"===typeof r?r:void 0)),n};function af(e){const t=function(e){const{thunk:t=!0,immutableCheck:r=!0,serializableCheck:n=!0,actionCreatorCheck:i=!0}=null!==e&&void 0!==e?e:{};let a=new $h;return t&&("boolean"===typeof t?a.push(nh):a.push(ih(t.extraArgument))),a},{reducer:r,middleware:n,devTools:i=!0,duplicateMiddlewareCheck:a=!0,preloadedState:o,enhancers:s}=e||{};let l,c;if("function"===typeof r)l=r;else{if(!Xd(r))throw new Error(Vf(1));l=Zd(r)}c="function"===typeof n?n(t):t();let u=eh;i&&(u=Jh((0,Re.A)({trace:!1},"object"===typeof i&&i)));const d=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return e=>(r,n)=>{const i=e(r,n);let a=()=>{throw new Error(Gd(15))};const o={getState:i.getState,dispatch:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return a(e,...r)}},s=t.map(e=>e(o));return a=eh(...s)(i.dispatch),(0,Re.A)((0,Re.A)({},i),{},{dispatch:a})}}(...c),h=nf(d);return $d(l,o,u(..."function"===typeof s?s(h):h()))}function of(e){const t={},r=[];let n;const i={addCase(e,r){const n="string"===typeof e?e:e.type;if(!n)throw new Error(Vf(28));if(n in t)throw new Error(Vf(29));return t[n]=r,i},addAsyncThunk:(e,n)=>(n.pending&&(t[e.pending.type]=n.pending),n.rejected&&(t[e.rejected.type]=n.rejected),n.fulfilled&&(t[e.fulfilled.type]=n.fulfilled),n.settled&&r.push({matcher:e.settled,reducer:n.settled}),i),addMatcher:(e,t)=>(r.push({matcher:e,reducer:t}),i),addDefaultCase:e=>(n=e,i)};return e(i),[t,r,n]}var sf=function(){let e="",t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;for(;t--;)e+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return e};var lf=Symbol.for("rtk-slice-createasyncthunk");function cf(e,t){return"".concat(e,"/").concat(t)}function uf(){var e;let{creators:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=null===t||void 0===t||null===(e=t.asyncThunk)||void 0===e?void 0:e[lf];return function(e){const{name:t,reducerPath:n=t}=e;if(!t)throw new Error(Vf(11));const i=("function"===typeof e.reducers?e.reducers(function(){function e(e,t){return(0,Re.A)({_reducerDefinitionType:"asyncThunk",payloadCreator:e},t)}return e.withTypes=()=>e,{reducer:e=>Object.assign({[e.name](){return e(...arguments)}}[e.name],{_reducerDefinitionType:"reducer"}),preparedReducer:(e,t)=>({_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}),asyncThunk:e}}()):e.reducers)||{},a=Object.keys(i),o={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},s={addCase(e,t){const r="string"===typeof e?e:e.type;if(!r)throw new Error(Vf(12));if(r in o.sliceCaseReducersByType)throw new Error(Vf(13));return o.sliceCaseReducersByType[r]=t,s},addMatcher:(e,t)=>(o.sliceMatchers.push({matcher:e,reducer:t}),s),exposeAction:(e,t)=>(o.actionCreators[e]=t,s),exposeCaseReducer:(e,t)=>(o.sliceCaseReducersByName[e]=t,s)};function l(){const[t={},r=[],n]="function"===typeof e.extraReducers?of(e.extraReducers):[e.extraReducers],i=(0,Re.A)((0,Re.A)({},t),o.sliceCaseReducersByType);return function(e,t){let r,[n,i,a]=of(t);if("function"===typeof e)r=()=>Zh(e());else{const t=Zh(e);r=()=>t}function o(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r(),t=arguments.length>1?arguments[1]:void 0,o=[n[t.type],...i.filter(e=>{let{matcher:r}=e;return r(t)}).map(e=>{let{reducer:t}=e;return t})];return 0===o.filter(e=>!!e).length&&(o=[a]),o.reduce((e,r)=>{if(r){if(uh(e)){const n=r(e,t);return void 0===n?e:n}if(dh(e))return Yh(e,e=>r(e,t));{const n=r(e,t);if(void 0===n){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return n}}return e},e)}return o.getInitialState=r,o}(e.initialState,e=>{for(let t in i)e.addCase(t,i[t]);for(let t of o.sliceMatchers)e.addMatcher(t.matcher,t.reducer);for(let t of r)e.addMatcher(t.matcher,t.reducer);n&&e.addDefaultCase(n)})}a.forEach(n=>{const a=i[n],o={reducerName:n,type:cf(t,n),createNotation:"function"===typeof e.reducers};!function(e){return"asyncThunk"===e._reducerDefinitionType}(a)?function(e,t,r){let n,i,{type:a,reducerName:o,createNotation:s}=e;if("reducer"in t){if(s&&!function(e){return"reducerWithPrepare"===e._reducerDefinitionType}(t))throw new Error(Vf(17));n=t.reducer,i=t.prepare}else n=t;r.addCase(a,n).exposeCaseReducer(o,n).exposeAction(o,i?Xh(a,i):Xh(a))}(o,a,s):function(e,t,r,n){let{type:i,reducerName:a}=e;if(!n)throw new Error(Vf(18));const{payloadCreator:o,fulfilled:s,pending:l,rejected:c,settled:u,options:d}=t,h=n(i,o,d);r.exposeAction(a,h),s&&r.addCase(h.fulfilled,s);l&&r.addCase(h.pending,l);c&&r.addCase(h.rejected,c);u&&r.addMatcher(h.settled,u);r.exposeCaseReducer(a,{fulfilled:s||ff,pending:l||ff,rejected:c||ff,settled:u||ff})}(o,a,s,r)});const c=e=>e,u=new Map,d=new WeakMap;let h;function f(e,t){return h||(h=l()),h(e,t)}function p(){return h||(h=l()),h.getInitialState()}function g(t){let r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(e){let i=e[t];return"undefined"===typeof i&&r&&(i=ef(d,n,p)),i}function i(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c;const n=ef(u,r,()=>new WeakMap);return ef(n,t,()=>{const n={};for(const[a,o]of Object.entries(null!==(i=e.selectors)&&void 0!==i?i:{})){var i;n[a]=df(o,t,()=>ef(d,t,p),r)}return n})}return{reducerPath:t,getSelectors:i,get selectors(){return i(n)},selectSlice:n}}const m=(0,Re.A)((0,Re.A)({name:t,reducer:f,actions:o.actionCreators,caseReducers:o.sliceCaseReducersByName,getInitialState:p},g(n)),{},{injectInto(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{reducerPath:r}=t,i=fr(t,Qh);const a=null!==r&&void 0!==r?r:n;return e.inject({reducerPath:a,reducer:f},i),(0,Re.A)((0,Re.A)({},m),g(a,!0))}});return m}}function df(e,t,r,n){function i(i){let a=t(i);"undefined"===typeof a&&n&&(a=r());for(var o=arguments.length,s=new Array(o>1?o-1:0),l=1;l<o;l++)s[l-1]=arguments[l];return e(a,...s)}return i.unwrapped=e,i}var hf=uf();function ff(){}var pf="listener",gf="completed",mf="cancelled",vf="task-".concat(mf),yf="task-".concat(gf),bf="".concat(pf,"-").concat(mf),_f="".concat(pf,"-").concat(gf),xf=class{constructor(e){(0,Vd.A)(this,"name","TaskAbortError"),(0,Vd.A)(this,"message",void 0),this.code=e,this.message="".concat("task"," ").concat(mf," (reason: ").concat(e,")")}},wf=(e,t)=>{if("function"!==typeof e)throw new TypeError(Vf(32))},kf=()=>{},Ef=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:kf;return e.catch(t),e},Cf=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Af=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Tf=e=>{if(e.aborted){const{reason:t}=e;throw new xf(t)}};function Sf(e,t){let r=kf;return new Promise((n,i)=>{const a=()=>i(new xf(e.reason));e.aborted?a():(r=Cf(e,a),t.finally(()=>r()).then(n,i))}).finally(()=>{r=kf})}var Of=e=>t=>Ef(Sf(e,t).then(t=>(Tf(e),t))),Pf=e=>{const t=Of(e);return e=>t(new Promise(t=>setTimeout(t,e)))},{assign:If}=Object,jf={},Mf="listenerMiddleware",Nf=(e,t)=>(r,n)=>{wf(r);const i=new AbortController;var a;a=i,Cf(e,()=>Af(a,e.reason));const o=(async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof xf?"cancelled":"rejected",error:r}}finally{null===t||void 0===t||t()}})(async()=>{Tf(e),Tf(i.signal);const t=await r({pause:Of(i.signal),delay:Pf(i.signal),signal:i.signal});return Tf(i.signal),t},()=>Af(i,yf));return null!==n&&void 0!==n&&n.autoJoin&&t.push(o.catch(kf)),{result:Of(e)(o),cancel(){Af(i,vf)}}},Rf=(e,t)=>(r,n)=>Ef((async(r,n)=>{Tf(t);let i=()=>{};const a=[new Promise((t,n)=>{let a=e({predicate:r,effect:(e,r)=>{r.unsubscribe(),t([e,r.getState(),r.getOriginalState()])}});i=()=>{a(),n()}})];null!=n&&a.push(new Promise(e=>setTimeout(e,n,null)));try{const e=await Sf(t,Promise.race(a));return Tf(t),e}finally{i()}})(r,n)),Df=e=>{let{type:t,actionCreator:r,matcher:n,predicate:i,effect:a}=e;if(t)i=Xh(t).match;else if(r)t=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(Vf(21));return wf(a),{predicate:i,type:t,effect:a}},Lf=If(e=>{const{type:t,predicate:r,effect:n}=Df(e);return{id:sf(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Vf(22))}}},{withTypes:()=>Lf}),Uf=(e,t)=>{const{type:r,effect:n,predicate:i}=Df(t);return Array.from(e.values()).find(e=>("string"===typeof r?e.type===r:e.predicate===i)&&e.effect===n)},Bf=e=>{e.pending.forEach(e=>{Af(e,bf)})},zf=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},Kf=If(Xh("".concat(Mf,"/add")),{withTypes:()=>Kf}),qf=Xh("".concat(Mf,"/removeAll")),Ff=If(Xh("".concat(Mf,"/remove")),{withTypes:()=>Ff}),Hf=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];console.error("".concat(Mf,"/error"),...t)},Wf=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=new Map,{extra:r,onError:n=Hf}=e;wf(n);const i=e=>{var r;return(e=>(e.unsubscribe=()=>t.delete(e.id),t.set(e.id,e),t=>{e.unsubscribe(),null!==t&&void 0!==t&&t.cancelActive&&Bf(e)}))(null!==(r=Uf(t,e))&&void 0!==r?r:Lf(e))};If(i,{withTypes:()=>i});const a=e=>{const r=Uf(t,e);return r&&(r.unsubscribe(),e.cancelActive&&Bf(r)),!!r};If(a,{withTypes:()=>a});const o=async(e,a,o,s)=>{const l=new AbortController,c=Rf(i,l.signal),u=[];try{e.pending.add(l),await Promise.resolve(e.effect(a,If({},o,{getOriginalState:s,condition:(e,t)=>c(e,t).then(Boolean),take:c,delay:Pf(l.signal),pause:Of(l.signal),extra:r,signal:l.signal,fork:Nf(l.signal,u),unsubscribe:e.unsubscribe,subscribe:()=>{t.set(e.id,e)},cancelActiveListeners:()=>{e.pending.forEach((e,t,r)=>{e!==l&&(Af(e,bf),r.delete(e))})},cancel:()=>{Af(l,bf),e.pending.delete(l)},throwIfCancelled:()=>{Tf(l.signal)}})))}catch(d){d instanceof xf||zf(n,d,{raisedBy:"effect"})}finally{await Promise.all(u),Af(l,_f),e.pending.delete(l)}},s=(e=>()=>{e.forEach(Bf),e.clear()})(t);return{middleware:e=>r=>l=>{if(!th(l))return r(l);if(Kf.match(l))return i(l.payload);if(qf.match(l))return void s();if(Ff.match(l))return a(l.payload);let c=e.getState();const u=()=>{if(c===jf)throw new Error(Vf(23));return c};let d;try{if(d=r(l),t.size>0){const r=e.getState(),i=Array.from(t.values());for(const t of i){let i=!1;try{i=t.predicate(l,r,c)}catch(h){i=!1,zf(n,h,{raisedBy:"predicate"})}i&&o(t,l,e,u)}}}finally{c=jf}return d},startListening:i,stopListening:a,clearListeners:s}};Symbol.for("rtk-state-proxy-original");function Vf(e){return"Minified Redux Toolkit error #".concat(e,"; visit https://redux-toolkit.js.org/Errors?code=").concat(e," for the full message or use the non-minified dev environment for full errors. ")}function Gf(e,t){if(t){var r=Number.parseInt(t,10);if(!Od(r))return null===e||void 0===e?void 0:e[r]}}var Yf=hf({name:"options",initialState:{chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},reducers:{createEventEmitter:e=>{null==e.eventEmitter&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Qf=Yf.reducer,{createEventEmitter:Jf}=Yf.actions;__webpack_require__(7645);function Xf(e){e()}var $f={notify(){},get:()=>[]};function Zf(e,t){let r,n=$f,i=0,a=!1;function o(){c.onStateChange&&c.onStateChange()}function s(){i++,r||(r=t?t.addNestedSub(o):e.subscribe(o),n=function(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Xf(()=>{let t=e;for(;t;)t.callback(),t=t.next})},get(){const t=[];let r=e;for(;r;)t.push(r),r=r.next;return t},subscribe(r){let n=!0;const i=t={callback:r,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){n&&null!==e&&(n=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}())}function l(){i--,r&&0===i&&(r(),r=void 0,n.clear(),n=$f)}const c={addNestedSub:function(e){s();const t=n.subscribe(e);let r=!1;return()=>{r||(r=!0,t(),l())}},notifyNestedSubs:function(){n.notify()},handleChangeWrapper:o,isSubscribed:function(){return a},trySubscribe:function(){a||(a=!0,s())},tryUnsubscribe:function(){a&&(a=!1,l())},getListeners:()=>n};return c}var ep=(()=>!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement))(),tp=(()=>"undefined"!==typeof navigator&&"ReactNative"===navigator.product)(),rp=(()=>ep||tp?r.useLayoutEffect:r.useEffect)();Object.defineProperty,Object.getOwnPropertyNames,Object.getOwnPropertySymbols,Object.getOwnPropertyDescriptor,Object.getPrototypeOf,Object.prototype;var np=Symbol.for("react-redux-context"),ip="undefined"!==typeof globalThis?globalThis:{};function ap(){var e;if(!r.createContext)return{};const t=null!==(e=ip[np])&&void 0!==e?e:ip[np]=new Map;let n=t.get(r.createContext);return n||(n=r.createContext(null),t.set(r.createContext,n)),n}var op=ap();var sp=function(e){const{children:t,context:n,serverState:i,store:a}=e,o=r.useMemo(()=>{const e=Zf(a);return{store:a,subscription:e,getServerState:i?()=>i:void 0}},[a,i]),s=r.useMemo(()=>a.getState(),[a]);rp(()=>{const{subscription:e}=o;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),s!==a.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}},[o,s]);const l=n||op;return r.createElement(l.Provider,{value:o},t)};var lp=Symbol.for("immer-nothing"),cp=Symbol.for("immer-draftable"),up=Symbol.for("immer-state");function dp(e){throw new Error("[Immer] minified error nr: ".concat(e,". Full error at: https://bit.ly/3cXEKWf"))}var hp=Object.getPrototypeOf;function fp(e){return!!e&&!!e[up]}function pp(e){var t;return!!e&&(mp(e)||Array.isArray(e)||!!e[cp]||!(null===(t=e.constructor)||void 0===t||!t[cp])||xp(e)||wp(e))}var gp=Object.prototype.constructor.toString();function mp(e){if(!e||"object"!==typeof e)return!1;const t=hp(e);if(null===t)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object||"function"==typeof r&&Function.toString.call(r)===gp}function vp(e,t){0===yp(e)?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function yp(e){const t=e[up];return t?t.type_:Array.isArray(e)?1:xp(e)?2:wp(e)?3:0}function bp(e,t){return 2===yp(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function _p(e,t,r){const n=yp(e);2===n?e.set(t,r):3===n?e.add(r):e[t]=r}function xp(e){return e instanceof Map}function wp(e){return e instanceof Set}function kp(e){return e.copy_||e.base_}function Ep(e,t){if(xp(e))return new Map(e);if(wp(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=mp(e);if(!0===t||"class_only"===t&&!r){const t=Object.getOwnPropertyDescriptors(e);delete t[up];let r=Reflect.ownKeys(t);for(let n=0;n<r.length;n++){const i=r[n],a=t[i];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(hp(e),t)}{const t=hp(e);if(null!==t&&r)return(0,Re.A)({},e);const n=Object.create(t);return Object.assign(n,e)}}function Cp(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Tp(e)||fp(e)||!pp(e)||(yp(e)>1&&Object.defineProperties(e,{set:{value:Ap},add:{value:Ap},clear:{value:Ap},delete:{value:Ap}}),Object.freeze(e),t&&Object.values(e).forEach(e=>Cp(e,!0))),e}function Ap(){dp(2)}function Tp(e){return Object.isFrozen(e)}var Sp,Op={};function Pp(e){const t=Op[e];return t||dp(0),t}function Ip(){return Sp}function jp(e,t){t&&(Pp("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Mp(e){Np(e),e.drafts_.forEach(Dp),e.drafts_=null}function Np(e){e===Sp&&(Sp=e.parent_)}function Rp(e){return Sp={drafts_:[],parent_:Sp,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Dp(e){const t=e[up];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function Lp(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return void 0!==e&&e!==r?(r[up].modified_&&(Mp(t),dp(4)),pp(e)&&(e=Up(t,e),t.parent_||zp(t,e)),t.patches_&&Pp("Patches").generateReplacementPatches_(r[up].base_,e,t.patches_,t.inversePatches_)):e=Up(t,r,[]),Mp(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==lp?e:void 0}function Up(e,t,r){if(Tp(t))return t;const n=t[up];if(!n)return vp(t,(i,a)=>Bp(e,n,t,i,a,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return zp(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const t=n.copy_;let i=t,a=!1;3===n.type_&&(i=new Set(t),t.clear(),a=!0),vp(i,(i,o)=>Bp(e,n,t,i,o,r,a)),zp(e,t,!1),r&&e.patches_&&Pp("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function Bp(e,t,r,n,i,a,o){if(fp(i)){const o=Up(e,i,a&&t&&3!==t.type_&&!bp(t.assigned_,n)?a.concat(n):void 0);if(_p(r,n,o),!fp(o))return;e.canAutoFreeze_=!1}else o&&r.add(i);if(pp(i)&&!Tp(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Up(e,i),t&&t.scope_.parent_||"symbol"===typeof n||!(xp(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))||zp(e,i)}}function zp(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Cp(t,r)}var Kp={get(e,t){if(t===up)return e;const r=kp(e);if(!bp(r,t))return function(e,t,r){var n;const i=Hp(t,r);return i?"value"in i?i.value:null===(n=i.get)||void 0===n?void 0:n.call(e.draft_):void 0}(e,r,t);const n=r[t];return e.finalized_||!pp(n)?n:n===Fp(e.base_,t)?(Vp(e),e.copy_[t]=Gp(n,e)):n},has:(e,t)=>t in kp(e),ownKeys:e=>Reflect.ownKeys(kp(e)),set(e,t,r){const n=Hp(kp(e),t);if(null!==n&&void 0!==n&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const n=Fp(kp(e),t),o=null===n||void 0===n?void 0:n[up];if(o&&o.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(((i=r)===(a=n)?0!==i||1/i===1/a:i!==i&&a!==a)&&(void 0!==r||bp(e.base_,t)))return!0;Vp(e),Wp(e)}var i,a;return e.copy_[t]===r&&(void 0!==r||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==Fp(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,Vp(e),Wp(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const r=kp(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:n.enumerable,value:r[t]}:n},defineProperty(){dp(11)},getPrototypeOf:e=>hp(e.base_),setPrototypeOf(){dp(12)}},qp={};function Fp(e,t){const r=e[up];return(r?kp(r):e)[t]}function Hp(e,t){if(!(t in e))return;let r=hp(e);for(;r;){const e=Object.getOwnPropertyDescriptor(r,t);if(e)return e;r=hp(r)}}function Wp(e){e.modified_||(e.modified_=!0,e.parent_&&Wp(e.parent_))}function Vp(e){e.copy_||(e.copy_=Ep(e.base_,e.scope_.immer_.useStrictShallowCopy_))}vp(Kp,(e,t)=>{qp[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),qp.deleteProperty=function(e,t){return qp.set.call(this,e,t,void 0)},qp.set=function(e,t,r){return Kp.set.call(this,e[0],t,r,e[0])};function Gp(e,t){const r=xp(e)?Pp("MapSet").proxyMap_(e,t):wp(e)?Pp("MapSet").proxySet_(e,t):function(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:Ip(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,a=Kp;r&&(i=[n],a=qp);const{revoke:o,proxy:s}=Proxy.revocable(i,a);return n.draft_=s,n.revoke_=o,s}(e,t);return(t?t.scope_:Ip()).drafts_.push(r),r}function Yp(e){if(!pp(e)||Tp(e))return e;const t=e[up];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Ep(e,t.scope_.immer_.useStrictShallowCopy_)}else r=Ep(e,!0);return vp(r,(e,t)=>{_p(r,e,Yp(t))}),t&&(t.finalized_=!1),r}var Qp=new class{constructor(e){var t=this;this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,r)=>{if("function"===typeof e&&"function"!==typeof t){const r=t;t=e;const n=this;return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r;for(var i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];return n.produce(e,e=>t.call(this,e,...a))}}let n;if("function"!==typeof t&&dp(6),void 0!==r&&"function"!==typeof r&&dp(7),pp(e)){const i=Rp(this),a=Gp(e,void 0);let o=!0;try{n=t(a),o=!1}finally{o?Mp(i):Np(i)}return jp(i,r),Lp(n,i)}if(!e||"object"!==typeof e){if(n=t(e),void 0===n&&(n=e),n===lp&&(n=void 0),this.autoFreeze_&&Cp(n,!0),r){const t=[],i=[];Pp("Patches").generateReplacementPatches_(e,n,t,i),r(t,i)}return n}dp(1)},this.produceWithPatches=(e,r)=>{if("function"===typeof e)return function(r){for(var n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];return t.produceWithPatches(r,t=>e(t,...i))};let n,i;return[this.produce(e,r,(e,t)=>{n=e,i=t}),n,i]},"boolean"===typeof(null===e||void 0===e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),"boolean"===typeof(null===e||void 0===e?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){pp(e)||dp(8),fp(e)&&(e=function(e){fp(e)||dp(10);return Yp(e)}(e));const t=Rp(this),r=Gp(e,void 0);return r[up].isManual_=!0,Np(t),r}finishDraft(e,t){const r=e&&e[up];r&&r.isManual_||dp(9);const{scope_:n}=r;return jp(n,t),Lp(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const n=t[r];if(0===n.path.length&&"replace"===n.op){e=n.value;break}}r>-1&&(t=t.slice(r+1));const n=Pp("Patches").applyPatches_;return fp(e)?n(e,t):this.produce(e,e=>n(e,t))}};Qp.produce;var Jp={active:!1,index:null,dataKey:void 0,coordinate:void 0},Xp=hf({name:"tooltip",initialState:{itemInteraction:{click:Jp,hover:Jp},axisInteraction:{click:Jp,hover:Jp},keyboardInteraction:Jp,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var r=Wh(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:$p,removeTooltipEntrySettings:Zp,setTooltipSettingsState:eg,setActiveMouseOverItemIndex:tg,mouseLeaveItem:rg,mouseLeaveChart:ng,setActiveClickItemIndex:ig,setMouseOverAxisIndex:ag,setMouseClickAxisIndex:og,setSyncInteraction:sg,setKeyboardInteraction:lg}=Xp.actions,cg=Xp.reducer,ug=hf({name:"chartData",initialState:{chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},reducers:{setChartData(e,t){if(e.chartData=t.payload,null==t.payload)return e.dataStartIndex=0,void(e.dataEndIndex=0);t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;null!=r&&(e.dataStartIndex=r),null!=n&&(e.dataEndIndex=n)}}}),{setChartData:dg,setDataStartEndIndexes:hg,setComputedData:fg}=ug.actions,pg=ug.reducer,gg=hf({name:"chartLayout",initialState:{layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,i,a;e.margin.top=null!==(r=t.payload.top)&&void 0!==r?r:0,e.margin.right=null!==(n=t.payload.right)&&void 0!==n?n:0,e.margin.bottom=null!==(i=t.payload.bottom)&&void 0!==i?i:0,e.margin.left=null!==(a=t.payload.left)&&void 0!==a?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:mg,setLayout:vg,setChartSize:yg,setScale:bg}=gg.actions,_g=gg.reducer;function xg(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected a function, instead received ".concat(typeof e);if("function"!==typeof e)throw new TypeError(t)}var wg=e=>Array.isArray(e)?e:[e];function kg(e){const t=Array.isArray(e[0])?e[0]:e;return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected all items to be functions, instead received the following types: ";if(!e.every(e=>"function"===typeof e)){const r=e.map(e=>"function"===typeof e?"function ".concat(e.name||"unnamed","()"):typeof e).join(", ");throw new TypeError("".concat(t,"[").concat(r,"]"))}}(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}Symbol(),Object.getPrototypeOf({});var Eg="undefined"!==typeof WeakRef?WeakRef:class{constructor(e){this.value=e}deref(){return this.value}};function Cg(){return{s:0,v:void 0,o:null,p:null}}function Ag(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={s:0,v:void 0,o:null,p:null};const{resultEqualityCheck:n}=t;let i,a=0;function o(){let t=r;const{length:o}=arguments;for(let e=0,r=o;e<r;e++){const r=arguments[e];if("function"===typeof r||"object"===typeof r&&null!==r){let e=t.o;null===e&&(t.o=e=new WeakMap);const n=e.get(r);void 0===n?(t=Cg(),e.set(r,t)):t=n}else{let e=t.p;null===e&&(t.p=e=new Map);const n=e.get(r);void 0===n?(t=Cg(),e.set(r,t)):t=n}}const s=t;let l;if(1===t.s)l=t.v;else if(l=e.apply(null,arguments),a++,n){var c,u,d;const e=null!==(c=null===(u=i)||void 0===u||null===(d=u.deref)||void 0===d?void 0:d.call(u))&&void 0!==c?c:i;null!=e&&n(e,l)&&(l=e,0!==a&&a--);i="object"===typeof l&&null!==l||"function"===typeof l?new Eg(l):l}return s.s=1,s.v=l,l}return o.clearCache=()=>{r={s:0,v:void 0,o:null,p:null},o.resetResultsCount()},o.resultsCount=()=>a,o.resetResultsCount=()=>{a=0},o}function Tg(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];const i="function"===typeof e?{memoize:e,memoizeOptions:r}:e,a=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];let n,a=0,o=0,s={},l=t.pop();"object"===typeof l&&(s=l,l=t.pop()),xg(l,"createSelector expects an output function after the inputs, but received: [".concat(typeof l,"]"));const c=(0,Re.A)((0,Re.A)({},i),s),{memoize:u,memoizeOptions:d=[],argsMemoize:h=Ag,argsMemoizeOptions:f=[],devModeChecks:p={}}=c,g=wg(d),m=wg(f),v=kg(t),y=u(function(){return a++,l.apply(null,arguments)},...g);const b=h(function(){o++;const e=function(e,t){const r=[],{length:n}=e;for(let i=0;i<n;i++)r.push(e[i].apply(null,t));return r}(v,arguments);return n=y.apply(null,e),n},...m);return Object.assign(b,{resultFunc:l,memoizedResultFunc:y,dependencies:v,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>n,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:u,argsMemoize:h})};return Object.assign(a,{withTypes:()=>a}),a}var Sg=Tg(Ag),Og=Object.assign(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Sg;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected an object, instead received ".concat(typeof e);if("object"!==typeof e)throw new TypeError(t)}(e,"createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ".concat(typeof e));const r=Object.keys(e),n=t(r.map(t=>e[t]),function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((e,t,n)=>(e[r[n]]=t,e),{})});return n},{withTypes:()=>Og}),Pg=__webpack_require__(755),Ig=(0,r.createContext)(null),jg=e=>e,Mg=()=>{var e=(0,r.useContext)(Ig);return e?e.store.dispatch:jg},Ng=()=>{},Rg=()=>Ng,Dg=(e,t)=>e===t;function Lg(e){var t=(0,r.useContext)(Ig);return(0,Pg.useSyncExternalStoreWithSelector)(t?t.subscription.addNestedSub:Rg,t?t.store.getState:Ng,t?t.store.getState:Ng,t?e:Ng,Dg)}var Ug=__webpack_require__(5781),Bg=__webpack_require__.n(Ug),zg=e=>e.legend.settings,Kg=Sg([e=>e.legend.payload,zg],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?Bg()(n,r):n});function qg(e,t){if((i=e.length)>1)for(var r,n,i,a=1,o=e[t[0]],s=o.length;a<i;++a)for(n=o,o=e[t[a]],r=0;r<s;++r)o[r][1]+=o[r][0]=isNaN(n[r][1])?n[r][0]:n[r][1]}Array.prototype.slice;function Fg(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function Hg(e){return function(){return e}}function Wg(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function Vg(e,t){return e[t]}function Gg(e){const t=[];return t.key=e,t}function Yg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Qg(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Yg(Object(r),!0).forEach(function(t){Jg(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yg(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Jg(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Xg=Math.PI/180,$g=e=>180*e/Math.PI,Zg=(e,t,r,n)=>({x:e+Math.cos(-Xg*n)*r,y:t+Math.sin(-Xg*n)*r}),em=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{top:0,right:0,bottom:0,left:0,width:0,height:0,brushBottom:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(t-(r.top||0)-(r.bottom||0)))/2},tm=(e,t)=>{var{x:r,y:n}=e,{cx:i,cy:a}=t,o=((e,t)=>{var{x:r,y:n}=e,{x:i,y:a}=t;return Math.sqrt((r-i)**2+(n-a)**2)})({x:r,y:n},{x:i,y:a});if(o<=0)return{radius:o,angle:0};var s=(r-i)/o,l=Math.acos(s);return n>a&&(l=2*Math.PI-l),{radius:o,angle:$g(l),angleInRadian:l}},rm=(e,t)=>{var{startAngle:r,endAngle:n}=t,i=Math.floor(r/360),a=Math.floor(n/360);return e+360*Math.min(i,a)},nm=(e,t)=>{var{x:r,y:n}=e,{radius:i,angle:a}=tm({x:r,y:n},t),{innerRadius:o,outerRadius:s}=t;if(i<o||i>s)return null;if(0===i)return null;var l,{startAngle:c,endAngle:u}=(e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),i=Math.floor(r/360),a=Math.min(n,i);return{startAngle:t-360*a,endAngle:r-360*a}})(t),d=a;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;l=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;l=d>=u&&d<=c}return l?Qg(Qg({},t),{},{radius:i,angle:rm(d,t)}):null};function im(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function am(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function om(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?am(Object(r),!0).forEach(function(t){sm(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):am(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function sm(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lm(e,t,r){return Bd(e)||Bd(t)?r:jd(t)?Td()(e,t,r):"function"===typeof t?t(e):r}var cm=(e,t)=>"horizontal"===e&&"xAxis"===t||"vertical"===e&&"yAxis"===t||"centric"===e&&"angleAxis"===t||"radial"===e&&"radiusAxis"===t,um=(e,t,r,n)=>{if(n)return e.map(e=>e.coordinate);var i,a,o=e.map(e=>(e.coordinate===t&&(i=!0),e.coordinate===r&&(a=!0),e.coordinate));return i||o.push(t),a||o.push(r),o},dm=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:i,range:a,scale:o,realScaleType:s,isCategorical:l,categoricalDomain:c,tickCount:u,ticks:d,niceTicks:h,axisType:f}=e;if(!o)return null;var p="scaleBand"===s&&o.bandwidth?o.bandwidth()/2:2,g=(t||r)&&"category"===i&&o.bandwidth?o.bandwidth()/p:0;return g="angleAxis"===f&&a&&a.length>=2?2*Sd(a[0]-a[1])*g:g,t&&(d||h)?(d||h||[]).map((e,t)=>{var r=n?n.indexOf(e):e;return{coordinate:o(r)+g,value:e,offset:g,index:t}}).filter(e=>!Od(e.coordinate)):l&&c?c.map((e,t)=>({coordinate:o(e)+g,value:e,index:t,offset:g})):o.ticks&&!r&&null!=u?o.ticks(u).map((e,t)=>({coordinate:o(e)+g,value:e,offset:g,index:t})):o.domain().map((e,t)=>({coordinate:o(e)+g,value:n?n[e]:e,index:t,offset:g}))},hm=1e-4,fm={sign:e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,a=0,o=0;o<t;++o){var s=Od(e[o][r][1])?e[o][r][0]:e[o][r][1];s>=0?(e[o][r][0]=i,e[o][r][1]=i+s,i=e[o][r][1]):(e[o][r][0]=a,e[o][r][1]=a+s,a=e[o][r][1])}},expand:function(e,t){if((n=e.length)>0){for(var r,n,i,a=0,o=e[0].length;a<o;++a){for(i=r=0;r<n;++r)i+=e[r][a][1]||0;if(i)for(r=0;r<n;++r)e[r][a][1]/=i}qg(e,t)}},none:qg,silhouette:function(e,t){if((r=e.length)>0){for(var r,n=0,i=e[t[0]],a=i.length;n<a;++n){for(var o=0,s=0;o<r;++o)s+=e[o][n][1]||0;i[n][1]+=i[n][0]=-s/2}qg(e,t)}},wiggle:function(e,t){if((i=e.length)>0&&(n=(r=e[t[0]]).length)>0){for(var r,n,i,a=0,o=1;o<n;++o){for(var s=0,l=0,c=0;s<i;++s){for(var u=e[t[s]],d=u[o][1]||0,h=(d-(u[o-1][1]||0))/2,f=0;f<s;++f){var p=e[t[f]];h+=(p[o][1]||0)-(p[o-1][1]||0)}l+=d,c+=h*d}r[o-1][1]+=r[o-1][0]=a,l&&(a-=c/l)}r[o-1][1]+=r[o-1][0]=a,qg(e,t)}},positive:e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,a=0;a<t;++a){var o=Od(e[a][r][1])?e[a][r][0]:e[a][r][1];o>=0?(e[a][r][0]=i,e[a][r][1]=i+o,i=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}}},pm=(e,t,r)=>{var n=fm[r],i=function(){var e=Hg([]),t=Wg,r=qg,n=Vg;function i(i){var a,o,s=Array.from(e.apply(this,arguments),Gg),l=s.length,c=-1;for(const e of i)for(a=0,++c;a<l;++a)(s[a][c]=[0,+n(e,s[a].key,c,i)]).data=e;for(a=0,o=Fg(t(s));a<l;++a)s[o[a]].index=a;return r(s,o),s}return i.keys=function(t){return arguments.length?(e="function"===typeof t?t:Hg(Array.from(t)),i):e},i.value=function(e){return arguments.length?(n="function"===typeof e?e:Hg(+e),i):n},i.order=function(e){return arguments.length?(t=null==e?Wg:"function"===typeof e?e:Hg(Array.from(e)),i):t},i.offset=function(e){return arguments.length?(r=null==e?qg:e,i):r},i}().keys(t).value((e,t)=>+lm(e,t,0)).order(Wg).offset(n);return i(e)};function gm(e){return null==e?void 0:String(e)}function mm(e){var{axis:t,ticks:r,bandSize:n,entry:i,index:a,dataKey:o}=e;if("category"===t.type){if(!t.allowDuplicatedCategory&&t.dataKey&&!Bd(i[t.dataKey])){var s=Ud(r,"value",i[t.dataKey]);if(s)return s.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var l=lm(i,Bd(o)?t.dataKey:o);return Bd(l)?null:t.scale(l)}var vm=e=>{var{axis:t,ticks:r,offset:n,bandSize:i,entry:a,index:o}=e;if("category"===t.type)return r[o]?r[o].coordinate+n:null;var s=lm(a,t.dataKey,t.scale.domain()[o]);return Bd(s)?null:t.scale(s)-i/2+n},ym=(e,t,r)=>{var n;if(null!=e)return n=Object.keys(e).reduce((n,i)=>{var a=e[i],{stackedData:o}=a,s=o.reduce((e,n)=>{var i=(e=>{var t=e.flat(2).filter(Id);return[Math.min(...t),Math.max(...t)]})(im(n,t,r));return[Math.min(e[0],i[0]),Math.max(e[1],i[1])]},[1/0,-1/0]);return[Math.min(s[0],n[0]),Math.max(s[1],n[1])]},[1/0,-1/0]),[n[0]===1/0?0:n[0],n[1]===-1/0?0:n[1]]},bm=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,_m=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,xm=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var i=Bg()(t,e=>e.coordinate),a=1/0,o=1,s=i.length;o<s;o++){var l=i[o],c=i[o-1];a=Math.min((l.coordinate||0)-(c.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0};function wm(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:i,name:a}=e;return om(om({},t),{},{dataKey:r,payload:n,value:i,name:a})}function km(e,t){return e?String(e):"string"===typeof t?t:void 0}var Em=e=>e.layout.width,Cm=e=>e.layout.height,Am=e=>e.layout.scale,Tm=e=>e.layout.margin,Sm=Sg(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Om=Sg(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),Pm="data-recharts-item-index",Im="data-recharts-item-data-key";function jm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Mm(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?jm(Object(r),!0).forEach(function(t){Nm(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jm(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Nm(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Rm=Sg([Em,Cm,Tm,e=>e.brush.height,function(e){return Om(e).reduce((e,t)=>"left"!==t.orientation||t.mirror||t.hide?e:e+("number"===typeof t.width?t.width:60),0)},function(e){return Om(e).reduce((e,t)=>"right"!==t.orientation||t.mirror||t.hide?e:e+("number"===typeof t.width?t.width:60),0)},function(e){return Sm(e).reduce((e,t)=>"top"!==t.orientation||t.mirror||t.hide?e:e+t.height,0)},function(e){return Sm(e).reduce((e,t)=>"bottom"!==t.orientation||t.mirror||t.hide?e:e+t.height,0)},zg,e=>e.legend.size],(e,t,r,n,i,a,o,s,l,c)=>{var u={left:(r.left||0)+i,right:(r.right||0)+a},d=Mm(Mm({},{top:(r.top||0)+o,bottom:(r.bottom||0)+s}),u),h=d.bottom;d.bottom+=n,d=((e,t,r)=>{if(t&&r){var{width:n,height:i}=r,{align:a,verticalAlign:o,layout:s}=t;if(("vertical"===s||"horizontal"===s&&"middle"===o)&&"center"!==a&&Id(e[a]))return om(om({},e),{},{[a]:e[a]+(n||0)});if(("horizontal"===s||"vertical"===s&&"center"===a)&&"middle"!==o&&Id(e[o]))return om(om({},e),{},{[o]:e[o]+(i||0)})}return e})(d,l,c);var f=e-d.left-d.right,p=t-d.top-d.bottom;return Mm(Mm({brushBottom:h},d),{},{width:Math.max(f,0),height:Math.max(p,0)})}),Dm=Sg(Rm,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Lm=Sg(Em,Cm,(e,t)=>({x:0,y:0,width:e,height:t})),Um=(0,r.createContext)(null),Bm=()=>null!=(0,r.useContext)(Um),zm=e=>e.brush,Km=Sg([zm,Rm,Tm],(e,t,r)=>({height:e.height,x:Id(e.x)?e.x:t.left,y:Id(e.y)?e.y:t.top+t.height+t.brushBottom-((null===r||void 0===r?void 0:r.bottom)||0),width:Id(e.width)?e.width:t.width})),qm=()=>{var e,t=Bm(),r=Lg(Dm),n=Lg(Km),i=null===(e=Lg(zm))||void 0===e?void 0:e.padding;return t&&n&&i?{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}:r},Fm={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},Hm=()=>{var e;return null!==(e=Lg(Rm))&&void 0!==e?e:Fm},Wm=()=>Lg(Em),Vm=()=>Lg(Cm),Gm=e=>e.layout.layoutType,Ym=()=>Lg(Gm),Qm=__webpack_require__(1755),Jm=__webpack_require__.n(Qm);function Xm(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function $m(e,t){switch(arguments.length){case 0:break;case 1:"function"===typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"===typeof t?this.interpolator(t):this.range(t)}return this}class Zm extends Map{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nv;if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[r,n]of e)this.set(r,n)}get(e){return super.get(ev(this,e))}has(e){return super.has(ev(this,e))}set(e,t){return super.set(tv(this,e),t)}delete(e){return super.delete(rv(this,e))}}Set;function ev(e,t){let{_intern:r,_key:n}=e;const i=n(t);return r.has(i)?r.get(i):t}function tv(e,t){let{_intern:r,_key:n}=e;const i=n(t);return r.has(i)?r.get(i):(r.set(i,t),t)}function rv(e,t){let{_intern:r,_key:n}=e;const i=n(t);return r.has(i)&&(t=r.get(i),r.delete(i)),t}function nv(e){return null!==e&&"object"===typeof e?e.valueOf():e}const iv=Symbol("implicit");function av(){var e=new Zm,t=[],r=[],n=iv;function i(i){let a=e.get(i);if(void 0===a){if(n!==iv)return n;e.set(i,a=t.push(i)-1)}return r[a%r.length]}return i.domain=function(r){if(!arguments.length)return t.slice();t=[],e=new Zm;for(const n of r)e.has(n)||e.set(n,t.push(n)-1);return i},i.range=function(e){return arguments.length?(r=Array.from(e),i):r.slice()},i.unknown=function(e){return arguments.length?(n=e,i):n},i.copy=function(){return av(t,r).unknown(n)},Xm.apply(i,arguments),i}function ov(){var e,t,r=av().unknown(void 0),n=r.domain,i=r.range,a=0,o=1,s=!1,l=0,c=0,u=.5;function d(){var r=n().length,d=o<a,h=d?o:a,f=d?a:o;e=(f-h)/Math.max(1,r-l+2*c),s&&(e=Math.floor(e)),h+=(f-h-e*(r-l))*u,t=e*(1-l),s&&(h=Math.round(h),t=Math.round(t));var p=function(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=0|Math.max(0,Math.ceil((t-e)/r)),a=new Array(i);++n<i;)a[n]=e+n*r;return a}(r).map(function(t){return h+e*t});return i(d?p.reverse():p)}return delete r.unknown,r.domain=function(e){return arguments.length?(n(e),d()):n()},r.range=function(e){return arguments.length?([a,o]=e,a=+a,o=+o,d()):[a,o]},r.rangeRound=function(e){return[a,o]=e,a=+a,o=+o,s=!0,d()},r.bandwidth=function(){return t},r.step=function(){return e},r.round=function(e){return arguments.length?(s=!!e,d()):s},r.padding=function(e){return arguments.length?(l=Math.min(1,c=+e),d()):l},r.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),d()):l},r.paddingOuter=function(e){return arguments.length?(c=+e,d()):c},r.align=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),d()):u},r.copy=function(){return ov(n(),[a,o]).round(s).paddingInner(l).paddingOuter(c).align(u)},Xm.apply(d(),arguments)}function sv(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return sv(t())},e}function lv(){return sv(ov.apply(null,arguments).paddingInner(1))}const cv=Math.sqrt(50),uv=Math.sqrt(10),dv=Math.sqrt(2);function hv(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),o=a>=cv?10:a>=uv?5:a>=dv?2:1;let s,l,c;return i<0?(c=Math.pow(10,-i)/o,s=Math.round(e*c),l=Math.round(t*c),s/c<e&&++s,l/c>t&&--l,c=-c):(c=Math.pow(10,i)*o,s=Math.round(e/c),l=Math.round(t/c),s*c<e&&++s,l*c>t&&--l),l<s&&.5<=r&&r<2?hv(e,t,2*r):[s,l,c]}function fv(e,t,r){if(!((r=+r)>0))return[];if((e=+e)===(t=+t))return[e];const n=t<e,[i,a,o]=n?hv(t,e,r):hv(e,t,r);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(n)if(o<0)for(let c=0;c<s;++c)l[c]=(a-c)/-o;else for(let c=0;c<s;++c)l[c]=(a-c)*o;else if(o<0)for(let c=0;c<s;++c)l[c]=(i+c)/-o;else for(let c=0;c<s;++c)l[c]=(i+c)*o;return l}function pv(e,t,r){return hv(e=+e,t=+t,r=+r)[2]}function gv(e,t,r){r=+r;const n=(t=+t)<(e=+e),i=n?pv(t,e,r):pv(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function mv(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function vv(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function yv(e){let t,r,n;function i(e,n){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(i<a){if(0!==t(n,n))return a;do{const t=i+a>>>1;r(e[t],n)<0?i=t+1:a=t}while(i<a)}return i}return 2!==e.length?(t=mv,r=(t,r)=>mv(e(t),r),n=(t,r)=>e(t)-r):(t=e===mv||e===vv?e:bv,r=e,n=e),{left:i,center:function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const a=i(e,t,r,(arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length)-1);return a>r&&n(e[a-1],t)>-n(e[a],t)?a-1:a},right:function(e,n){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(i<a){if(0!==t(n,n))return a;do{const t=i+a>>>1;r(e[t],n)<=0?i=t+1:a=t}while(i<a)}return i}}}function bv(){return 0}function _v(e){return null===e?NaN:+e}const xv=yv(mv),wv=xv.right,kv=(xv.left,yv(_v).center,wv);function Ev(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function Cv(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Av(){}var Tv=.7,Sv=1/Tv,Ov="\\s*([+-]?\\d+)\\s*",Pv="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Iv="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",jv=/^#([0-9a-f]{3,8})$/,Mv=new RegExp("^rgb\\(".concat(Ov,",").concat(Ov,",").concat(Ov,"\\)$")),Nv=new RegExp("^rgb\\(".concat(Iv,",").concat(Iv,",").concat(Iv,"\\)$")),Rv=new RegExp("^rgba\\(".concat(Ov,",").concat(Ov,",").concat(Ov,",").concat(Pv,"\\)$")),Dv=new RegExp("^rgba\\(".concat(Iv,",").concat(Iv,",").concat(Iv,",").concat(Pv,"\\)$")),Lv=new RegExp("^hsl\\(".concat(Pv,",").concat(Iv,",").concat(Iv,"\\)$")),Uv=new RegExp("^hsla\\(".concat(Pv,",").concat(Iv,",").concat(Iv,",").concat(Pv,"\\)$")),Bv={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function zv(){return this.rgb().formatHex()}function Kv(){return this.rgb().formatRgb()}function qv(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=jv.exec(e))?(r=t[1].length,t=parseInt(t[1],16),6===r?Fv(t):3===r?new Vv(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===r?Hv(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===r?Hv(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=Mv.exec(e))?new Vv(t[1],t[2],t[3],1):(t=Nv.exec(e))?new Vv(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=Rv.exec(e))?Hv(t[1],t[2],t[3],t[4]):(t=Dv.exec(e))?Hv(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Lv.exec(e))?$v(t[1],t[2]/100,t[3]/100,1):(t=Uv.exec(e))?$v(t[1],t[2]/100,t[3]/100,t[4]):Bv.hasOwnProperty(e)?Fv(Bv[e]):"transparent"===e?new Vv(NaN,NaN,NaN,0):null}function Fv(e){return new Vv(e>>16&255,e>>8&255,255&e,1)}function Hv(e,t,r,n){return n<=0&&(e=t=r=NaN),new Vv(e,t,r,n)}function Wv(e,t,r,n){return 1===arguments.length?((i=e)instanceof Av||(i=qv(i)),i?new Vv((i=i.rgb()).r,i.g,i.b,i.opacity):new Vv):new Vv(e,t,r,null==n?1:n);var i}function Vv(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}function Gv(){return"#".concat(Xv(this.r)).concat(Xv(this.g)).concat(Xv(this.b))}function Yv(){const e=Qv(this.opacity);return"".concat(1===e?"rgb(":"rgba(").concat(Jv(this.r),", ").concat(Jv(this.g),", ").concat(Jv(this.b)).concat(1===e?")":", ".concat(e,")"))}function Qv(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Jv(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Xv(e){return((e=Jv(e))<16?"0":"")+e.toString(16)}function $v(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new ey(e,t,r,n)}function Zv(e){if(e instanceof ey)return new ey(e.h,e.s,e.l,e.opacity);if(e instanceof Av||(e=qv(e)),!e)return new ey;if(e instanceof ey)return e;var t=(e=e.rgb()).r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),a=Math.max(t,r,n),o=NaN,s=a-i,l=(a+i)/2;return s?(o=t===a?(r-n)/s+6*(r<n):r===a?(n-t)/s+2:(t-r)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new ey(o,s,l,e.opacity)}function ey(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}function ty(e){return(e=(e||0)%360)<0?e+360:e}function ry(e){return Math.max(0,Math.min(1,e||0))}function ny(e,t,r){return 255*(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)}function iy(e,t,r,n,i){var a=e*e,o=a*e;return((1-3*e+3*a-o)*t+(4-6*a+3*o)*r+(1+3*e+3*a-3*o)*n+o*i)/6}Ev(Av,qv,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:zv,formatHex:zv,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Zv(this).formatHsl()},formatRgb:Kv,toString:Kv}),Ev(Vv,Wv,Cv(Av,{brighter(e){return e=null==e?Sv:Math.pow(Sv,e),new Vv(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?Tv:Math.pow(Tv,e),new Vv(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Vv(Jv(this.r),Jv(this.g),Jv(this.b),Qv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Gv,formatHex:Gv,formatHex8:function(){return"#".concat(Xv(this.r)).concat(Xv(this.g)).concat(Xv(this.b)).concat(Xv(255*(isNaN(this.opacity)?1:this.opacity)))},formatRgb:Yv,toString:Yv})),Ev(ey,function(e,t,r,n){return 1===arguments.length?Zv(e):new ey(e,t,r,null==n?1:n)},Cv(Av,{brighter(e){return e=null==e?Sv:Math.pow(Sv,e),new ey(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?Tv:Math.pow(Tv,e),new ey(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new Vv(ny(e>=240?e-240:e+120,i,n),ny(e,i,n),ny(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new ey(ty(this.h),ry(this.s),ry(this.l),Qv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Qv(this.opacity);return"".concat(1===e?"hsl(":"hsla(").concat(ty(this.h),", ").concat(100*ry(this.s),"%, ").concat(100*ry(this.l),"%").concat(1===e?")":", ".concat(e,")"))}}));const ay=e=>()=>e;function oy(e,t){return function(r){return e+r*t}}function sy(e){return 1===(e=+e)?ly:function(t,r){return r-t?function(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}(t,r,e):ay(isNaN(t)?r:t)}}function ly(e,t){var r=t-e;return r?oy(e,r):ay(isNaN(e)?t:e)}const cy=function e(t){var r=sy(t);function n(e,t){var n=r((e=Wv(e)).r,(t=Wv(t)).r),i=r(e.g,t.g),a=r(e.b,t.b),o=ly(e.opacity,t.opacity);return function(t){return e.r=n(t),e.g=i(t),e.b=a(t),e.opacity=o(t),e+""}}return n.gamma=e,n}(1);function uy(e){return function(t){var r,n,i=t.length,a=new Array(i),o=new Array(i),s=new Array(i);for(r=0;r<i;++r)n=Wv(t[r]),a[r]=n.r||0,o[r]=n.g||0,s[r]=n.b||0;return a=e(a),o=e(o),s=e(s),n.opacity=1,function(e){return n.r=a(e),n.g=o(e),n.b=s(e),n+""}}}uy(function(e){var t=e.length-1;return function(r){var n=r<=0?r=0:r>=1?(r=1,t-1):Math.floor(r*t),i=e[n],a=e[n+1],o=n>0?e[n-1]:2*i-a,s=n<t-1?e[n+2]:2*a-i;return iy((r-n/t)*t,o,i,a,s)}}),uy(function(e){var t=e.length;return function(r){var n=Math.floor(((r%=1)<0?++r:r)*t),i=e[(n+t-1)%t],a=e[n%t],o=e[(n+1)%t],s=e[(n+2)%t];return iy((r-n/t)*t,i,a,o,s)}});function dy(e,t){var r,n=t?t.length:0,i=e?Math.min(n,e.length):0,a=new Array(i),o=new Array(n);for(r=0;r<i;++r)a[r]=by(e[r],t[r]);for(;r<n;++r)o[r]=t[r];return function(e){for(r=0;r<i;++r)o[r]=a[r](e);return o}}function hy(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function fy(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function py(e,t){var r,n={},i={};for(r in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)r in e?n[r]=by(e[r],t[r]):i[r]=t[r];return function(e){for(r in n)i[r]=n[r](e);return i}}var gy=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,my=new RegExp(gy.source,"g");function vy(e,t){var r,n,i,a=gy.lastIndex=my.lastIndex=0,o=-1,s=[],l=[];for(e+="",t+="";(r=gy.exec(e))&&(n=my.exec(t));)(i=n.index)>a&&(i=t.slice(a,i),s[o]?s[o]+=i:s[++o]=i),(r=r[0])===(n=n[0])?s[o]?s[o]+=n:s[++o]=n:(s[++o]=null,l.push({i:o,x:fy(r,n)})),a=my.lastIndex;return a<t.length&&(i=t.slice(a),s[o]?s[o]+=i:s[++o]=i),s.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var r,n=0;n<t;++n)s[(r=l[n]).i]=r.x(e);return s.join("")})}function yy(e,t){t||(t=[]);var r,n=e?Math.min(t.length,e.length):0,i=t.slice();return function(a){for(r=0;r<n;++r)i[r]=e[r]*(1-a)+t[r]*a;return i}}function by(e,t){var r,n,i=typeof t;return null==t||"boolean"===i?ay(t):("number"===i?fy:"string"===i?(r=qv(t))?(t=r,cy):vy:t instanceof qv?cy:t instanceof Date?hy:(n=t,!ArrayBuffer.isView(n)||n instanceof DataView?Array.isArray(t)?dy:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?py:fy:yy))(e,t)}function _y(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function xy(e){return+e}var wy=[0,1];function ky(e){return e}function Ey(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:(r=isNaN(t)?NaN:.5,function(){return r});var r}function Cy(e,t,r){var n=e[0],i=e[1],a=t[0],o=t[1];return i<n?(n=Ey(i,n),a=r(o,a)):(n=Ey(n,i),a=r(a,o)),function(e){return a(n(e))}}function Ay(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),a=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)i[o]=Ey(e[o],e[o+1]),a[o]=r(t[o],t[o+1]);return function(t){var r=kv(e,t,1,n)-1;return a[r](i[r](t))}}function Ty(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Sy(){var e,t,r,n,i,a,o=wy,s=wy,l=by,c=ky;function u(){var e=Math.min(o.length,s.length);return c!==ky&&(c=function(e,t){var r;return e>t&&(r=e,e=t,t=r),function(r){return Math.max(e,Math.min(t,r))}}(o[0],o[e-1])),n=e>2?Ay:Cy,i=a=null,d}function d(t){return null==t||isNaN(t=+t)?r:(i||(i=n(o.map(e),s,l)))(e(c(t)))}return d.invert=function(r){return c(t((a||(a=n(s,o.map(e),fy)))(r)))},d.domain=function(e){return arguments.length?(o=Array.from(e,xy),u()):o.slice()},d.range=function(e){return arguments.length?(s=Array.from(e),u()):s.slice()},d.rangeRound=function(e){return s=Array.from(e),l=_y,u()},d.clamp=function(e){return arguments.length?(c=!!e||ky,u()):c!==ky},d.interpolate=function(e){return arguments.length?(l=e,u()):l},d.unknown=function(e){return arguments.length?(r=e,d):r},function(r,n){return e=r,t=n,u()}}function Oy(){return Sy()(ky,ky)}var Py,Iy=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function jy(e){if(!(t=Iy.exec(e)))throw new Error("invalid format: "+e);var t;return new My({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function My(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function Ny(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Ry(e){return(e=Ny(Math.abs(e)))?e[1]:NaN}function Dy(e,t){var r=Ny(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}jy.prototype=My.prototype,My.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const Ly={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Dy(100*e,t),r:Dy,s:function(e,t){var r=Ny(e,t);if(!r)return e+"";var n=r[0],i=r[1],a=i-(Py=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,o=n.length;return a===o?n:a>o?n+new Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+Ny(e,Math.max(0,t+a-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Uy(e){return e}var By,zy,Ky,qy=Array.prototype.map,Fy=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function Hy(e){var t,r,n=void 0===e.grouping||void 0===e.thousands?Uy:(t=qy.call(e.grouping,Number),r=e.thousands+"",function(e,n){for(var i=e.length,a=[],o=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>n&&(s=Math.max(1,n-l)),a.push(e.substring(i-=s,i+s)),!((l+=s+1)>n));)s=t[o=(o+1)%t.length];return a.reverse().join(r)}),i=void 0===e.currency?"":e.currency[0]+"",a=void 0===e.currency?"":e.currency[1]+"",o=void 0===e.decimal?".":e.decimal+"",s=void 0===e.numerals?Uy:function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}(qy.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"\u2212":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function d(e){var t=(e=jy(e)).fill,r=e.align,d=e.sign,h=e.symbol,f=e.zero,p=e.width,g=e.comma,m=e.precision,v=e.trim,y=e.type;"n"===y?(g=!0,y="g"):Ly[y]||(void 0===m&&(m=12),v=!0,y="g"),(f||"0"===t&&"="===r)&&(f=!0,t="0",r="=");var b="$"===h?i:"#"===h&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",_="$"===h?a:/[%p]/.test(y)?l:"",x=Ly[y],w=/[defgprs%]/.test(y);function k(e){var i,a,l,h=b,k=_;if("c"===y)k=x(e)+k,e="";else{var E=(e=+e)<0||1/e<0;if(e=isNaN(e)?u:x(Math.abs(e),m),v&&(e=function(e){e:for(var t,r=e.length,n=1,i=-1;n<r;++n)switch(e[n]){case".":i=t=n;break;case"0":0===i&&(i=n),t=n;break;default:if(!+e[n])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),E&&0===+e&&"+"!==d&&(E=!1),h=(E?"("===d?d:c:"-"===d||"("===d?"":d)+h,k=("s"===y?Fy[8+Py/3]:"")+k+(E&&"("===d?")":""),w)for(i=-1,a=e.length;++i<a;)if(48>(l=e.charCodeAt(i))||l>57){k=(46===l?o+e.slice(i+1):e.slice(i))+k,e=e.slice(0,i);break}}g&&!f&&(e=n(e,1/0));var C=h.length+e.length+k.length,A=C<p?new Array(p-C+1).join(t):"";switch(g&&f&&(e=n(A+e,A.length?p-k.length:1/0),A=""),r){case"<":e=h+e+k+A;break;case"=":e=h+A+e+k;break;case"^":e=A.slice(0,C=A.length>>1)+h+e+k+A.slice(C);break;default:e=A+h+e+k}return s(e)}return m=void 0===m?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),k.toString=function(){return e+""},k}return{format:d,formatPrefix:function(e,t){var r=d(((e=jy(e)).type="f",e)),n=3*Math.max(-8,Math.min(8,Math.floor(Ry(t)/3))),i=Math.pow(10,-n),a=Fy[8+n/3];return function(e){return r(i*e)+a}}}}function Wy(e,t,r,n){var i,a=gv(e,t,r);switch((n=jy(null==n?",f":n)).type){case"s":var o=Math.max(Math.abs(e),Math.abs(t));return null!=n.precision||isNaN(i=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Ry(t)/3)))-Ry(Math.abs(e)))}(a,o))||(n.precision=i),Ky(n,o);case"":case"e":case"g":case"p":case"r":null!=n.precision||isNaN(i=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Ry(t)-Ry(e))+1}(a,Math.max(Math.abs(e),Math.abs(t))))||(n.precision=i-("e"===n.type));break;case"f":case"%":null!=n.precision||isNaN(i=function(e){return Math.max(0,-Ry(Math.abs(e)))}(a))||(n.precision=i-2*("%"===n.type))}return zy(n)}function Vy(e){var t=e.domain;return e.ticks=function(e){var r=t();return fv(r[0],r[r.length-1],null==e?10:e)},e.tickFormat=function(e,r){var n=t();return Wy(n[0],n[n.length-1],null==e?10:e,r)},e.nice=function(r){null==r&&(r=10);var n,i,a=t(),o=0,s=a.length-1,l=a[o],c=a[s],u=10;for(c<l&&(i=l,l=c,c=i,i=o,o=s,s=i);u-- >0;){if((i=pv(l,c,r))===n)return a[o]=l,a[s]=c,t(a);if(i>0)l=Math.floor(l/i)*i,c=Math.ceil(c/i)*i;else{if(!(i<0))break;l=Math.ceil(l*i)/i,c=Math.floor(c*i)/i}n=i}return e},e}function Gy(){var e=Oy();return e.copy=function(){return Ty(e,Gy())},Xm.apply(e,arguments),Vy(e)}function Yy(e){var t;function r(e){return null==e||isNaN(e=+e)?t:e}return r.invert=r,r.domain=r.range=function(t){return arguments.length?(e=Array.from(t,xy),r):e.slice()},r.unknown=function(e){return arguments.length?(t=e,r):t},r.copy=function(){return Yy(e).unknown(t)},e=arguments.length?Array.from(e,xy):[0,1],Vy(r)}function Qy(e,t){var r,n=0,i=(e=e.slice()).length-1,a=e[n],o=e[i];return o<a&&(r=n,n=i,i=r,r=a,a=o,o=r),e[n]=t.floor(a),e[i]=t.ceil(o),e}function Jy(e){return Math.log(e)}function Xy(e){return Math.exp(e)}function $y(e){return-Math.log(-e)}function Zy(e){return-Math.exp(-e)}function eb(e){return isFinite(e)?+("1e"+e):e<0?0:e}function tb(e){return(t,r)=>-e(-t,r)}function rb(e){const t=e(Jy,Xy),r=t.domain;let n,i,a=10;function o(){return n=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(a),i=function(e){return 10===e?eb:e===Math.E?Math.exp:t=>Math.pow(e,t)}(a),r()[0]<0?(n=tb(n),i=tb(i),e($y,Zy)):e(Jy,Xy),t}return t.base=function(e){return arguments.length?(a=+e,o()):a},t.domain=function(e){return arguments.length?(r(e),o()):r()},t.ticks=e=>{const t=r();let o=t[0],s=t[t.length-1];const l=s<o;l&&([o,s]=[s,o]);let c,u,d=n(o),h=n(s);const f=null==e?10:+e;let p=[];if(!(a%1)&&h-d<f){if(d=Math.floor(d),h=Math.ceil(h),o>0){for(;d<=h;++d)for(c=1;c<a;++c)if(u=d<0?c/i(-d):c*i(d),!(u<o)){if(u>s)break;p.push(u)}}else for(;d<=h;++d)for(c=a-1;c>=1;--c)if(u=d>0?c/i(-d):c*i(d),!(u<o)){if(u>s)break;p.push(u)}2*p.length<f&&(p=fv(o,s,f))}else p=fv(d,h,Math.min(h-d,f)).map(i);return l?p.reverse():p},t.tickFormat=(e,r)=>{if(null==e&&(e=10),null==r&&(r=10===a?"s":","),"function"!==typeof r&&(a%1||null!=(r=jy(r)).precision||(r.trim=!0),r=zy(r)),e===1/0)return r;const o=Math.max(1,a*e/t.ticks().length);return e=>{let t=e/i(Math.round(n(e)));return t*a<a-.5&&(t*=a),t<=o?r(e):""}},t.nice=()=>r(Qy(r(),{floor:e=>i(Math.floor(n(e))),ceil:e=>i(Math.ceil(n(e)))})),t}function nb(){const e=rb(Sy()).domain([1,10]);return e.copy=()=>Ty(e,nb()).base(e.base()),Xm.apply(e,arguments),e}function ib(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function ab(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function ob(e){var t=1,r=e(ib(t),ab(t));return r.constant=function(r){return arguments.length?e(ib(t=+r),ab(t)):t},Vy(r)}function sb(){var e=ob(Sy());return e.copy=function(){return Ty(e,sb()).constant(e.constant())},Xm.apply(e,arguments)}function lb(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function cb(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function ub(e){return e<0?-e*e:e*e}function db(e){var t=e(ky,ky),r=1;return t.exponent=function(t){return arguments.length?1===(r=+t)?e(ky,ky):.5===r?e(cb,ub):e(lb(r),lb(1/r)):r},Vy(t)}function hb(){var e=db(Sy());return e.copy=function(){return Ty(e,hb()).exponent(e.exponent())},Xm.apply(e,arguments),e}function fb(){return hb.apply(null,arguments).exponent(.5)}function pb(e){return Math.sign(e)*e*e}function gb(){var e,t=Oy(),r=[0,1],n=!1;function i(r){var i=function(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}(t(r));return isNaN(i)?e:n?Math.round(i):i}return i.invert=function(e){return t.invert(pb(e))},i.domain=function(e){return arguments.length?(t.domain(e),i):t.domain()},i.range=function(e){return arguments.length?(t.range((r=Array.from(e,xy)).map(pb)),i):r.slice()},i.rangeRound=function(e){return i.range(e).round(!0)},i.round=function(e){return arguments.length?(n=!!e,i):n},i.clamp=function(e){return arguments.length?(t.clamp(e),i):t.clamp()},i.unknown=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return gb(t.domain(),r).round(n).clamp(t.clamp()).unknown(e)},Xm.apply(i,arguments),Vy(i)}function mb(e,t){let r;if(void 0===t)for(const n of e)null!=n&&(r<n||void 0===r&&n>=n)&&(r=n);else{let n=-1;for(let i of e)null!=(i=t(i,++n,e))&&(r<i||void 0===r&&i>=i)&&(r=i)}return r}function vb(e,t){let r;if(void 0===t)for(const n of e)null!=n&&(r>n||void 0===r&&n>=n)&&(r=n);else{let n=-1;for(let i of e)null!=(i=t(i,++n,e))&&(r>i||void 0===r&&i>=i)&&(r=i)}return r}function yb(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mv;if(e===mv)return bb;if("function"!==typeof e)throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||0===n?n:(0===e(r,r))-(0===e(t,t))}}function bb(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}function _b(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0,i=arguments.length>4?arguments[4]:void 0;if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=void 0===i?bb:yb(i);n>r;){if(n-r>600){const a=n-r+1,o=t-r+1,s=Math.log(a),l=.5*Math.exp(2*s/3),c=.5*Math.sqrt(s*l*(a-l)/a)*(o-a/2<0?-1:1);_b(e,t,Math.max(r,Math.floor(t-o*l/a+c)),Math.min(n,Math.floor(t+(a-o)*l/a+c)),i)}const a=e[t];let o=r,s=n;for(xb(e,r,t),i(e[n],a)>0&&xb(e,r,n);o<s;){for(xb(e,o,s),++o,--s;i(e[o],a)<0;)++o;for(;i(e[s],a)>0;)--s}0===i(e[r],a)?xb(e,r,s):(++s,xb(e,s,n)),s<=t&&(r=s+1),t<=s&&(n=s-1)}return e}function xb(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function wb(e,t,r){if(e=Float64Array.from(function*(e,t){if(void 0===t)for(let r of e)null!=r&&(r=+r)>=r&&(yield r);else{let r=-1;for(let n of e)null!=(n=t(n,++r,e))&&(n=+n)>=n&&(yield n)}}(e,r)),(n=e.length)&&!isNaN(t=+t)){if(t<=0||n<2)return vb(e);if(t>=1)return mb(e);var n,i=(n-1)*t,a=Math.floor(i),o=mb(_b(e,a).subarray(0,a+1));return o+(vb(e.subarray(a+1))-o)*(i-a)}}function kb(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_v;if((n=e.length)&&!isNaN(t=+t)){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,a=Math.floor(i),o=+r(e[a],a,e);return o+(+r(e[a+1],a+1,e)-o)*(i-a)}}function Eb(){var e,t=[],r=[],n=[];function i(){var e=0,i=Math.max(1,r.length);for(n=new Array(i-1);++e<i;)n[e-1]=kb(t,e/i);return a}function a(t){return null==t||isNaN(t=+t)?e:r[kv(n,t)]}return a.invertExtent=function(e){var i=r.indexOf(e);return i<0?[NaN,NaN]:[i>0?n[i-1]:t[0],i<n.length?n[i]:t[t.length-1]]},a.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let r of e)null==r||isNaN(r=+r)||t.push(r);return t.sort(mv),i()},a.range=function(e){return arguments.length?(r=Array.from(e),i()):r.slice()},a.unknown=function(t){return arguments.length?(e=t,a):e},a.quantiles=function(){return n.slice()},a.copy=function(){return Eb().domain(t).range(r).unknown(e)},Xm.apply(a,arguments)}function Cb(){var e,t=0,r=1,n=1,i=[.5],a=[0,1];function o(t){return null!=t&&t<=t?a[kv(i,t,0,n)]:e}function s(){var e=-1;for(i=new Array(n);++e<n;)i[e]=((e+1)*r-(e-n)*t)/(n+1);return o}return o.domain=function(e){return arguments.length?([t,r]=e,t=+t,r=+r,s()):[t,r]},o.range=function(e){return arguments.length?(n=(a=Array.from(e)).length-1,s()):a.slice()},o.invertExtent=function(e){var o=a.indexOf(e);return o<0?[NaN,NaN]:o<1?[t,i[0]]:o>=n?[i[n-1],r]:[i[o-1],i[o]]},o.unknown=function(t){return arguments.length?(e=t,o):o},o.thresholds=function(){return i.slice()},o.copy=function(){return Cb().domain([t,r]).range(a).unknown(e)},Xm.apply(Vy(o),arguments)}function Ab(){var e,t=[.5],r=[0,1],n=1;function i(i){return null!=i&&i<=i?r[kv(t,i,0,n)]:e}return i.domain=function(e){return arguments.length?(t=Array.from(e),n=Math.min(t.length,r.length-1),i):t.slice()},i.range=function(e){return arguments.length?(r=Array.from(e),n=Math.min(t.length,r.length-1),i):r.slice()},i.invertExtent=function(e){var n=r.indexOf(e);return[t[n-1],t[n]]},i.unknown=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return Ab().domain(t).range(r).unknown(e)},Xm.apply(i,arguments)}By=Hy({thousands:",",grouping:[3],currency:["$",""]}),zy=By.format,Ky=By.formatPrefix;const Tb=1e3,Sb=6e4,Ob=36e5,Pb=864e5,Ib=6048e5,jb=2592e6,Mb=31536e6,Nb=new Date,Rb=new Date;function Db(e,t,r,n){function i(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return i.floor=t=>(e(t=new Date(+t)),t),i.ceil=r=>(e(r=new Date(r-1)),t(r,1),e(r),r),i.round=e=>{const t=i(e),r=i.ceil(e);return e-t<r-e?t:r},i.offset=(e,r)=>(t(e=new Date(+e),null==r?1:Math.floor(r)),e),i.range=(r,n,a)=>{const o=[];if(r=i.ceil(r),a=null==a?1:Math.floor(a),!(r<n)||!(a>0))return o;let s;do{o.push(s=new Date(+r)),t(r,a),e(r)}while(s<r&&r<n);return o},i.filter=r=>Db(t=>{if(t>=t)for(;e(t),!r(t);)t.setTime(t-1)},(e,n)=>{if(e>=e)if(n<0)for(;++n<=0;)for(;t(e,-1),!r(e););else for(;--n>=0;)for(;t(e,1),!r(e););}),r&&(i.count=(t,n)=>(Nb.setTime(+t),Rb.setTime(+n),e(Nb),e(Rb),Math.floor(r(Nb,Rb))),i.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?i.filter(n?t=>n(t)%e===0:t=>i.count(0,t)%e===0):i:null)),i}const Lb=Db(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Lb.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?Db(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Lb:null);Lb.range;const Ub=Db(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Tb)},(e,t)=>(t-e)/Tb,e=>e.getUTCSeconds()),Bb=(Ub.range,Db(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Tb)},(e,t)=>{e.setTime(+e+t*Sb)},(e,t)=>(t-e)/Sb,e=>e.getMinutes())),zb=(Bb.range,Db(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Sb)},(e,t)=>(t-e)/Sb,e=>e.getUTCMinutes())),Kb=(zb.range,Db(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Tb-e.getMinutes()*Sb)},(e,t)=>{e.setTime(+e+t*Ob)},(e,t)=>(t-e)/Ob,e=>e.getHours())),qb=(Kb.range,Db(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ob)},(e,t)=>(t-e)/Ob,e=>e.getUTCHours())),Fb=(qb.range,Db(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Sb)/Pb,e=>e.getDate()-1)),Hb=(Fb.range,Db(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Pb,e=>e.getUTCDate()-1)),Wb=(Hb.range,Db(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Pb,e=>Math.floor(e/Pb)));Wb.range;function Vb(e){return Db(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+7*t)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Sb)/Ib)}const Gb=Vb(0),Yb=Vb(1),Qb=Vb(2),Jb=Vb(3),Xb=Vb(4),$b=Vb(5),Zb=Vb(6);Gb.range,Yb.range,Qb.range,Jb.range,Xb.range,$b.range,Zb.range;function e_(e){return Db(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)},(e,t)=>(t-e)/Ib)}const t_=e_(0),r_=e_(1),n_=e_(2),i_=e_(3),a_=e_(4),o_=e_(5),s_=e_(6),l_=(t_.range,r_.range,n_.range,i_.range,a_.range,o_.range,s_.range,Db(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear()),e=>e.getMonth())),c_=(l_.range,Db(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear()),e=>e.getUTCMonth())),u_=(c_.range,Db(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear()));u_.every=e=>isFinite(e=Math.floor(e))&&e>0?Db(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)}):null;u_.range;const d_=Db(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());d_.every=e=>isFinite(e=Math.floor(e))&&e>0?Db(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)}):null;d_.range;function h_(e,t,r,n,i,a){const o=[[Ub,1,Tb],[Ub,5,5e3],[Ub,15,15e3],[Ub,30,3e4],[a,1,Sb],[a,5,3e5],[a,15,9e5],[a,30,18e5],[i,1,Ob],[i,3,108e5],[i,6,216e5],[i,12,432e5],[n,1,Pb],[n,2,1728e5],[r,1,Ib],[t,1,jb],[t,3,7776e6],[e,1,Mb]];function s(t,r,n){const i=Math.abs(r-t)/n,a=yv(e=>{let[,,t]=e;return t}).right(o,i);if(a===o.length)return e.every(gv(t/Mb,r/Mb,n));if(0===a)return Lb.every(Math.max(gv(t,r,n),1));const[s,l]=o[i/o[a-1][2]<o[a][2]/i?a-1:a];return s.every(l)}return[function(e,t,r){const n=t<e;n&&([e,t]=[t,e]);const i=r&&"function"===typeof r.range?r:s(e,t,r),a=i?i.range(e,+t+1):[];return n?a.reverse():a},s]}const[f_,p_]=h_(d_,c_,t_,Wb,qb,zb),[g_,m_]=h_(u_,l_,Gb,Fb,Kb,Bb);function v_(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function y_(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function b_(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}var __,x_,w_,k_={"-":"",_:" ",0:"0"},E_=/^\s*\d+/,C_=/^%/,A_=/[\\^$*+?|[\]().{}]/g;function T_(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(t)+i:i)}function S_(e){return e.replace(A_,"\\$&")}function O_(e){return new RegExp("^(?:"+e.map(S_).join("|")+")","i")}function P_(e){return new Map(e.map((e,t)=>[e.toLowerCase(),t]))}function I_(e,t,r){var n=E_.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function j_(e,t,r){var n=E_.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function M_(e,t,r){var n=E_.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function N_(e,t,r){var n=E_.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function R_(e,t,r){var n=E_.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function D_(e,t,r){var n=E_.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function L_(e,t,r){var n=E_.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function U_(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function B_(e,t,r){var n=E_.exec(t.slice(r,r+1));return n?(e.q=3*n[0]-3,r+n[0].length):-1}function z_(e,t,r){var n=E_.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function K_(e,t,r){var n=E_.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function q_(e,t,r){var n=E_.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function F_(e,t,r){var n=E_.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function H_(e,t,r){var n=E_.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function W_(e,t,r){var n=E_.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function V_(e,t,r){var n=E_.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function G_(e,t,r){var n=E_.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Y_(e,t,r){var n=C_.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function Q_(e,t,r){var n=E_.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function J_(e,t,r){var n=E_.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function X_(e,t){return T_(e.getDate(),t,2)}function $_(e,t){return T_(e.getHours(),t,2)}function Z_(e,t){return T_(e.getHours()%12||12,t,2)}function ex(e,t){return T_(1+Fb.count(u_(e),e),t,3)}function tx(e,t){return T_(e.getMilliseconds(),t,3)}function rx(e,t){return tx(e,t)+"000"}function nx(e,t){return T_(e.getMonth()+1,t,2)}function ix(e,t){return T_(e.getMinutes(),t,2)}function ax(e,t){return T_(e.getSeconds(),t,2)}function ox(e){var t=e.getDay();return 0===t?7:t}function sx(e,t){return T_(Gb.count(u_(e)-1,e),t,2)}function lx(e){var t=e.getDay();return t>=4||0===t?Xb(e):Xb.ceil(e)}function cx(e,t){return e=lx(e),T_(Xb.count(u_(e),e)+(4===u_(e).getDay()),t,2)}function ux(e){return e.getDay()}function dx(e,t){return T_(Yb.count(u_(e)-1,e),t,2)}function hx(e,t){return T_(e.getFullYear()%100,t,2)}function fx(e,t){return T_((e=lx(e)).getFullYear()%100,t,2)}function px(e,t){return T_(e.getFullYear()%1e4,t,4)}function gx(e,t){var r=e.getDay();return T_((e=r>=4||0===r?Xb(e):Xb.ceil(e)).getFullYear()%1e4,t,4)}function mx(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+T_(t/60|0,"0",2)+T_(t%60,"0",2)}function vx(e,t){return T_(e.getUTCDate(),t,2)}function yx(e,t){return T_(e.getUTCHours(),t,2)}function bx(e,t){return T_(e.getUTCHours()%12||12,t,2)}function _x(e,t){return T_(1+Hb.count(d_(e),e),t,3)}function xx(e,t){return T_(e.getUTCMilliseconds(),t,3)}function wx(e,t){return xx(e,t)+"000"}function kx(e,t){return T_(e.getUTCMonth()+1,t,2)}function Ex(e,t){return T_(e.getUTCMinutes(),t,2)}function Cx(e,t){return T_(e.getUTCSeconds(),t,2)}function Ax(e){var t=e.getUTCDay();return 0===t?7:t}function Tx(e,t){return T_(t_.count(d_(e)-1,e),t,2)}function Sx(e){var t=e.getUTCDay();return t>=4||0===t?a_(e):a_.ceil(e)}function Ox(e,t){return e=Sx(e),T_(a_.count(d_(e),e)+(4===d_(e).getUTCDay()),t,2)}function Px(e){return e.getUTCDay()}function Ix(e,t){return T_(r_.count(d_(e)-1,e),t,2)}function jx(e,t){return T_(e.getUTCFullYear()%100,t,2)}function Mx(e,t){return T_((e=Sx(e)).getUTCFullYear()%100,t,2)}function Nx(e,t){return T_(e.getUTCFullYear()%1e4,t,4)}function Rx(e,t){var r=e.getUTCDay();return T_((e=r>=4||0===r?a_(e):a_.ceil(e)).getUTCFullYear()%1e4,t,4)}function Dx(){return"+0000"}function Lx(){return"%"}function Ux(e){return+e}function Bx(e){return Math.floor(+e/1e3)}function zx(e){return new Date(e)}function Kx(e){return e instanceof Date?+e:+new Date(+e)}function qx(e,t,r,n,i,a,o,s,l,c){var u=Oy(),d=u.invert,h=u.domain,f=c(".%L"),p=c(":%S"),g=c("%I:%M"),m=c("%I %p"),v=c("%a %d"),y=c("%b %d"),b=c("%B"),_=c("%Y");function x(e){return(l(e)<e?f:s(e)<e?p:o(e)<e?g:a(e)<e?m:n(e)<e?i(e)<e?v:y:r(e)<e?b:_)(e)}return u.invert=function(e){return new Date(d(e))},u.domain=function(e){return arguments.length?h(Array.from(e,Kx)):h().map(zx)},u.ticks=function(t){var r=h();return e(r[0],r[r.length-1],null==t?10:t)},u.tickFormat=function(e,t){return null==t?x:c(t)},u.nice=function(e){var r=h();return e&&"function"===typeof e.range||(e=t(r[0],r[r.length-1],null==e?10:e)),e?h(Qy(r,e)):u},u.copy=function(){return Ty(u,qx(e,t,r,n,i,a,o,s,l,c))},u}function Fx(){return Xm.apply(qx(g_,m_,u_,l_,Gb,Fb,Kb,Bb,Ub,x_).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Hx(){return Xm.apply(qx(f_,p_,d_,c_,t_,Hb,qb,zb,Ub,w_).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Wx(){var e,t,r,n,i,a=0,o=1,s=ky,l=!1;function c(t){return null==t||isNaN(t=+t)?i:s(0===r?.5:(t=(n(t)-e)*r,l?Math.max(0,Math.min(1,t)):t))}function u(e){return function(t){var r,n;return arguments.length?([r,n]=t,s=e(r,n),c):[s(0),s(1)]}}return c.domain=function(i){return arguments.length?([a,o]=i,e=n(a=+a),t=n(o=+o),r=e===t?0:1/(t-e),c):[a,o]},c.clamp=function(e){return arguments.length?(l=!!e,c):l},c.interpolator=function(e){return arguments.length?(s=e,c):s},c.range=u(by),c.rangeRound=u(_y),c.unknown=function(e){return arguments.length?(i=e,c):i},function(i){return n=i,e=i(a),t=i(o),r=e===t?0:1/(t-e),c}}function Vx(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Gx(){var e=Vy(Wx()(ky));return e.copy=function(){return Vx(e,Gx())},$m.apply(e,arguments)}function Yx(){var e=rb(Wx()).domain([1,10]);return e.copy=function(){return Vx(e,Yx()).base(e.base())},$m.apply(e,arguments)}function Qx(){var e=ob(Wx());return e.copy=function(){return Vx(e,Qx()).constant(e.constant())},$m.apply(e,arguments)}function Jx(){var e=db(Wx());return e.copy=function(){return Vx(e,Jx()).exponent(e.exponent())},$m.apply(e,arguments)}function Xx(){return Jx.apply(null,arguments).exponent(.5)}function $x(){var e=[],t=ky;function r(r){if(null!=r&&!isNaN(r=+r))return t((kv(e,r,1)-1)/(e.length-1))}return r.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let r of t)null==r||isNaN(r=+r)||e.push(r);return e.sort(mv),r},r.interpolator=function(e){return arguments.length?(t=e,r):t},r.range=function(){return e.map((r,n)=>t(n/(e.length-1)))},r.quantiles=function(t){return Array.from({length:t+1},(r,n)=>wb(e,n/t))},r.copy=function(){return $x(t).domain(e)},$m.apply(r,arguments)}function Zx(){var e,t,r,n,i,a,o,s=0,l=.5,c=1,u=1,d=ky,h=!1;function f(e){return isNaN(e=+e)?o:(e=.5+((e=+a(e))-t)*(u*e<u*t?n:i),d(h?Math.max(0,Math.min(1,e)):e))}function p(e){return function(t){var r,n,i;return arguments.length?([r,n,i]=t,d=function(e,t){void 0===t&&(t=e,e=by);for(var r=0,n=t.length-1,i=t[0],a=new Array(n<0?0:n);r<n;)a[r]=e(i,i=t[++r]);return function(e){var t=Math.max(0,Math.min(n-1,Math.floor(e*=n)));return a[t](e-t)}}(e,[r,n,i]),f):[d(0),d(.5),d(1)]}}return f.domain=function(o){return arguments.length?([s,l,c]=o,e=a(s=+s),t=a(l=+l),r=a(c=+c),n=e===t?0:.5/(t-e),i=t===r?0:.5/(r-t),u=t<e?-1:1,f):[s,l,c]},f.clamp=function(e){return arguments.length?(h=!!e,f):h},f.interpolator=function(e){return arguments.length?(d=e,f):d},f.range=p(by),f.rangeRound=p(_y),f.unknown=function(e){return arguments.length?(o=e,f):o},function(o){return a=o,e=o(s),t=o(l),r=o(c),n=e===t?0:.5/(t-e),i=t===r?0:.5/(r-t),u=t<e?-1:1,f}}function ew(){var e=Vy(Zx()(ky));return e.copy=function(){return Vx(e,ew())},$m.apply(e,arguments)}function tw(){var e=rb(Zx()).domain([.1,1,10]);return e.copy=function(){return Vx(e,tw()).base(e.base())},$m.apply(e,arguments)}function rw(){var e=ob(Zx());return e.copy=function(){return Vx(e,rw()).constant(e.constant())},$m.apply(e,arguments)}function nw(){var e=db(Zx());return e.copy=function(){return Vx(e,nw()).exponent(e.exponent())},$m.apply(e,arguments)}function iw(){return nw.apply(null,arguments).exponent(.5)}!function(e){__=function(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,a=e.days,o=e.shortDays,s=e.months,l=e.shortMonths,c=O_(i),u=P_(i),d=O_(a),h=P_(a),f=O_(o),p=P_(o),g=O_(s),m=P_(s),v=O_(l),y=P_(l),b={a:function(e){return o[e.getDay()]},A:function(e){return a[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:X_,e:X_,f:rx,g:fx,G:gx,H:$_,I:Z_,j:ex,L:tx,m:nx,M:ix,p:function(e){return i[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:Ux,s:Bx,S:ax,u:ox,U:sx,V:cx,w:ux,W:dx,x:null,X:null,y:hx,Y:px,Z:mx,"%":Lx},_={a:function(e){return o[e.getUTCDay()]},A:function(e){return a[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:vx,e:vx,f:wx,g:Mx,G:Rx,H:yx,I:bx,j:_x,L:xx,m:kx,M:Ex,p:function(e){return i[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:Ux,s:Bx,S:Cx,u:Ax,U:Tx,V:Ox,w:Px,W:Ix,x:null,X:null,y:jx,Y:Nx,Z:Dx,"%":Lx},x={a:function(e,t,r){var n=f.exec(t.slice(r));return n?(e.w=p.get(n[0].toLowerCase()),r+n[0].length):-1},A:function(e,t,r){var n=d.exec(t.slice(r));return n?(e.w=h.get(n[0].toLowerCase()),r+n[0].length):-1},b:function(e,t,r){var n=v.exec(t.slice(r));return n?(e.m=y.get(n[0].toLowerCase()),r+n[0].length):-1},B:function(e,t,r){var n=g.exec(t.slice(r));return n?(e.m=m.get(n[0].toLowerCase()),r+n[0].length):-1},c:function(e,r,n){return E(e,t,r,n)},d:K_,e:K_,f:G_,g:L_,G:D_,H:F_,I:F_,j:q_,L:V_,m:z_,M:H_,p:function(e,t,r){var n=c.exec(t.slice(r));return n?(e.p=u.get(n[0].toLowerCase()),r+n[0].length):-1},q:B_,Q:Q_,s:J_,S:W_,u:j_,U:M_,V:N_,w:I_,W:R_,x:function(e,t,n){return E(e,r,t,n)},X:function(e,t,r){return E(e,n,t,r)},y:L_,Y:D_,Z:U_,"%":Y_};function w(e,t){return function(r){var n,i,a,o=[],s=-1,l=0,c=e.length;for(r instanceof Date||(r=new Date(+r));++s<c;)37===e.charCodeAt(s)&&(o.push(e.slice(l,s)),null!=(i=k_[n=e.charAt(++s)])?n=e.charAt(++s):i="e"===n?" ":"0",(a=t[n])&&(n=a(r,i)),o.push(n),l=s+1);return o.push(e.slice(l,s)),o.join("")}}function k(e,t){return function(r){var n,i,a=b_(1900,void 0,1);if(E(a,e,r+="",0)!=r.length)return null;if("Q"in a)return new Date(a.Q);if("s"in a)return new Date(1e3*a.s+("L"in a?a.L:0));if(t&&!("Z"in a)&&(a.Z=0),"p"in a&&(a.H=a.H%12+12*a.p),void 0===a.m&&(a.m="q"in a?a.q:0),"V"in a){if(a.V<1||a.V>53)return null;"w"in a||(a.w=1),"Z"in a?(i=(n=y_(b_(a.y,0,1))).getUTCDay(),n=i>4||0===i?r_.ceil(n):r_(n),n=Hb.offset(n,7*(a.V-1)),a.y=n.getUTCFullYear(),a.m=n.getUTCMonth(),a.d=n.getUTCDate()+(a.w+6)%7):(i=(n=v_(b_(a.y,0,1))).getDay(),n=i>4||0===i?Yb.ceil(n):Yb(n),n=Fb.offset(n,7*(a.V-1)),a.y=n.getFullYear(),a.m=n.getMonth(),a.d=n.getDate()+(a.w+6)%7)}else("W"in a||"U"in a)&&("w"in a||(a.w="u"in a?a.u%7:"W"in a?1:0),i="Z"in a?y_(b_(a.y,0,1)).getUTCDay():v_(b_(a.y,0,1)).getDay(),a.m=0,a.d="W"in a?(a.w+6)%7+7*a.W-(i+5)%7:a.w+7*a.U-(i+6)%7);return"Z"in a?(a.H+=a.Z/100|0,a.M+=a.Z%100,y_(a)):v_(a)}}function E(e,t,r,n){for(var i,a,o=0,s=t.length,l=r.length;o<s;){if(n>=l)return-1;if(37===(i=t.charCodeAt(o++))){if(i=t.charAt(o++),!(a=x[i in k_?t.charAt(o++):i])||(n=a(e,r,n))<0)return-1}else if(i!=r.charCodeAt(n++))return-1}return n}return b.x=w(r,b),b.X=w(n,b),b.c=w(t,b),_.x=w(r,_),_.X=w(n,_),_.c=w(t,_),{format:function(e){var t=w(e+="",b);return t.toString=function(){return e},t},parse:function(e){var t=k(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=w(e+="",_);return t.toString=function(){return e},t},utcParse:function(e){var t=k(e+="",!0);return t.toString=function(){return e},t}}}(e),x_=__.format,__.parse,w_=__.utcFormat,__.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var aw=e=>e.chartData,ow=Sg([aw],e=>{var t=null!=e.chartData?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),sw=(e,t,r,n)=>n?ow(e):aw(e);function lw(e){return Number.isFinite(e)}function cw(e){return"number"===typeof e&&e>0&&Number.isFinite(e)}function uw(e){if(Array.isArray(e)&&2===e.length){var[t,r]=e;if(lw(t)&&lw(r))return!0}return!1}function dw(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}var hw=__webpack_require__(1258),fw=__webpack_require__.n(hw),pw=e=>e,gw={"@@functional/placeholder":!0},mw=e=>e===gw,vw=e=>function t(){return 0===arguments.length||1===arguments.length&&mw(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},yw=(e,t)=>1===e?t:vw(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var a=n.filter(e=>e!==gw).length;return a>=e?t(...n):yw(e-a,vw(function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];var a=n.map(e=>mw(e)?r.shift():e);return t(...a,...r)}))}),bw=e=>yw(e.length,e),_w=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},xw=bw((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(e=>t[e]).map(e)),ww=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),kw=e=>{var t=null,r=null;return function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return t&&i.every((e,r)=>{var n;return e===(null===(n=t)||void 0===n?void 0:n[r])})?r:(t=i,r=e(...i))}};function Ew(e){return 0===e?1:Math.floor(new(fw())(e).abs().log(10).toNumber())+1}function Cw(e,t,r){for(var n=new(fw())(e),i=0,a=[];n.lt(t)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}bw((e,t,r)=>{var n=+e;return n+r*(+t-n)}),bw((e,t,r)=>{var n=t-+e;return(r-e)/(n=n||1/0)}),bw((e,t,r)=>{var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});var Aw=e=>{var[t,r]=e,[n,i]=[t,r];return t>r&&([n,i]=[r,t]),[n,i]},Tw=(e,t,r)=>{if(e.lte(0))return new(fw())(0);var n=Ew(e.toNumber()),i=new(fw())(10).pow(n),a=e.div(i),o=1!==n?.05:.1,s=new(fw())(Math.ceil(a.div(o).toNumber())).add(r).mul(o).mul(i);return t?new(fw())(s.toNumber()):new(fw())(Math.ceil(s.toNumber()))},Sw=(e,t,r)=>{var n=new(fw())(1),i=new(fw())(e);if(!i.isint()&&r){var a=Math.abs(e);a<1?(n=new(fw())(10).pow(Ew(e)-1),i=new(fw())(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new(fw())(Math.floor(e)))}else 0===e?i=new(fw())(Math.floor((t-1)/2)):r||(i=new(fw())(Math.floor(e)));var o=Math.floor((t-1)/2);return function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(!t.length)return pw;var n=t.reverse(),i=n[0],a=n.slice(1);return function(){return a.reduce((e,t)=>t(e),i(...arguments))}}(xw(e=>i.add(new(fw())(e-o).mul(n)).toNumber()),_w)(0,t)},Ow=function(e,t,r,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new(fw())(0),tickMin:new(fw())(0),tickMax:new(fw())(0)};var a,o=Tw(new(fw())(t).sub(e).div(r-1),n,i);a=e<=0&&t>=0?new(fw())(0):(a=new(fw())(e).add(t).div(2)).sub(new(fw())(a).mod(o));var s=Math.ceil(a.sub(e).div(o).toNumber()),l=Math.ceil(new(fw())(t).sub(a).div(o).toNumber()),c=s+l+1;return c>r?Ow(e,t,r,n,i+1):(c<r&&(l=t>0?l+(r-c):l,s=t>0?s:s+(r-c)),{step:o,tickMin:a.sub(new(fw())(s).mul(o)),tickMax:a.add(new(fw())(l).mul(o))})};var Pw=kw(function(e){var[t,r]=e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=Math.max(n,2),[o,s]=Aw([t,r]);if(o===-1/0||s===1/0){var l=s===1/0?[o,..._w(0,n-1).map(()=>1/0)]:[..._w(0,n-1).map(()=>-1/0),s];return t>r?ww(l):l}if(o===s)return Sw(o,n,i);var{step:c,tickMin:u,tickMax:d}=Ow(o,s,a,i,0),h=Cw(u,d.add(new(fw())(.1).mul(c)),c);return t>r?ww(h):h}),Iw=kw(function(e,t){var[r,n]=e,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],[a,o]=Aw([r,n]);if(a===-1/0||o===1/0)return[r,n];if(a===o)return[a];var s=Math.max(t,2),l=Tw(new(fw())(o).sub(a).div(s-1),i,0),c=[...Cw(new(fw())(a),new(fw())(o),l),o];return!1===i&&(c=c.map(e=>Math.round(e))),r>n?ww(c):c}),jw=e=>e.rootProps.maxBarSize,Mw=e=>e.rootProps.barCategoryGap,Nw=e=>e.rootProps.stackOffset,Rw=e=>e.options.chartName,Dw=e=>e.rootProps.syncId,Lw=e=>e.rootProps.syncMethod,Uw=e=>e.options.eventEmitter,Bw=0,zw="auto",Kw=!0,qw=!1,Fw=!0,Hw=0,Ww="auto",Vw=!0,Gw=5,Yw=(e,t)=>{if(e&&t)return null!==e&&void 0!==e&&e.reversed?[t[1],t[0]]:t},Qw={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Bw,includeHidden:!1,name:void 0,reversed:!1,scale:zw,tick:Kw,tickCount:void 0,ticks:void 0,type:"category",unit:void 0},Jw={allowDataOverflow:qw,allowDecimals:!1,allowDuplicatedCategory:Fw,dataKey:void 0,domain:void 0,id:Hw,includeHidden:!1,name:void 0,reversed:!1,scale:Ww,tick:Vw,tickCount:Gw,ticks:void 0,type:"number",unit:void 0},Xw={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,dataKey:void 0,domain:void 0,id:Bw,includeHidden:!1,name:void 0,reversed:!1,scale:zw,tick:Kw,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},$w={allowDataOverflow:qw,allowDecimals:!1,allowDuplicatedCategory:Fw,dataKey:void 0,domain:void 0,id:Hw,includeHidden:!1,name:void 0,reversed:!1,scale:Ww,tick:Vw,tickCount:Gw,ticks:void 0,type:"category",unit:void 0},Zw=(e,t)=>null!=e.polarAxis.angleAxis[t]?e.polarAxis.angleAxis[t]:"radial"===e.layout.layoutType?Xw:Qw,ek=(e,t)=>null!=e.polarAxis.radiusAxis[t]?e.polarAxis.radiusAxis[t]:"radial"===e.layout.layoutType?$w:Jw,tk=e=>e.polarOptions,rk=Sg([Em,Cm,Rm],em),nk=Sg([tk,rk],(e,t)=>{if(null!=e)return Rd(e.innerRadius,t,0)}),ik=Sg([tk,rk],(e,t)=>{if(null!=e)return Rd(e.outerRadius,t,.8*t)}),ak=Sg([tk],e=>{if(null==e)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]}),ok=(Sg([Zw,ak],Yw),Sg([rk,nk,ik],(e,t,r)=>{if(null!=e&&null!=t&&null!=r)return[t,r]})),sk=(Sg([ek,ok],Yw),Sg([Gm,tk,nk,ik,Em,Cm],(e,t,r,n,i,a)=>{if(("centric"===e||"radial"===e)&&null!=t&&null!=r&&null!=n){var{cx:o,cy:s,startAngle:l,endAngle:c}=t;return{cx:Rd(o,i,i/2),cy:Rd(s,a,a/2),innerRadius:r,outerRadius:n,startAngle:l,endAngle:c,clockWise:!1}}})),lk=(e,t)=>t,ck=(e,t,r)=>r;function uk(e){return null===e||void 0===e?void 0:e.id}var dk=e=>{var t=Gm(e);return"horizontal"===t?"xAxis":"vertical"===t?"yAxis":"centric"===t?"angleAxis":"radiusAxis"},hk=e=>e.tooltip.settings.axisId,fk=e=>{var t=dk(e),r=hk(e);return Pk(e,t,r)},pk=Sg([fk],e=>null===e||void 0===e?void 0:e.dataKey);function gk(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=r,o=new Map;return e.forEach(e=>{var t,r=null!==(t=e.data)&&void 0!==t?t:n;if(null!=r&&0!==r.length){var s=uk(e);r.forEach((t,r)=>{var n,l=null==a||i?r:String(lm(t,a,null)),c=lm(t,e.dataKey,0);n=o.has(l)?o.get(l):{},Object.assign(n,{[s]:c}),o.set(l,n)})}}),Array.from(o.values())}function mk(e){return null!=e.stackId&&null!=e.dataKey}function vk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function yk(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?vk(Object(r),!0).forEach(function(t){bk(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vk(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function bk(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var _k=[0,"auto"],xk={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},wk=(e,t)=>e.cartesianAxis.xAxis[t],kk=(e,t)=>{var r=wk(e,t);return null==r?xk:r},Ek={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:_k,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:60},Ck=(e,t)=>e.cartesianAxis.yAxis[t],Ak=(e,t)=>{var r=Ck(e,t);return null==r?Ek:r},Tk={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Sk=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return null==r?Tk:r},Ok=(e,t,r)=>{switch(t){case"xAxis":return kk(e,r);case"yAxis":return Ak(e,r);case"zAxis":return Sk(e,r);case"angleAxis":return Zw(e,r);case"radiusAxis":return ek(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Pk=(e,t,r)=>{switch(t){case"xAxis":return kk(e,r);case"yAxis":return Ak(e,r);case"angleAxis":return Zw(e,r);case"radiusAxis":return ek(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Ik=e=>e.graphicalItems.cartesianItems.some(e=>"bar"===e.type)||e.graphicalItems.polarItems.some(e=>"radialBar"===e.type);function jk(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var Mk=e=>e.graphicalItems.cartesianItems,Nk=Sg([lk,ck],jk),Rk=(e,t,r)=>e.filter(r).filter(e=>!0===(null===t||void 0===t?void 0:t.includeHidden)||!e.hide),Dk=Sg([Mk,Ok,Nk],Rk),Lk=Sg([Dk],e=>e.filter(e=>"area"===e.type||"bar"===e.type).filter(mk)),Uk=e=>e.filter(e=>!("stackId"in e)||void 0===e.stackId),Bk=Sg([Dk],Uk),zk=e=>e.map(e=>e.data).filter(Boolean).flat(1),Kk=Sg([Dk],zk),qk=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=t;return e.length>0?e:r.slice(n,i+1)},Fk=Sg([Kk,sw],qk),Hk=(e,t,r)=>null!=(null===t||void 0===t?void 0:t.dataKey)?e.map(e=>({value:lm(e,t.dataKey)})):r.length>0?r.map(e=>e.dataKey).flatMap(t=>e.map(e=>({value:lm(e,t)}))):e.map(e=>({value:e})),Wk=Sg([Fk,Ok,Dk],Hk);function Vk(e,t){switch(e){case"xAxis":return"x"===t.direction;case"yAxis":return"y"===t.direction;default:return!1}}function Gk(e){return e.filter(e=>jd(e)||e instanceof Date).map(Number).filter(e=>!1===Od(e))}function Yk(e,t,r){return!r||"number"!==typeof t||Od(t)?[]:r.length?Gk(r.flatMap(r=>{var n,i,a=lm(e,r.dataKey);if(Array.isArray(a)?[n,i]=a:n=i=a,lw(n)&&lw(i))return[t-n,t+i]})):[]}var Qk=Sg([Lk,sw,fk],gk),Jk=(e,t,r)=>{var n=t.reduce((e,t)=>(null==t.stackId||(null==e[t.stackId]&&(e[t.stackId]=[]),e[t.stackId].push(t)),e),{});return Object.fromEntries(Object.entries(n).map(t=>{var[n,i]=t,a=i.map(uk);return[n,{stackedData:pm(e,a,r),graphicalItems:i}]}))},Xk=Sg([Qk,Lk,Nw],Jk),$k=(e,t,r)=>{var{dataStartIndex:n,dataEndIndex:i}=t;if("zAxis"!==r){var a=ym(e,n,i);if(null==a||0!==a[0]||0!==a[1])return a}},Zk=Sg([Xk,aw,lk],$k),eE=(e,t,r,n,i)=>r.length>0?e.flatMap(e=>r.flatMap(r=>{var a,o,s=null===(a=n[r.id])||void 0===a?void 0:a.filter(e=>Vk(i,e)),l=lm(e,null!==(o=t.dataKey)&&void 0!==o?o:r.dataKey);return{value:l,errorDomain:Yk(e,l,s)}})).filter(Boolean):null!=(null===t||void 0===t?void 0:t.dataKey)?e.map(e=>({value:lm(e,t.dataKey),errorDomain:[]})):e.map(e=>({value:e,errorDomain:[]})),tE=e=>e.errorBars,rE=(e,t,r)=>e.flatMap(e=>t[e.id]).filter(Boolean).filter(e=>Vk(r,e)),nE=(Sg([Bk,tE,lk],rE),Sg([Fk,Ok,Bk,tE,lk],eE));function iE(e){var{value:t}=e;if(jd(t)||t instanceof Date)return t}var aE=e=>{var t=Gk(e.flatMap(e=>[e.value,e.errorDomain]).flat(1));if(0!==t.length)return[Math.min(...t),Math.max(...t)]},oE=e=>{var t;if(null==e||!("domain"in e))return _k;if(null!=e.domain)return e.domain;if(null!=e.ticks){if("number"===e.type){var r=Gk(e.ticks);return[Math.min(...r),Math.max(...r)]}if("category"===e.type)return e.ticks.map(String)}return null!==(t=null===e||void 0===e?void 0:e.domain)&&void 0!==t?t:_k},sE=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t.filter(Boolean);if(0!==n.length){var i=n.flat();return[Math.min(...i),Math.max(...i)]}},lE=e=>e.referenceElements.dots,cE=(e,t,r)=>e.filter(e=>"extendDomain"===e.ifOverflow).filter(e=>"xAxis"===t?e.xAxisId===r:e.yAxisId===r),uE=Sg([lE,lk,ck],cE),dE=e=>e.referenceElements.areas,hE=Sg([dE,lk,ck],cE),fE=e=>e.referenceElements.lines,pE=Sg([fE,lk,ck],cE),gE=(e,t)=>{var r=Gk(e.map(e=>"xAxis"===t?e.x:e.y));if(0!==r.length)return[Math.min(...r),Math.max(...r)]},mE=Sg(uE,lk,gE),vE=(e,t)=>{var r=Gk(e.flatMap(e=>["xAxis"===t?e.x1:e.y1,"xAxis"===t?e.x2:e.y2]));if(0!==r.length)return[Math.min(...r),Math.max(...r)]},yE=Sg([hE,lk],vE),bE=(e,t)=>{var r=Gk(e.map(e=>"xAxis"===t?e.x:e.y));if(0!==r.length)return[Math.min(...r),Math.max(...r)]},_E=Sg(pE,lk,bE),xE=Sg(mE,_E,yE,(e,t,r)=>sE(e,r,t)),wE=Sg([Ok],oE),kE=(e,t,r,n,i,a,o)=>{var s=function(e,t){if(t&&"function"!==typeof e&&Array.isArray(e)&&2===e.length){var r,n,[i,a]=e;if(lw(i))r=i;else if("function"===typeof i)return;if(lw(a))n=a;else if("function"===typeof a)return;var o=[r,n];if(uw(o))return o}}(t,e.allowDataOverflow);return null!=s?s:function(e,t,r){if(r||null!=t){if("function"===typeof e&&null!=t)try{var n=e(t,r);if(uw(n))return dw(n,t,r)}catch(f){}if(Array.isArray(e)&&2===e.length){var i,a,[o,s]=e;if("auto"===o)null!=t&&(i=Math.min(...t));else if(Id(o))i=o;else if("function"===typeof o)try{null!=t&&(i=o(null===t||void 0===t?void 0:t[0]))}catch(p){}else if("string"===typeof o&&bm.test(o)){var l=bm.exec(o);if(null==l||null==t)i=void 0;else{var c=+l[1];i=t[0]-c}}else i=null===t||void 0===t?void 0:t[0];if("auto"===s)null!=t&&(a=Math.max(...t));else if(Id(s))a=s;else if("function"===typeof s)try{null!=t&&(a=s(null===t||void 0===t?void 0:t[1]))}catch(g){}else if("string"===typeof s&&_m.test(s)){var u=_m.exec(s);if(null==u||null==t)a=void 0;else{var d=+u[1];a=t[1]+d}}else a=null===t||void 0===t?void 0:t[1];var h=[i,a];if(uw(h))return null==t?h:dw(h,t,r)}}}(t,"vertical"===a&&"xAxis"===o||"horizontal"===a&&"yAxis"===o?sE(r,i,aE(n)):sE(i,aE(n)),e.allowDataOverflow)},EE=Sg([Ok,wE,Zk,nE,xE,Gm,lk],kE),CE=[0,1],AE=(e,t,r,n,i,a,o)=>{if(null!=e&&null!=r&&0!==r.length||void 0!==o){var{dataKey:s,type:l}=e,c=cm(t,a);return c&&null==s?Jm()(0,r.length):"category"===l?((e,t,r)=>{var n=e.map(iE).filter(e=>null!=e);return r&&(null==t.dataKey||t.allowDuplicatedCategory&&Dd(n))?Jm()(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))})(n,e,c):"expand"===i?CE:o}},TE=Sg([Ok,Gm,Fk,Wk,Nw,lk,EE],AE),SE=(t,r,n,i,a)=>{if(null!=t){var{scale:o,type:s}=t;if("auto"===o)return"radial"===r&&"radiusAxis"===a?"band":"radial"===r&&"angleAxis"===a?"linear":"category"===s&&i&&(i.indexOf("LineChart")>=0||i.indexOf("AreaChart")>=0||i.indexOf("ComposedChart")>=0&&!n)?"point":"category"===s?"band":"linear";if("string"===typeof o){var l="scale".concat(zd(o));return l in e?l:"point"}}},OE=Sg([Ok,Gm,Ik,Rw,lk],SE);function PE(t,r,n,i){if(null!=n&&null!=i){if("function"===typeof t.scale)return t.scale.copy().domain(n).range(i);var a=function(t){if(null!=t){if(t in e)return e[t]();var r="scale".concat(zd(t));return r in e?e[r]():void 0}}(r);if(null!=a){var o=a.domain(n).range(i);return(e=>{var t=e.domain();if(t&&!(t.length<=2)){var r=t.length,n=e.range(),i=Math.min(n[0],n[1])-hm,a=Math.max(n[0],n[1])+hm,o=e(t[0]),s=e(t[r-1]);(o<i||o>a||s<i||s>a)&&e.domain([t[0],t[r-1]])}})(o),o}}}var IE=(e,t,r)=>{var n=oE(t);if("auto"===r||"linear"===r)return null!=t&&t.tickCount&&Array.isArray(n)&&("auto"===n[0]||"auto"===n[1])&&uw(e)?Pw(e,t.tickCount,t.allowDecimals):null!=t&&t.tickCount&&"number"===t.type&&uw(e)?Iw(e,t.tickCount,t.allowDecimals):void 0},jE=Sg([TE,Pk,OE],IE),ME=(e,t,r,n)=>{if("angleAxis"!==n&&"number"===(null===e||void 0===e?void 0:e.type)&&uw(t)&&Array.isArray(r)&&r.length>0){var i=t[0],a=r[0],o=t[1],s=r[r.length-1];return[Math.min(i,a),Math.max(o,s)]}return t},NE=Sg([Ok,TE,jE,lk],ME),RE=Sg(Wk,Ok,(e,t)=>{if(t&&"number"===t.type){var r=1/0,n=Array.from(Gk(e.map(e=>e.value))).sort((e,t)=>e-t);if(n.length<2)return 1/0;var i=n[n.length-1]-n[0];if(0===i)return 1/0;for(var a=0;a<n.length-1;a++){var o=n[a+1]-n[a];r=Math.min(r,o)}return r/i}}),DE=Sg(RE,Gm,Mw,Rm,(e,t,r,n)=>n,(e,t,r,n,i)=>{if(!lw(e))return 0;var a="vertical"===t?n.height:n.width;if("gap"===i)return e*a/2;if("no-gap"===i){var o=Rd(r,e*a),s=e*a/2;return s-o-(s-o)/a*o}return 0}),LE=Sg(kk,(e,t)=>{var r=kk(e,t);return null==r||"string"!==typeof r.padding?0:DE(e,"xAxis",t,r.padding)},(e,t)=>{var r,n;if(null==e)return{left:0,right:0};var{padding:i}=e;return"string"===typeof i?{left:t,right:t}:{left:(null!==(r=i.left)&&void 0!==r?r:0)+t,right:(null!==(n=i.right)&&void 0!==n?n:0)+t}}),UE=Sg(Ak,(e,t)=>{var r=Ak(e,t);return null==r||"string"!==typeof r.padding?0:DE(e,"yAxis",t,r.padding)},(e,t)=>{var r,n;if(null==e)return{top:0,bottom:0};var{padding:i}=e;return"string"===typeof i?{top:t,bottom:t}:{top:(null!==(r=i.top)&&void 0!==r?r:0)+t,bottom:(null!==(n=i.bottom)&&void 0!==n?n:0)+t}}),BE=Sg([Rm,LE,Km,zm,(e,t,r)=>r],(e,t,r,n,i)=>{var{padding:a}=n;return i?[a.left,r.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),zE=Sg([Rm,Gm,UE,Km,zm,(e,t,r)=>r],(e,t,r,n,i,a)=>{var{padding:o}=i;return a?[n.height-o.bottom,o.top]:"horizontal"===t?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),KE=(e,t,r,n)=>{var i;switch(t){case"xAxis":return BE(e,r,n);case"yAxis":return zE(e,r,n);case"zAxis":return null===(i=Sk(e,r))||void 0===i?void 0:i.range;case"angleAxis":return ak(e);case"radiusAxis":return ok(e,r);default:return}},qE=Sg([Ok,KE],Yw),FE=Sg([Ok,OE,NE,qE],PE);Sg([Dk,tE,lk],rE);function HE(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var WE=(e,t)=>t,VE=(e,t,r)=>r,GE=Sg(Sm,WE,VE,(e,t,r)=>e.filter(e=>e.orientation===t).filter(e=>e.mirror===r).sort(HE)),YE=Sg(Om,WE,VE,(e,t,r)=>e.filter(e=>e.orientation===t).filter(e=>e.mirror===r).sort(HE)),QE=(e,t)=>({width:e.width,height:t.height}),JE=Sg(Rm,kk,QE),XE=Sg(Cm,Rm,GE,WE,VE,(e,t,r,n,i)=>{var a,o={};return r.forEach(r=>{var s=QE(t,r);null==a&&(a=((e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}})(t,n,e));var l="top"===n&&!i||"bottom"===n&&i;o[r.id]=a-Number(l)*s.height,a+=(l?-1:1)*s.height}),o}),$E=Sg(Em,Rm,YE,WE,VE,(e,t,r,n,i)=>{var a,o={};return r.forEach(r=>{var s=((e,t)=>({width:"number"===typeof t.width?t.width:60,height:e.height}))(t,r);null==a&&(a=((e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}})(t,n,e));var l="left"===n&&!i||"right"===n&&i;o[r.id]=a-Number(l)*s.width,a+=(l?-1:1)*s.width}),o}),ZE=Sg(Rm,Ak,(e,t)=>({width:"number"===typeof t.width?t.width:60,height:e.height})),eC=(e,t,r)=>{switch(t){case"xAxis":return JE(e,r).width;case"yAxis":return ZE(e,r).height;default:return}},tC=(e,t,r,n)=>{if(null!=r){var{allowDuplicatedCategory:i,type:a,dataKey:o}=r,s=cm(e,n),l=t.map(e=>e.value);return o&&s&&"category"===a&&i&&Dd(l)?l:void 0}},rC=Sg([Gm,Wk,Ok,lk],tC),nC=(e,t,r,n)=>{if(null!=r&&null!=r.dataKey){var{type:i,scale:a}=r;return!cm(e,n)||"number"!==i&&"auto"===a?void 0:t.map(e=>e.value)}},iC=Sg([Gm,Wk,Pk,lk],nC),aC=Sg([Gm,(e,t,r)=>{switch(t){case"xAxis":return kk(e,r);case"yAxis":return Ak(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},OE,FE,rC,iC,KE,jE,lk],(e,t,r,n,i,a,o,s,l)=>{if(null==t)return null;var c=cm(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:a,duplicateDomain:i,isCategorical:c,niceTicks:s,range:o,realScaleType:r,scale:n}}),oC=Sg([Gm,Pk,OE,FE,jE,KE,rC,iC,lk],(e,t,r,n,i,a,o,s,l)=>{if(null!=t&&null!=n){var c=cm(e,l),{type:u,ticks:d,tickCount:h}=t,f="scaleBand"===r&&"function"===typeof n.bandwidth?n.bandwidth()/2:2,p="category"===u&&n.bandwidth?n.bandwidth()/f:0;p="angleAxis"===l&&null!=a&&a.length>=2?2*Sd(a[0]-a[1])*p:p;var g=d||i;return g?g.map((e,t)=>{var r=o?o.indexOf(e):e;return{index:t,coordinate:n(r)+p,value:e,offset:p}}).filter(e=>!Od(e.coordinate)):c&&s?s.map((e,t)=>({coordinate:n(e)+p,value:e,index:t,offset:p})):n.ticks?n.ticks(h).map(e=>({coordinate:n(e)+p,value:e,offset:p})):n.domain().map((e,t)=>({coordinate:n(e)+p,value:o?o[e]:e,index:t,offset:p}))}}),sC=Sg([Gm,Pk,FE,KE,rC,iC,lk],(e,t,r,n,i,a,o)=>{if(null!=t&&null!=r&&null!=n&&n[0]!==n[1]){var s=cm(e,o),{tickCount:l}=t,c=0;return c="angleAxis"===o&&(null===n||void 0===n?void 0:n.length)>=2?2*Sd(n[0]-n[1])*c:c,s&&a?a.map((e,t)=>({coordinate:r(e)+c,value:e,index:t,offset:c})):r.ticks?r.ticks(l).map(e=>({coordinate:r(e)+c,value:e,offset:c})):r.domain().map((e,t)=>({coordinate:r(e)+c,value:i?i[e]:e,index:t,offset:c}))}}),lC=Sg(Ok,FE,(e,t)=>{if(null!=e&&null!=t)return yk(yk({},e),{},{scale:t})}),cC=Sg([Ok,OE,TE,qE],PE),uC=(Sg((e,t,r)=>Sk(e,r),cC,(e,t)=>{if(null!=e&&null!=t)return yk(yk({},e),{},{scale:t})}),Sg([Gm,Sm,Om],(e,t,r)=>{switch(e){case"horizontal":return t.some(e=>e.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(e=>e.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}})),dC=e=>e.options.defaultTooltipEventType,hC=e=>e.options.validateTooltipEventTypes;function fC(e,t,r){if(null==e)return t;var n=e?"axis":"item";return null==r?t:r.includes(n)?n:t}function pC(e,t){return fC(t,dC(e),hC(e))}var gC=(e,t)=>{var r,n=Number(t);if(!Od(n)&&null!=t)return n>=0?null===e||void 0===e||null===(r=e[n])||void 0===r?void 0:r.value:void 0};function mC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function vC(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?mC(Object(r),!0).forEach(function(t){yC(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mC(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function yC(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var bC=(e,t,r,n)=>{if(null==t)return Jp;var i=function(e,t,r){return"axis"===t?"click"===r?e.axisInteraction.click:e.axisInteraction.hover:"click"===r?e.itemInteraction.click:e.itemInteraction.hover}(e,t,r);if(null==i)return Jp;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&null!=e.syncInteraction.index)return e.syncInteraction;var a=!0===e.settings.active;if(null!=i.index){if(a)return vC(vC({},i),{},{active:!0})}else if(null!=n)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return vC(vC({},Jp),{},{coordinate:i.coordinate})},_C=(e,t)=>{var r=null===e||void 0===e?void 0:e.index;if(null==r)return null;var n=Number(r);if(!lw(n))return r;var i=1/0;return t.length>0&&(i=t.length-1),String(Math.max(0,Math.min(n,i)))},xC=(e,t,r,n,i,a,o,s)=>{if(null!=a&&null!=s){var l=o[0],c=null==l?void 0:s(l.positions,a);if(null!=c)return c;var u=null===i||void 0===i?void 0:i[Number(a)];if(u)return"horizontal"===r?{x:u.coordinate,y:(n.top+t)/2}:{x:(n.left+e)/2,y:u.coordinate}}},wC=(e,t,r,n)=>{return"axis"===t?e.tooltipItemPayloads:0===e.tooltipItemPayloads.length?[]:null==(i="hover"===r?e.itemInteraction.hover.dataKey:e.itemInteraction.click.dataKey)&&null!=n?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(e=>{var t;return(null===(t=e.settings)||void 0===t?void 0:t.dataKey)===i});var i},kC=e=>e.options.tooltipPayloadSearcher,EC=e=>e.tooltip;function CC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function AC(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?CC(Object(r),!0).forEach(function(t){TC(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CC(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function TC(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var SC=(e,t,r,n,i,a,o)=>{if(null!=t&&null!=a){var{chartData:s,computedData:l,dataStartIndex:c,dataEndIndex:u}=r;return e.reduce((e,r)=>{var d,h,f,{dataDefinedOnItem:p,settings:g}=r,m=function(e,t){return null!=e?e:t}(p,s),v=Array.isArray(m)?im(m,c,u):m,y=null!==(d=null===g||void 0===g?void 0:g.dataKey)&&void 0!==d?d:n,b=null===g||void 0===g?void 0:g.nameKey;(h=n&&Array.isArray(v)&&!Array.isArray(v[0])&&"axis"===o?Ud(v,n,i):a(v,t,l,b),Array.isArray(h))?h.forEach(t=>{var r=AC(AC({},g),{},{name:t.name,unit:t.unit,color:void 0,fill:void 0});e.push(wm({tooltipEntrySettings:r,dataKey:t.dataKey,payload:t.payload,value:lm(t.payload,t.dataKey),name:t.name}))}):e.push(wm({tooltipEntrySettings:g,dataKey:y,payload:h,value:lm(h,y),name:null!==(f=lm(h,b))&&void 0!==f?f:null===g||void 0===g?void 0:g.name}));return e},[])}},OC=Sg([fk,Gm,Ik,Rw,dk],SE),PC=Sg([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),IC=Sg([dk,hk],jk),jC=Sg([PC,fk,IC],Rk),MC=Sg([jC],e=>e.filter(mk)),NC=Sg([jC],zk),RC=Sg([NC,aw],qk),DC=Sg([MC,aw,fk],gk),LC=Sg([RC,fk,jC],Hk),UC=Sg([fk],oE),BC=Sg([jC],e=>e.filter(mk)),zC=Sg([DC,BC,Nw],Jk),KC=Sg([zC,aw,dk],$k),qC=Sg([jC],Uk),FC=Sg([RC,fk,qC,tE,dk],eE),HC=Sg([lE,dk,hk],cE),WC=Sg([HC,dk],gE),VC=Sg([dE,dk,hk],cE),GC=Sg([VC,dk],vE),YC=Sg([fE,dk,hk],cE),QC=Sg([YC,dk],bE),JC=Sg([WC,QC,GC],sE),XC=Sg([fk,UC,KC,FC,JC,Gm,dk],kE),$C=Sg([fk,Gm,RC,LC,Nw,dk,XC],AE),ZC=Sg([$C,fk,OC],IE),eA=Sg([fk,$C,ZC,dk],ME),tA=e=>{var t=dk(e),r=hk(e);return KE(e,t,r,!1)},rA=Sg([fk,tA],Yw),nA=Sg([fk,OC,eA,rA],PE),iA=Sg([Gm,LC,fk,dk],tC),aA=Sg([Gm,LC,fk,dk],nC),oA=Sg([Gm,fk,OC,nA,tA,iA,aA,dk],(e,t,r,n,i,a,o,s)=>{if(t){var{type:l}=t,c=cm(e,s);if(n){var u="scaleBand"===r&&n.bandwidth?n.bandwidth()/2:2,d="category"===l&&n.bandwidth?n.bandwidth()/u:0;return d="angleAxis"===s&&null!=i&&(null===i||void 0===i?void 0:i.length)>=2?2*Sd(i[0]-i[1])*d:d,c&&o?o.map((e,t)=>({coordinate:n(e)+d,value:e,index:t,offset:d})):n.domain().map((e,t)=>({coordinate:n(e)+d,value:a?a[e]:e,index:t,offset:d}))}}}),sA=Sg([dC,hC,e=>e.tooltip.settings],(e,t,r)=>fC(r.shared,e,t)),lA=e=>e.tooltip.settings.trigger,cA=e=>e.tooltip.settings.defaultIndex,uA=Sg([EC,sA,lA,cA],bC),dA=Sg([uA,RC],_C),hA=Sg([oA,dA],gC),fA=Sg([uA],e=>{if(e)return e.dataKey}),pA=Sg([EC,sA,lA,cA],wC),gA=Sg([Em,Cm,Gm,Rm,oA,cA,pA,kC],xC),mA=Sg([uA,gA],(e,t)=>null!==e&&void 0!==e&&e.coordinate?e.coordinate:t),vA=Sg([uA],e=>e.active),yA=Sg([pA,dA,aw,pk,hA,kC,sA],SC),bA=Sg([yA],e=>{if(null!=e){var t=e.map(e=>e.payload).filter(e=>null!=e);return Array.from(new Set(t))}}),_A=()=>Lg(Rw),xA=(e,t)=>t,wA=(e,t,r)=>r,kA=(e,t,r,n)=>n,EA=Sg(oA,e=>Bg()(e,e=>e.coordinate)),CA=Sg([EC,xA,wA,kA],bC),AA=Sg([CA,RC],_C),TA=Sg([EC,xA,wA,kA],wC),SA=Sg([Em,Cm,Gm,Rm,oA,kA,TA,kC],xC),OA=Sg([CA,SA],(e,t)=>{var r;return null!==(r=e.coordinate)&&void 0!==r?r:t}),PA=Sg(oA,AA,gC),IA=Sg([TA,AA,aw,pk,PA,kC,xA],SC),jA=Sg([CA],e=>({isActive:e.active,activeIndex:e.index})),MA=Sg([(e,t)=>t,Gm,sk,dk,rA,oA,EA,Rm],(e,t,r,n,i,a,o,s)=>{if(e&&t&&n&&i&&a){var l=function(e,t,r,n,i){return"horizontal"===r||"vertical"===r?e>=i.left&&e<=i.left+i.width&&t>=i.top&&t<=i.top+i.height?{x:e,y:t}:null:n?nm({x:e,y:t},n):null}(e.chartX,e.chartY,t,r,s);if(l){var c=((e,t)=>"horizontal"===t?e.x:"vertical"===t?e.y:"centric"===t?e.angle:e.radius)(l,t),u=((e,t,r,n,i)=>{var a,o=-1,s=null!==(a=null===t||void 0===t?void 0:t.length)&&void 0!==a?a:0;if(s<=1||null==e)return 0;if("angleAxis"===n&&null!=i&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var l=0;l<s;l++){var c=l>0?r[l-1].coordinate:r[s-1].coordinate,u=r[l].coordinate,d=l>=s-1?r[0].coordinate:r[l+1].coordinate,h=void 0;if(Sd(u-c)!==Sd(d-u)){var f=[];if(Sd(d-u)===Sd(i[1]-i[0])){h=d;var p=u+i[1]-i[0];f[0]=Math.min(p,(p+c)/2),f[1]=Math.max(p,(p+c)/2)}else{h=c;var g=d+i[1]-i[0];f[0]=Math.min(u,(g+u)/2),f[1]=Math.max(u,(g+u)/2)}var m=[Math.min(u,(h+u)/2),Math.max(u,(h+u)/2)];if(e>m[0]&&e<=m[1]||e>=f[0]&&e<=f[1]){({index:o}=r[l]);break}}else{var v=Math.min(c,d),y=Math.max(c,d);if(e>(v+u)/2&&e<=(y+u)/2){({index:o}=r[l]);break}}}else if(t)for(var b=0;b<s;b++)if(0===b&&e<=(t[b].coordinate+t[b+1].coordinate)/2||b>0&&b<s-1&&e>(t[b].coordinate+t[b-1].coordinate)/2&&e<=(t[b].coordinate+t[b+1].coordinate)/2||b===s-1&&e>(t[b].coordinate+t[b-1].coordinate)/2){({index:o}=t[b]);break}return o})(c,o,a,n,i),d=((e,t,r,n)=>{var i=t.find(e=>e&&e.index===r);if(i){if("horizontal"===e)return{x:i.coordinate,y:n.y};if("vertical"===e)return{x:n.x,y:i.coordinate};if("centric"===e){var a=i.coordinate,{radius:o}=n;return om(om(om({},n),Zg(n.cx,n.cy,o,a)),{},{angle:a,radius:o})}var s=i.coordinate,{angle:l}=n;return om(om(om({},n),Zg(n.cx,n.cy,s,l)),{},{angle:l,radius:s})}return{x:0,y:0}})(t,a,u,l);return{activeIndex:String(u),activeCoordinate:d}}}}),NA=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},RA=Xh("mouseClick"),DA=Wf();DA.startListening({actionCreator:RA,effect:(e,t)=>{var r=e.payload,n=MA(t.getState(),NA(r));null!=(null===n||void 0===n?void 0:n.activeIndex)&&t.dispatch(og({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var LA=Xh("mouseMove"),UA=Wf();function BA(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":t}function zA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function KA(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?zA(Object(r),!0).forEach(function(t){qA(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zA(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function qA(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}UA.startListening({actionCreator:LA,effect:(e,t)=>{var r=e.payload,n=t.getState(),i=pC(n,n.tooltip.settings.shared),a=MA(n,NA(r));"axis"===i&&(null!=(null===a||void 0===a?void 0:a.activeIndex)?t.dispatch(ag({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):t.dispatch(ng()))}});var FA=hf({name:"cartesianAxis",initialState:{xAxis:{},yAxis:{},zAxis:{}},reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload;e.yAxis[r]&&(e.yAxis[r]=KA(KA({},e.yAxis[r]),{},{width:n}))}}}),{addXAxis:HA,removeXAxis:WA,addYAxis:VA,removeYAxis:GA,addZAxis:YA,removeZAxis:QA,updateYAxisWidth:JA}=FA.actions,XA=FA.reducer,$A=hf({name:"graphicalItems",initialState:{cartesianItems:[],polarItems:[]},reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:r,next:n}=t.payload,i=Wh(e).cartesianItems.indexOf(r);i>-1&&(e.cartesianItems[i]=n)},removeCartesianGraphicalItem(e,t){var r=Wh(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var r=Wh(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)}}}),{addCartesianGraphicalItem:ZA,replaceCartesianGraphicalItem:eT,removeCartesianGraphicalItem:tT,addPolarGraphicalItem:rT,removePolarGraphicalItem:nT}=$A.actions,iT=$A.reducer,aT=hf({name:"referenceElements",initialState:{dots:[],areas:[],lines:[]},reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=Wh(e).dots.findIndex(e=>e===t.payload);-1!==r&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=Wh(e).areas.findIndex(e=>e===t.payload);-1!==r&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=Wh(e).lines.findIndex(e=>e===t.payload);-1!==r&&e.lines.splice(r,1)}}}),{addDot:oT,removeDot:sT,addArea:lT,removeArea:cT,addLine:uT,removeLine:dT}=aT.actions,hT=aT.reducer,fT={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},pT=hf({name:"brush",initialState:fT,reducers:{setBrushSettings:(e,t)=>null==t.payload?fT:t.payload}}),{setBrushSettings:gT}=pT.actions,mT=pT.reducer,vT=hf({name:"legend",initialState:{settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var r=Wh(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)}}}),{setLegendSize:yT,setLegendSettings:bT,addLegendPayload:_T,removeLegendPayload:xT}=vT.actions,wT=vT.reducer,kT={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},ET=hf({name:"rootProps",initialState:kT,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=null!==(r=t.payload.barGap)&&void 0!==r?r:kT.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),CT=ET.reducer,{updateOptions:AT}=ET.actions,TT=hf({name:"polarAxis",initialState:{radiusAxis:{},angleAxis:{}},reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:ST,removeRadiusAxis:OT,addAngleAxis:PT,removeAngleAxis:IT}=TT.actions,jT=TT.reducer,MT=hf({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:NT}=MT.actions,RT=MT.reducer,DT=Xh("keyDown"),LT=Xh("focus"),UT=Wf();UT.startListening({actionCreator:DT,effect:(e,t)=>{var r=t.getState();if(!1!==r.rootProps.accessibilityLayer){var{keyboardInteraction:n}=r.tooltip,i=e.payload;if("ArrowRight"===i||"ArrowLeft"===i||"Enter"===i){var a=Number(_C(n,RC(r))),o=oA(r);if("Enter"!==i){var s=a+("ArrowRight"===i?1:-1)*("left-to-right"===uC(r)?1:-1);if(!(null==o||s>=o.length||s<0)){var l=SA(r,"axis","hover",String(s));t.dispatch(lg({active:!0,activeIndex:s.toString(),activeDataKey:void 0,activeCoordinate:l}))}}else{var c=SA(r,"axis","hover",String(n.index));t.dispatch(lg({active:!n.active,activeIndex:n.index,activeDataKey:n.dataKey,activeCoordinate:c}))}}}}}),UT.startListening({actionCreator:LT,effect:(e,t)=>{var r=t.getState();if(!1!==r.rootProps.accessibilityLayer){var{keyboardInteraction:n}=r.tooltip;if(!n.active&&null==n.index){var i=SA(r,"axis","hover",String("0"));t.dispatch(lg({activeDataKey:void 0,active:!0,activeIndex:"0",activeCoordinate:i}))}}}});var BT=Xh("externalEvent"),zT=Wf();zT.startListening({actionCreator:BT,effect:(e,t)=>{if(null!=e.payload.handler){var r=t.getState(),n={activeCoordinate:mA(r),activeDataKey:fA(r),activeIndex:dA(r),activeLabel:hA(r),activeTooltipIndex:dA(r),isTooltipActive:vA(r)};e.payload.handler(n,e.payload.reactEvent)}}});var KT=Sg([EC],e=>e.tooltipItemPayloads),qT=Sg([KT,kC,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var i=e.find(e=>e.settings.dataKey===n);if(null!=i){var{positions:a}=i;if(null!=a)return t(a,r)}}),FT=Xh("touchMove"),HT=Wf();HT.startListening({actionCreator:FT,effect:(e,t)=>{var r=e.payload,n=t.getState(),i=pC(n,n.tooltip.settings.shared);if("axis"===i){var a=MA(n,NA({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));null!=(null===a||void 0===a?void 0:a.activeIndex)&&t.dispatch(ag({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if("item"===i){var o,s=r.touches[0],l=document.elementFromPoint(s.clientX,s.clientY);if(!l||!l.getAttribute)return;var c=l.getAttribute(Pm),u=null!==(o=l.getAttribute(Im))&&void 0!==o?o:void 0,d=qT(t.getState(),c,u);t.dispatch(tg({activeDataKey:u,activeIndex:c,activeCoordinate:d}))}}});var WT=hf({name:"errorBars",initialState:{},reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:i}=t.payload;e[r]&&(e[r]=e[r].map(e=>e.dataKey===n.dataKey&&e.direction===n.direction?i:e))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(e=>e.dataKey!==n.dataKey||e.direction!==n.direction))}}}),{addErrorBar:VT,replaceErrorBar:GT,removeErrorBar:YT}=WT.actions,QT=Zd({brush:mT,cartesianAxis:XA,chartData:pg,errorBars:WT.reducer,graphicalItems:iT,layout:_g,legend:wT,options:Qf,polarAxis:jT,polarOptions:RT,referenceElements:hT,rootProps:CT,tooltip:cg});function JT(e){var{preloadedState:t,children:n,reduxStoreName:i}=e,a=Bm(),o=(0,r.useRef)(null);if(a)return n;null==o.current&&(o.current=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Chart";return af({reducer:QT,preloadedState:e,middleware:e=>e({serializableCheck:!1}).concat([DA.middleware,UA.middleware,UT.middleware,zT.middleware,HT.middleware]),devTools:!!window.RECHARTS_DEV_TOOLS_ENABLED&&{serialize:{replacer:BA},name:"recharts-".concat(t)}})}(t,i));var s=Ig;return r.createElement(sp,{context:s,store:o.current},n)}var XT=e=>{var{chartData:t}=e,n=Mg(),i=Bm();return(0,r.useEffect)(()=>i?()=>{}:(n(dg(t)),()=>{n(dg(void 0))}),[t,n,i]),null};function $T(e){var{layout:t,width:n,height:i,margin:a}=e,o=Mg(),s=Bm();return(0,r.useEffect)(()=>{s||(o(vg(t)),o(yg({width:n,height:i})),o(mg(a)))},[o,s,t,n,i,a]),null}function ZT(e){var t=Mg();return(0,r.useEffect)(()=>{t(AT(e))},[t,e]),null}function eS(e){var t=Mg();return(0,r.useEffect)(()=>{t(NT(e))},[t,e]),null}var tS=()=>Lg(e=>e.rootProps.accessibilityLayer),rS=__webpack_require__(3288),nS=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function iS(e){return"string"===typeof e&&nS.includes(e)}var aS=["points","pathLength"],oS={svg:["viewBox","children"],polygon:aS,polyline:aS},sS=(e,t)=>{if(!e||"function"===typeof e||"boolean"===typeof e)return null;var n=e;if((0,r.isValidElement)(e)&&(n=e.props),"object"!==typeof n&&"function"!==typeof n)return null;var i={};return Object.keys(n).forEach(e=>{iS(e)&&(i[e]=t||(t=>n[e](n,t)))}),i},lS=(e,t,r)=>{if(null===e||"object"!==typeof e&&"function"!==typeof e)return null;var n=null;return Object.keys(e).forEach(i=>{var a=e[i];iS(i)&&"function"===typeof a&&(n||(n={}),n[i]=((e,t,r)=>n=>(e(t,r,n),null))(a,t,r))}),n},cS=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function uS(e){return"string"===typeof e&&cS.includes(e)}function dS(e){var t=Object.entries(e).filter(e=>{var[t]=e;return uS(t)});return Object.fromEntries(t)}var hS=e=>"string"===typeof e?e:e?e.displayName||e.name||"Component":"",fS=null,pS=null,gS=e=>{if(e===fS&&Array.isArray(pS))return pS;var t=[];return r.Children.forEach(e,e=>{Bd(e)||((0,rS.zv)(e)?t=t.concat(gS(e.props.children)):t.push(e))}),pS=t,fS=e,t};function mS(e,t){var r=[],n=[];return n=Array.isArray(t)?t.map(e=>hS(e)):[hS(t)],gS(e).forEach(e=>{var t=Td()(e,"type.displayName")||Td()(e,"type.name");-1!==n.indexOf(t)&&r.push(e)}),r}var vS=e=>!e||"object"!==typeof e||!("clipDot"in e)||Boolean(e.clipDot),yS=(e,t,n)=>{if(!e||"function"===typeof e||"boolean"===typeof e)return null;var i=e;if((0,r.isValidElement)(e)&&(i=e.props),"object"!==typeof i&&"function"!==typeof i)return null;var a={};return Object.keys(i).forEach(e=>{var r;((e,t,r,n)=>{var i;if("symbol"===typeof t||"number"===typeof t)return!0;var a=null!==(i=n&&(null===oS||void 0===oS?void 0:oS[n]))&&void 0!==i?i:[],o=t.startsWith("data-"),s="function"!==typeof e&&(Boolean(n)&&a.includes(t)||uS(t)),l=Boolean(r)&&iS(t);return o||s||l})(null===(r=i)||void 0===r?void 0:r[e],e,t,n)&&(a[e]=i[e])}),a},bS=["children","width","height","viewBox","className","style","title","desc"];function _S(){return _S=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_S.apply(null,arguments)}var xS=(0,r.forwardRef)((e,t)=>{var{children:n,width:i,height:a,viewBox:o,className:s,style:l,title:c,desc:u}=e,d=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,bS),h=o||{width:i,height:a,x:0,y:0},f=kd("recharts-surface",s);return r.createElement("svg",_S({},yS(d,!0,"svg"),{className:f,width:i,height:a,style:l,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height),ref:t}),r.createElement("title",null,c),r.createElement("desc",null,u),n)}),wS=["children"];function kS(){return kS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kS.apply(null,arguments)}var ES={width:"100%",height:"100%"},CS=(0,r.forwardRef)((e,t)=>{var n=Wm(),i=Vm(),a=tS();if(!cw(n)||!cw(i))return null;var o,s,{children:l,otherAttributes:c,title:u,desc:d}=e;return o="number"===typeof c.tabIndex?c.tabIndex:a?0:void 0,s="string"===typeof c.role?c.role:a?"application":void 0,r.createElement(xS,kS({},c,{title:u,desc:d,role:s,tabIndex:o,width:n,height:i,style:ES,ref:t}),l)}),AS=e=>{var{children:t}=e,n=Lg(Km);if(!n)return null;var{width:i,height:a,y:o,x:s}=n;return r.createElement(xS,{width:i,height:a,x:s,y:o},t)},TS=(0,r.forwardRef)((e,t)=>{var{children:n}=e,i=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,wS);return Bm()?r.createElement(AS,null,n):r.createElement(CS,kS({ref:t},i),n)});var SS=new(__webpack_require__(8811)),OS="recharts.syncEvent.tooltip",PS="recharts.syncEvent.brush";function IS(e){return e.tooltip.syncInteraction}var jS=["x","y"];function MS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function NS(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?MS(Object(r),!0).forEach(function(t){RS(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MS(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function RS(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var DS=()=>{};function LS(){var e=Lg(Dw),t=Lg(Uw),n=Mg(),i=Lg(Lw),a=Lg(oA),o=Ym(),s=qm(),l=Lg(e=>e.rootProps.className);(0,r.useEffect)(()=>{if(null==e)return DS;var r=(r,l,c)=>{var u;if(t!==c&&e===r)if("index"!==i){if(null!=a){var d;if("function"===typeof i){var h={activeTooltipIndex:null==l.payload.index?void 0:Number(l.payload.index),isTooltipActive:l.payload.active,activeIndex:null==l.payload.index?void 0:Number(l.payload.index),activeLabel:l.payload.label,activeDataKey:l.payload.dataKey,activeCoordinate:l.payload.coordinate},f=i(a,h);d=a[f]}else"value"===i&&(d=a.find(e=>String(e.value)===l.payload.label));var{coordinate:p}=l.payload;if(null!=d&&!1!==l.payload.active&&null!=p&&null!=s){var{x:g,y:m}=p,v=Math.min(g,s.x+s.width),y=Math.min(m,s.y+s.height),b={x:"horizontal"===o?d.coordinate:v,y:"horizontal"===o?y:d.coordinate},_=sg({active:l.payload.active,coordinate:b,dataKey:l.payload.dataKey,index:String(d.index),label:l.payload.label});n(_)}else n(sg({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}))}}else if(s&&null!==l&&void 0!==l&&null!==(u=l.payload)&&void 0!==u&&u.coordinate){var x=l.payload.coordinate,{x:w,y:k}=x,E=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(x,jS),C=NS(NS(NS({},E),"number"===typeof w&&{x:Math.max(s.x,Math.min(w,s.x+s.width))}),"number"===typeof k&&{y:Math.max(s.y,Math.min(k,s.y+s.height))}),A=NS(NS({},l),{},{payload:NS(NS({},l.payload),{},{coordinate:C})});n(A)}else n(l)};return SS.on(OS,r),()=>{SS.off(OS,r)}},[l,n,t,e,i,a,o,s])}function US(){var e=Mg();(0,r.useEffect)(()=>{e(Jf())},[e]),LS(),function(){var e=Lg(Dw),t=Lg(Uw),n=Mg();(0,r.useEffect)(()=>{if(null==e)return DS;var r=(r,i,a)=>{t!==a&&e===r&&n(hg(i))};return SS.on(PS,r),()=>{SS.off(PS,r)}},[n,t,e])}()}function BS(e,t,n,i,a,o){var s=Lg(r=>((e,t,r)=>{if(null!=t){var n=EC(e);return"axis"===t?"hover"===r?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:"hover"===r?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}})(r,e,t)),l=Lg(Uw),c=Lg(Dw),u=Lg(Lw),d=Lg(IS),h=null===d||void 0===d?void 0:d.active;(0,r.useEffect)(()=>{if(!h&&null!=c&&null!=l){var e=sg({active:o,coordinate:n,dataKey:s,index:a,label:"number"===typeof i?String(i):i});SS.emit(OS,c,e,l)}},[h,n,s,a,i,l,c,u,o])}var zS=(0,r.createContext)(null),KS=(0,r.createContext)(null);function qS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function FS(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?qS(Object(r),!0).forEach(function(t){HS(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qS(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function HS(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var WS=(0,r.forwardRef)((e,t)=>{var{children:n,className:i,height:a,onClick:o,onContextMenu:s,onDoubleClick:l,onMouseDown:c,onMouseEnter:u,onMouseLeave:d,onMouseMove:h,onMouseUp:f,onTouchEnd:p,onTouchMove:g,onTouchStart:m,style:v,width:y}=e,b=Mg(),[_,x]=(0,r.useState)(null),[w,k]=(0,r.useState)(null);US();var E=function(){var e=Mg(),[t,n]=(0,r.useState)(null),i=Lg(Am);return(0,r.useEffect)(()=>{if(null!=t){var r=t.getBoundingClientRect().width/t.offsetWidth;lw(r)&&r!==i&&e(bg(r))}},[t,e,i]),n}(),C=(0,r.useCallback)(e=>{E(e),"function"===typeof t&&t(e),x(e),k(e)},[E,t,x,k]),A=(0,r.useCallback)(e=>{b(RA(e)),b(BT({handler:o,reactEvent:e}))},[b,o]),T=(0,r.useCallback)(e=>{b(LA(e)),b(BT({handler:u,reactEvent:e}))},[b,u]),S=(0,r.useCallback)(e=>{b(ng()),b(BT({handler:d,reactEvent:e}))},[b,d]),O=(0,r.useCallback)(e=>{b(LA(e)),b(BT({handler:h,reactEvent:e}))},[b,h]),P=(0,r.useCallback)(()=>{b(LT())},[b]),I=(0,r.useCallback)(e=>{b(DT(e.key))},[b]),j=(0,r.useCallback)(e=>{b(BT({handler:s,reactEvent:e}))},[b,s]),M=(0,r.useCallback)(e=>{b(BT({handler:l,reactEvent:e}))},[b,l]),N=(0,r.useCallback)(e=>{b(BT({handler:c,reactEvent:e}))},[b,c]),R=(0,r.useCallback)(e=>{b(BT({handler:f,reactEvent:e}))},[b,f]),D=(0,r.useCallback)(e=>{b(BT({handler:m,reactEvent:e}))},[b,m]),L=(0,r.useCallback)(e=>{b(FT(e)),b(BT({handler:g,reactEvent:e}))},[b,g]),U=(0,r.useCallback)(e=>{b(BT({handler:p,reactEvent:e}))},[b,p]);return r.createElement(zS.Provider,{value:_},r.createElement(KS.Provider,{value:w},r.createElement("div",{className:kd("recharts-wrapper",i),style:FS({position:"relative",cursor:"default",width:y,height:a},v),onClick:A,onContextMenu:j,onDoubleClick:M,onFocus:P,onKeyDown:I,onMouseDown:N,onMouseEnter:T,onMouseLeave:S,onMouseMove:O,onMouseUp:R,onTouchEnd:U,onTouchMove:L,onTouchStart:D,ref:C},n)))}),VS=Sg([Rm],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),GS=Sg([VS,Em,Cm],(e,t,r)=>{if(e&&null!=t&&null!=r)return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),YS=()=>Lg(GS),QS=(0,r.createContext)(void 0),JS=e=>{var{children:t}=e,[n]=(0,r.useState)("".concat(Nd("recharts"),"-clip")),i=YS();if(null==i)return null;var{x:a,y:o,width:s,height:l}=i;return r.createElement(QS.Provider,{value:n},r.createElement("defs",null,r.createElement("clipPath",{id:n},r.createElement("rect",{x:a,y:o,height:l,width:s}))),t)},XS=["children","className","width","height","style","compact","title","desc"];var $S=(0,r.forwardRef)((e,t)=>{var{children:n,className:i,width:a,height:o,style:s,compact:l,title:c,desc:u}=e,d=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,XS),h=dS(d);return l?r.createElement(TS,{otherAttributes:h,title:c,desc:u},n):r.createElement(WS,{className:i,style:s,width:a,height:o,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},r.createElement(TS,{otherAttributes:h,title:c,desc:u,ref:t},r.createElement(JS,null,n)))});function ZS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function eO(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tO(e,t){var r=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ZS(Object(r),!0).forEach(function(t){eO(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZS(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},e),n=t;return Object.keys(t).reduce((e,t)=>(void 0===e[t]&&void 0!==n[t]&&(e[t]=n[t]),e),r)}var rO=["width","height","layout"];function nO(){return nO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nO.apply(null,arguments)}var iO={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index",layout:"radial"},aO=(0,r.forwardRef)(function(e,t){var n,i=tO(e.categoricalChartProps,iO),{width:a,height:o,layout:s}=i,l=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(i,rO);if(!cw(a)||!cw(o))return null;var{chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:h}=e,f={chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:h,eventEmitter:void 0};return r.createElement(JT,{preloadedState:{options:f},reduxStoreName:null!==(n=i.id)&&void 0!==n?n:c},r.createElement(XT,{chartData:i.data}),r.createElement($T,{width:a,height:o,layout:s,margin:i.margin}),r.createElement(ZT,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),r.createElement(eS,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),r.createElement($S,nO({width:a,height:o},l,{ref:t})))}),oO=["item"],sO={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},lO=(0,r.forwardRef)((e,t)=>{var n=tO(e,sO);return r.createElement(aO,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:oO,tooltipPayloadSearcher:Gf,categoricalChartProps:n,ref:t})}),cO=e=>e.graphicalItems.polarItems,uO=Sg([lk,ck],jk),dO=Sg([cO,Ok,uO],Rk),hO=Sg([dO],zk),fO=Sg([hO,ow],qk),pO=Sg([fO,Ok,dO],Hk),gO=Sg([fO,Ok,dO],(e,t,r)=>r.length>0?e.flatMap(e=>r.flatMap(r=>{var n;return{value:lm(e,null!==(n=t.dataKey)&&void 0!==n?n:r.dataKey),errorDomain:[]}})).filter(Boolean):null!=(null===t||void 0===t?void 0:t.dataKey)?e.map(e=>({value:lm(e,t.dataKey),errorDomain:[]})):e.map(e=>({value:e,errorDomain:[]}))),mO=()=>{},vO=Sg([Ok,wE,mO,gO,mO,Gm,lk],kE),yO=Sg([Ok,Gm,fO,pO,Nw,lk,vO],AE),bO=Sg([yO,Ok,OE],IE);Sg([Ok,yO,bO,lk],ME);function _O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function xO(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_O(Object(r),!0).forEach(function(t){wO(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_O(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function wO(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var kO=Sg([cO,(e,t)=>t],(e,t)=>e.filter(e=>"pie"===e.type).find(e=>e.id===t)),EO=[],CO=(e,t,r)=>0===(null===r||void 0===r?void 0:r.length)?EO:r,AO=Sg([ow,kO,CO],(e,t,r)=>{var n,{chartData:i}=e;if(null!=t&&((n=null!=(null===t||void 0===t?void 0:t.data)&&t.data.length>0?t.data:i)&&n.length||null==r||(n=r.map(e=>xO(xO({},t.presentationProps),e.props))),null!=n))return n}),TO=Sg([AO,kO,CO],(e,t,r)=>{if(null!=e&&null!=t)return e.map((e,n)=>{var i,a,o=lm(e,t.nameKey,t.name);return a=null!==r&&void 0!==r&&null!==(i=r[n])&&void 0!==i&&null!==(i=i.props)&&void 0!==i&&i.fill?r[n].props.fill:"object"===typeof e&&null!=e&&"fill"in e?e.fill:t.fill,{value:km(o,t.dataKey),color:a,payload:e,type:t.legendType}})}),SO=Sg([AO,kO,CO,Rm],(e,t,r,n)=>{if(null!=t&&null!=e)return function(e){var t,r,n,{pieSettings:i,displayedData:a,cells:o,offset:s}=e,{cornerRadius:l,startAngle:c,endAngle:u,dataKey:d,nameKey:h,tooltipType:f}=i,p=Math.abs(i.minAngle),g=WM(c,u),m=Math.abs(g),v=a.length<=1?0:null!==(t=i.paddingAngle)&&void 0!==t?t:0,y=a.filter(e=>0!==lm(e,d,0)).length,b=m-y*p-(m>=360?y:y-1)*v,_=a.reduce((e,t)=>{var r=lm(t,d,0);return e+(Id(r)?r:0)},0);_>0&&(r=a.map((e,t)=>{var r,a=lm(e,d,0),u=lm(e,h,t),m=HM(i,s,e),y=(Id(a)?a:0)/_,x=BM(BM({},e),o&&o[t]&&o[t].props),w=(r=t?n.endAngle+Sd(g)*v*(0!==a?1:0):c)+Sd(g)*((0!==a?p:0)+y*b),k=(r+w)/2,E=(m.innerRadius+m.outerRadius)/2,C=[{name:u,value:a,payload:x,dataKey:d,type:f}],A=Zg(m.cx,m.cy,E,k);return n=BM(BM(BM(BM({},i.presentationProps),{},{percent:y,cornerRadius:l,name:u,tooltipPayload:C,midAngle:k,middleRadius:E,tooltipPosition:A},x),m),{},{value:lm(e,d),startAngle:r,endAngle:w,payload:x,paddingAngle:Sd(g)*v})}));return r}({offset:n,pieSettings:t,displayedData:e,cells:r})}),OO=["children","className"];function PO(){return PO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},PO.apply(null,arguments)}var IO,jO,MO,NO,RO,DO,LO,UO,BO,zO,KO,qO,FO,HO,WO=r.forwardRef((e,t)=>{var{children:n,className:i}=e,a=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,OO),o=kd("recharts-layer",i);return r.createElement("g",PO({className:o},yS(a,!0),{ref:t}),n)});function VO(){}function GO(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function YO(e){this._context=e}function QO(e){this._context=e}function JO(e){this._context=e}YO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:GO(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:GO(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},QO.prototype={areaStart:VO,areaEnd:VO,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:GO(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},JO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:GO(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};class XO{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}function $O(e){this._context=e}function ZO(e){this._context=e}function eP(e){return new ZO(e)}function tP(e){return e<0?-1:1}function rP(e,t,r){var n=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(n||i<0&&-0),o=(r-e._y1)/(i||n<0&&-0),s=(a*i+o*n)/(n+i);return(tP(a)+tP(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function nP(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function iP(e,t,r){var n=e._x0,i=e._y0,a=e._x1,o=e._y1,s=(a-n)/3;e._context.bezierCurveTo(n+s,i+s*t,a-s,o-s*r,a,o)}function aP(e){this._context=e}function oP(e){this._context=new sP(e)}function sP(e){this._context=e}function lP(e){this._context=e}function cP(e){var t,r,n=e.length-1,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/a[t-1],a[t]-=r,o[t]-=r*o[t-1];for(i[n-1]=o[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function uP(e,t){this._context=e,this._t=t}function dP(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}$O.prototype={areaStart:VO,areaEnd:VO,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},ZO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}},aP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:iP(this,this._t0,nP(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,iP(this,nP(this,r=rP(this,e,t)),r);break;default:iP(this,this._t0,r=rP(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}},(oP.prototype=Object.create(aP.prototype)).point=function(e,t){aP.prototype.point.call(this,t,e)},sP.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,a){this._context.bezierCurveTo(t,e,n,r,a,i)}},lP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===r)this._context.lineTo(e[1],t[1]);else for(var n=cP(e),i=cP(t),a=0,o=1;o<r;++a,++o)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],e[o],t[o]);(this._line||0!==this._line&&1===r)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},uP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}}this._x=e,this._y=t}};const hP=Math.PI,fP=2*hP,pP=1e-6,gP=fP-pP;function mP(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}class vP{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?mP:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error("invalid digits: ".concat(e));if(t>15)return mP;const r=10**t;return function(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=Math.round(arguments[t]*r)/r+e[t]}}(e)}moveTo(e,t){this._append(IO||(IO=dP(["M",",",""])),this._x0=this._x1=+e,this._y0=this._y1=+t)}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append(jO||(jO=dP(["Z"]))))}lineTo(e,t){this._append(MO||(MO=dP(["L",",",""])),this._x1=+e,this._y1=+t)}quadraticCurveTo(e,t,r,n){this._append(NO||(NO=dP(["Q",",",",",",",""])),+e,+t,this._x1=+r,this._y1=+n)}bezierCurveTo(e,t,r,n,i,a){this._append(RO||(RO=dP(["C",",",",",",",",",",",""])),+e,+t,+r,+n,this._x1=+i,this._y1=+a)}arcTo(e,t,r,n,i){if(e=+e,t=+t,r=+r,n=+n,(i=+i)<0)throw new Error("negative radius: ".concat(i));let a=this._x1,o=this._y1,s=r-e,l=n-t,c=a-e,u=o-t,d=c*c+u*u;if(null===this._x1)this._append(DO||(DO=dP(["M",",",""])),this._x1=e,this._y1=t);else if(d>pP)if(Math.abs(u*s-l*c)>pP&&i){let h=r-a,f=n-o,p=s*s+l*l,g=h*h+f*f,m=Math.sqrt(p),v=Math.sqrt(d),y=i*Math.tan((hP-Math.acos((p+d-g)/(2*m*v)))/2),b=y/v,_=y/m;Math.abs(b-1)>pP&&this._append(UO||(UO=dP(["L",",",""])),e+b*c,t+b*u),this._append(BO||(BO=dP(["A",",",",0,0,",",",",",""])),i,i,+(u*h>c*f),this._x1=e+_*s,this._y1=t+_*l)}else this._append(LO||(LO=dP(["L",",",""])),this._x1=e,this._y1=t);else;}arc(e,t,r,n,i,a){if(e=+e,t=+t,a=!!a,(r=+r)<0)throw new Error("negative radius: ".concat(r));let o=r*Math.cos(n),s=r*Math.sin(n),l=e+o,c=t+s,u=1^a,d=a?n-i:i-n;null===this._x1?this._append(zO||(zO=dP(["M",",",""])),l,c):(Math.abs(this._x1-l)>pP||Math.abs(this._y1-c)>pP)&&this._append(KO||(KO=dP(["L",",",""])),l,c),r&&(d<0&&(d=d%fP+fP),d>gP?this._append(qO||(qO=dP(["A",",",",0,1,",",",",","A",",",",0,1,",",",",",""])),r,r,u,e-o,t-s,r,r,u,this._x1=l,this._y1=c):d>pP&&this._append(FO||(FO=dP(["A",",",",0,",",",",",",",""])),r,r,+(d>=hP),u,this._x1=e+r*Math.cos(i),this._y1=t+r*Math.sin(i)))}rect(e,t,r,n){this._append(HO||(HO=dP(["M",",","h","v","h","Z"])),this._x0=this._x1=+e,this._y0=this._y1=+t,r=+r,+n,-r)}toString(){return this._}}function yP(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(null==r)t=null;else{const e=Math.floor(r);if(!(e>=0))throw new RangeError("invalid digits: ".concat(r));t=e}return e},()=>new vP(t)}function bP(e){return e[0]}function _P(e){return e[1]}function xP(e,t){var r=Hg(!0),n=null,i=eP,a=null,o=yP(s);function s(s){var l,c,u,d=(s=Fg(s)).length,h=!1;for(null==n&&(a=i(u=o())),l=0;l<=d;++l)!(l<d&&r(c=s[l],l,s))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+e(c,l,s),+t(c,l,s));if(u)return a=null,u+""||null}return e="function"===typeof e?e:void 0===e?bP:Hg(e),t="function"===typeof t?t:void 0===t?_P:Hg(t),s.x=function(t){return arguments.length?(e="function"===typeof t?t:Hg(+t),s):e},s.y=function(e){return arguments.length?(t="function"===typeof e?e:Hg(+e),s):t},s.defined=function(e){return arguments.length?(r="function"===typeof e?e:Hg(!!e),s):r},s.curve=function(e){return arguments.length?(i=e,null!=n&&(a=i(n)),s):i},s.context=function(e){return arguments.length?(null==e?n=a=null:a=i(n=e),s):n},s}function wP(e,t,r){var n=null,i=Hg(!0),a=null,o=eP,s=null,l=yP(c);function c(c){var u,d,h,f,p,g=(c=Fg(c)).length,m=!1,v=new Array(g),y=new Array(g);for(null==a&&(s=o(p=l())),u=0;u<=g;++u){if(!(u<g&&i(f=c[u],u,c))===m)if(m=!m)d=u,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),h=u-1;h>=d;--h)s.point(v[h],y[h]);s.lineEnd(),s.areaEnd()}m&&(v[u]=+e(f,u,c),y[u]=+t(f,u,c),s.point(n?+n(f,u,c):v[u],r?+r(f,u,c):y[u]))}if(p)return s=null,p+""||null}function u(){return xP().defined(i).curve(o).context(a)}return e="function"===typeof e?e:void 0===e?bP:Hg(+e),t="function"===typeof t?t:Hg(void 0===t?0:+t),r="function"===typeof r?r:void 0===r?_P:Hg(+r),c.x=function(t){return arguments.length?(e="function"===typeof t?t:Hg(+t),n=null,c):e},c.x0=function(t){return arguments.length?(e="function"===typeof t?t:Hg(+t),c):e},c.x1=function(e){return arguments.length?(n=null==e?null:"function"===typeof e?e:Hg(+e),c):n},c.y=function(e){return arguments.length?(t="function"===typeof e?e:Hg(+e),r=null,c):t},c.y0=function(e){return arguments.length?(t="function"===typeof e?e:Hg(+e),c):t},c.y1=function(e){return arguments.length?(r=null==e?null:"function"===typeof e?e:Hg(+e),c):r},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(r)},c.lineX1=function(){return u().x(n).y(t)},c.defined=function(e){return arguments.length?(i="function"===typeof e?e:Hg(!!e),c):i},c.curve=function(e){return arguments.length?(o=e,null!=a&&(s=o(a)),c):o},c.context=function(e){return arguments.length?(null==e?a=s=null:s=o(a=e),c):a},c}function kP(){return kP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kP.apply(null,arguments)}function EP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function CP(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?EP(Object(r),!0).forEach(function(t){AP(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EP(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function AP(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var TP={curveBasisClosed:function(e){return new QO(e)},curveBasisOpen:function(e){return new JO(e)},curveBasis:function(e){return new YO(e)},curveBumpX:function(e){return new XO(e,!0)},curveBumpY:function(e){return new XO(e,!1)},curveLinearClosed:function(e){return new $O(e)},curveLinear:eP,curveMonotoneX:function(e){return new aP(e)},curveMonotoneY:function(e){return new oP(e)},curveNatural:function(e){return new lP(e)},curveStep:function(e){return new uP(e,.5)},curveStepAfter:function(e){return new uP(e,1)},curveStepBefore:function(e){return new uP(e,0)}},SP=e=>lw(e.x)&&lw(e.y),OP=e=>e.x,PP=e=>e.y,IP=e=>{var t,{type:r="linear",points:n=[],baseLine:i,layout:a,connectNulls:o=!1}=e,s=((e,t)=>{if("function"===typeof e)return e;var r="curve".concat(zd(e));return"curveMonotone"!==r&&"curveBump"!==r||!t?TP[r]||eP:TP["".concat(r).concat("vertical"===t?"Y":"X")]})(r,a),l=o?n.filter(SP):n;if(Array.isArray(i)){var c=o?i.filter(e=>SP(e)):i,u=l.map((e,t)=>CP(CP({},e),{},{base:c[t]}));return(t="vertical"===a?wP().y(PP).x1(OP).x0(e=>e.base.x):wP().x(OP).y1(PP).y0(e=>e.base.y)).defined(SP).curve(s),t(u)}return(t="vertical"===a&&Id(i)?wP().y(PP).x1(OP).x0(i):Id(i)?wP().x(OP).y1(PP).y0(i):xP().x(OP).y(PP)).defined(SP).curve(s),t(l)},jP=e=>{var{className:t,points:n,path:i,pathRef:a}=e;if((!n||!n.length)&&!i)return null;var o=n&&n.length?IP(e):i;return r.createElement("path",kP({},dS(e),sS(e),{className:kd("recharts-curve",t),d:null===o?void 0:o,ref:a}))},MP=!("undefined"!==typeof window&&window.document&&Boolean(window.document.createElement)&&window.setTimeout);function NP(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function DP(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?RP(Object(r),!0).forEach(function(t){LP(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RP(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function LP(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var UP=DP({},{cacheSize:2e3,enableCache:!0}),BP=new class{constructor(e){NP(this,"cache",new Map),this.maxSize=e}get(e){var t=this.cache.get(e);return void 0!==t&&(this.cache.delete(e),this.cache.set(e,t)),t}set(e,t){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(e,t)}clear(){this.cache.clear()}size(){return this.cache.size}}(UP.cacheSize),zP={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},KP="recharts_measurement_span";var qP=(e,t)=>{try{var r=document.getElementById(KP);r||((r=document.createElement("span")).setAttribute("id",KP),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,zP,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch(i){return{width:0,height:0}}},FP=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0===e||null===e||MP)return{width:0,height:0};if(!UP.enableCache)return qP(e,t);var r=function(e,t){var r=t.fontSize||"",n=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",o=t.letterSpacing||"",s=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(a,"|").concat(o,"|").concat(s)}(e,t),n=BP.get(r);if(n)return n;var i=qP(e,t);return BP.set(r,i),i},HP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,WP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,VP=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,GP=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,YP={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},QP=Object.keys(YP),JP="NaN";class XP{static parse(e){var t,[,r,n]=null!==(t=GP.exec(e))&&void 0!==t?t:[];return new XP(parseFloat(r),null!==n&&void 0!==n?n:"")}constructor(e,t){this.num=e,this.unit=t,this.num=e,this.unit=t,Od(e)&&(this.unit=""),""===t||VP.test(t)||(this.num=NaN,this.unit=""),QP.includes(t)&&(this.num=function(e,t){return e*YP[t]}(e,t),this.unit="px")}add(e){return this.unit!==e.unit?new XP(NaN,""):new XP(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new XP(NaN,""):new XP(this.num-e.num,this.unit)}multiply(e){return""!==this.unit&&""!==e.unit&&this.unit!==e.unit?new XP(NaN,""):new XP(this.num*e.num,this.unit||e.unit)}divide(e){return""!==this.unit&&""!==e.unit&&this.unit!==e.unit?new XP(NaN,""):new XP(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Od(this.num)}}function $P(e){if(e.includes(JP))return JP;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,i,a]=null!==(r=HP.exec(t))&&void 0!==r?r:[],o=XP.parse(null!==n&&void 0!==n?n:""),s=XP.parse(null!==a&&void 0!==a?a:""),l="*"===i?o.multiply(s):o.divide(s);if(l.isNaN())return JP;t=t.replace(HP,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var c,[,u,d,h]=null!==(c=WP.exec(t))&&void 0!==c?c:[],f=XP.parse(null!==u&&void 0!==u?u:""),p=XP.parse(null!==h&&void 0!==h?h:""),g="+"===d?f.add(p):f.subtract(p);if(g.isNaN())return JP;t=t.replace(WP,g.toString())}return t}var ZP=/\(([^()]*)\)/;function eI(e){var t=e.replace(/\s+/g,"");return t=function(e){for(var t,r=e;null!=(t=ZP.exec(r));){var[,n]=t;r=r.replace(ZP,$P(n))}return r}(t),t=$P(t)}function tI(e){var t=function(e){try{return eI(e)}catch(t){return JP}}(e.slice(5,-1));return t===JP?"":t}var rI=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],nI=["dx","dy","angle","className","breakAll"];function iI(){return iI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},iI.apply(null,arguments)}function aI(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var oI=/[ \f\n\r\t\v\u2028\u2029]+/,sI=e=>{var{children:t,breakAll:r,style:n}=e;try{var i=[];return Bd(t)||(i=r?t.toString().split(""):t.toString().split(oI)),{wordsWithComputedWidth:i.map(e=>({word:e,width:FP(e,n).width})),spaceWidth:r?0:FP("\xa0",n).width}}catch(a){return null}},lI=e=>[{words:Bd(e)?[]:e.toString().split(oI)}],cI=e=>{var{width:t,scaleToFit:r,children:n,style:i,breakAll:a,maxLines:o}=e;if((t||r)&&!MP){var s=sI({breakAll:a,children:n,style:i});if(!s)return lI(n);var{wordsWithComputedWidth:l,spaceWidth:c}=s;return((e,t,r,n,i)=>{var{maxLines:a,children:o,style:s,breakAll:l}=e,c=Id(a),u=o,d=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce((e,t)=>{var{word:a,width:o}=t,s=e[e.length-1];if(s&&(null==n||i||s.width+o+r<Number(n)))s.words.push(a),s.width+=o+r;else{var l={words:[a],width:o};e.push(l)}return e},[])},h=d(t),f=e=>e.reduce((e,t)=>e.width>t.width?e:t);if(!c||i)return h;if(!(h.length>a||f(h).width>Number(n)))return h;for(var p,g=e=>{var t=u.slice(0,e),r=sI({breakAll:l,style:s,children:t+"\u2026"}).wordsWithComputedWidth,i=d(r);return[i.length>a||f(i).width>Number(n),i]},m=0,v=u.length-1,y=0;m<=v&&y<=u.length-1;){var b=Math.floor((m+v)/2),_=b-1,[x,w]=g(_),[k]=g(b);if(x||k||(m=b+1),x&&k&&(v=b-1),!x&&k){p=w;break}y++}return p||h})({breakAll:a,children:n,maxLines:o,style:i},l,c,t,r)}return lI(n)},uI="#808080",dI=(0,r.forwardRef)((e,t)=>{var{x:n=0,y:i=0,lineHeight:a="1em",capHeight:o="0.71em",scaleToFit:s=!1,textAnchor:l="start",verticalAnchor:c="end",fill:u=uI}=e,d=aI(e,rI),h=(0,r.useMemo)(()=>cI({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:s,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,s,d.style,d.width]),{dx:f,dy:p,angle:g,className:m,breakAll:v}=d,y=aI(d,nI);if(!jd(n)||!jd(i)||0===h.length)return null;var b,_=n+(Id(f)?f:0),x=i+(Id(p)?p:0);switch(c){case"start":b=tI("calc(".concat(o,")"));break;case"middle":b=tI("calc(".concat((h.length-1)/2," * -").concat(a," + (").concat(o," / 2))"));break;default:b=tI("calc(".concat(h.length-1," * -").concat(a,")"))}var w=[];if(s){var k=h[0].width,{width:E}=d;w.push("scale(".concat(Id(E)?E/k:1,")"))}return g&&w.push("rotate(".concat(g,", ").concat(_,", ").concat(x,")")),w.length&&(y.transform=w.join(" ")),r.createElement("text",iI({},yS(y,!0),{ref:t,x:_,y:x,className:kd("recharts-text",m),textAnchor:l,fill:u.includes("url")?uI:u}),h.map((e,t)=>{var n=e.words.join(v?"":" ");return r.createElement("tspan",{x:_,dy:0===t?b:a,key:"".concat(n,"-").concat(t)},n)}))});dI.displayName="Text";var hI=e=>null;hI.displayName="Cell";var fI=__webpack_require__(6573),pI=__webpack_require__.n(fI);function gI(){}function mI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function vI(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?mI(Object(r),!0).forEach(function(t){yI(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mI(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function yI(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var bI=(e,t,r)=>e.map(e=>"".concat((e=>e.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())))(e)," ").concat(t,"ms ").concat(r)).join(","),_I=(e,t)=>Object.keys(t).reduce((r,n)=>vI(vI({},r),{},{[n]:e(n,t[n])}),{});function xI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function wI(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xI(Object(r),!0).forEach(function(t){kI(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xI(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function kI(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var EI=(e,t,r)=>e+(t-e)*r,CI=e=>{var{from:t,to:r}=e;return t!==r},AI=(e,t,r)=>{var n=_I((t,r)=>{if(CI(r)){var[n,i]=e(r.from,r.to,r.velocity);return wI(wI({},r),{},{from:n,velocity:i})}return r},t);return r<1?_I((e,t)=>CI(t)?wI(wI({},t),{},{velocity:EI(t.velocity,n[e].velocity,r),from:EI(t.from,n[e].from,r)}):t,t):AI(e,n,r-1)};function TI(e,t,r,n,i,a){var o,s=n.reduce((r,n)=>wI(wI({},r),{},{[n]:{from:e[n],velocity:0,to:t[n]}}),{}),l=null,c=n=>{o||(o=n);var u=(n-o)/r.dt;s=AI(r,s,u),i(wI(wI(wI({},e),t),_I((e,t)=>t.from,s))),o=n,Object.values(s).filter(CI).length&&(l=a.setTimeout(c))};return()=>(l=a.setTimeout(c),()=>{l()})}const SI=(e,t,r,n,i,a)=>{var o,s,l=(o=e,s=t,[Object.keys(o),Object.keys(s)].reduce((e,t)=>e.filter(e=>t.includes(e))));return!0===r.isStepper?TI(e,t,r,l,i,a):function(e,t,r,n,i,a,o){var s,l=null,c=i.reduce((r,n)=>wI(wI({},r),{},{[n]:[e[n],t[n]]}),{}),u=i=>{s||(s=i);var d=(i-s)/n,h=_I((e,t)=>EI(...t,r(d)),c);if(a(wI(wI(wI({},e),t),h)),d<1)l=o.setTimeout(u);else{var f=_I((e,t)=>EI(...t,r(1)),c);a(wI(wI(wI({},e),t),f))}};return()=>(l=o.setTimeout(u),()=>{l()})}(e,t,r,n,l,i,a)};var OI=1e-4,PI=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],II=(e,t)=>e.map((e,r)=>e*t**r).reduce((e,t)=>e+t),jI=(e,t)=>r=>{var n=PI(e,t);return II(n,r)},MI=function(){for(var e,t,r,n,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];if(1===a.length)switch(a[0]){case"linear":[e,r,t,n]=[0,0,1,1];break;case"ease":[e,r,t,n]=[.25,.1,.25,1];break;case"ease-in":[e,r,t,n]=[.42,0,1,1];break;case"ease-out":[e,r,t,n]=[.42,0,.58,1];break;case"ease-in-out":[e,r,t,n]=[0,0,.58,1];break;default:var s=a[0].split("(");"cubic-bezier"===s[0]&&4===s[1].split(")")[0].split(",").length&&([e,r,t,n]=s[1].split(")")[0].split(",").map(e=>parseFloat(e)))}else 4===a.length&&([e,r,t,n]=a);var l,c,u=jI(e,t),d=jI(r,n),h=(l=e,c=t,e=>{var t=[...PI(l,c).map((e,t)=>e*t).slice(1),0];return II(t,e)}),f=e=>e>1?1:e<0?0:e,p=e=>{for(var t=e>1?1:e,r=t,n=0;n<8;++n){var i=u(r)-t,a=h(r);if(Math.abs(i-t)<OI||a<OI)return d(r);r=f(r-i/a)}return d(r)};return p.isStepper=!1,p},NI=e=>{if("string"===typeof e)switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return MI(e);case"spring":return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{stiff:t=100,damping:r=8,dt:n=17}=e,i=(e,i,a)=>{var o=a+(-(e-i)*t-a*r)*n/1e3,s=a*n/1e3+e;return Math.abs(s-i)<OI&&Math.abs(o)<OI?[i,0]:[s,o]};return i.isStepper=!0,i.dt=n,i}();default:if("cubic-bezier"===e.split("(")[0])return MI(e)}return"function"===typeof e?e:null};class RI{setTimeout(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=performance.now(),n=null,i=a=>{a-r>=t?e(a):"function"===typeof requestAnimationFrame&&(n=requestAnimationFrame(i))};return n=requestAnimationFrame(i),()=>{cancelAnimationFrame(n)}}}function DI(){return function(e){var t=()=>null,r=!1,n=null,i=a=>{if(!r){if(Array.isArray(a)){if(!a.length)return;var o=a,[s,...l]=o;return"number"===typeof s?void(n=e.setTimeout(i.bind(null,l),s)):(i(s),void(n=e.setTimeout(i.bind(null,l))))}"string"===typeof a&&t(a),"object"===typeof a&&t(a),"function"===typeof a&&a()}};return{stop:()=>{r=!0},start:e=>{r=!1,n&&(n(),n=null),i(e)},subscribe:e=>(t=e,()=>{t=()=>null}),getTimeoutController:()=>e}}(new RI)}var LI=(0,r.createContext)(DI);var UI={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},BI={t:0},zI={t:1};function KI(e){var t=tO(e,UI),{isActive:n,canBegin:i,duration:a,easing:o,begin:s,onAnimationEnd:l,onAnimationStart:c,children:u}=t,d=function(e,t){var n=(0,r.useContext)(LI);return(0,r.useMemo)(()=>null!==t&&void 0!==t?t:n(e),[e,t,n])}(t.animationId,t.animationManager),[h,f]=(0,r.useState)(n?BI:zI),p=(0,r.useRef)(null);return(0,r.useEffect)(()=>{n||f(zI)},[n]),(0,r.useEffect)(()=>{if(!n||!i)return gI;var e=SI(BI,zI,NI(o),a,f,d.getTimeoutController());return d.start([c,s,()=>{p.current=e()},a,l]),()=>{d.stop(),p.current&&p.current(),l()}},[n,i,a,o,s,c,l,d]),u(h.t)}function qI(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"animation-",n=(0,r.useRef)(Nd(t)),i=(0,r.useRef)(e);return i.current!==e&&(n.current=Nd(t),i.current=e),n.current}function FI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function HI(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?FI(Object(r),!0).forEach(function(t){WI(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FI(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function WI(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VI(){return VI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},VI.apply(null,arguments)}var GI=(e,t,r,n,i)=>{var a,o=Math.min(Math.abs(r)/2,Math.abs(n)/2),s=n>=0?1:-1,l=r>=0?1:-1,c=n>=0&&r>=0||n<0&&r<0?1:0;if(o>0&&i instanceof Array){for(var u=[0,0,0,0],d=0;d<4;d++)u[d]=i[d]>o?o:i[d];a="M".concat(e,",").concat(t+s*u[0]),u[0]>0&&(a+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(c,",").concat(e+l*u[0],",").concat(t)),a+="L ".concat(e+r-l*u[1],",").concat(t),u[1]>0&&(a+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(c,",\n        ").concat(e+r,",").concat(t+s*u[1])),a+="L ".concat(e+r,",").concat(t+n-s*u[2]),u[2]>0&&(a+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(c,",\n        ").concat(e+r-l*u[2],",").concat(t+n)),a+="L ".concat(e+l*u[3],",").concat(t+n),u[3]>0&&(a+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(c,",\n        ").concat(e,",").concat(t+n-s*u[3])),a+="Z"}else if(o>0&&i===+i&&i>0){var h=Math.min(o,i);a="M ".concat(e,",").concat(t+s*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+l*h,",").concat(t,"\n            L ").concat(e+r-l*h,",").concat(t,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+r,",").concat(t+s*h,"\n            L ").concat(e+r,",").concat(t+n-s*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+r-l*h,",").concat(t+n,"\n            L ").concat(e+l*h,",").concat(t+n,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e,",").concat(t+n-s*h," Z")}else a="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return a},YI={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},QI=e=>{var t=tO(e,YI),n=(0,r.useRef)(null),[i,a]=(0,r.useState)(-1);(0,r.useEffect)(()=>{if(n.current&&n.current.getTotalLength)try{var e=n.current.getTotalLength();e&&a(e)}catch(t){}},[]);var{x:o,y:s,width:l,height:c,radius:u,className:d}=t,{animationEasing:h,animationDuration:f,animationBegin:p,isAnimationActive:g,isUpdateAnimationActive:m}=t,v=(0,r.useRef)(l),y=(0,r.useRef)(c),b=(0,r.useRef)(o),_=(0,r.useRef)(s),x=qI((0,r.useMemo)(()=>({x:o,y:s,width:l,height:c,radius:u}),[o,s,l,c,u]),"rectangle-");if(o!==+o||s!==+s||l!==+l||c!==+c||0===l||0===c)return null;var w=kd("recharts-rectangle",d);if(!m)return r.createElement("path",VI({},yS(t,!0),{className:w,d:GI(o,s,l,c,u)}));var k=v.current,E=y.current,C=b.current,A=_.current,T="0px ".concat(-1===i?1:i,"px"),S="".concat(i,"px 0px"),O=bI(["strokeDasharray"],f,"string"===typeof h?h:void 0);return r.createElement(KI,{animationId:x,key:x,canBegin:i>0,duration:f,easing:h,isActive:m,begin:p},e=>{var i,a=Ld(k,l,e),d=Ld(E,c,e),h=Ld(C,o,e),f=Ld(A,s,e);return n.current&&(v.current=a,y.current=d,b.current=h,_.current=f),i=g?e>0?{transition:O,strokeDasharray:S}:{strokeDasharray:T}:{strokeDasharray:S},r.createElement("path",VI({},yS(t,!0),{className:w,d:GI(h,f,a,d,u),ref:n,style:HI(HI({},i),t.style)}))})};function JI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function XI(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?JI(Object(r),!0).forEach(function(t){$I(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JI(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function $I(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZI(){return ZI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ZI.apply(null,arguments)}var ej=(e,t,r,n,i)=>{var a,o=r-n;return a="M ".concat(e,",").concat(t),a+="L ".concat(e+r,",").concat(t),a+="L ".concat(e+r-o/2,",").concat(t+i),a+="L ".concat(e+r-o/2-n,",").concat(t+i),a+="L ".concat(e,",").concat(t," Z")},tj={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},rj=e=>{var t=tO(e,tj),{x:n,y:i,upperWidth:a,lowerWidth:o,height:s,className:l}=t,{animationEasing:c,animationDuration:u,animationBegin:d,isUpdateAnimationActive:h}=t,f=(0,r.useRef)(),[p,g]=(0,r.useState)(-1),m=(0,r.useRef)(a),v=(0,r.useRef)(o),y=(0,r.useRef)(s),b=(0,r.useRef)(n),_=(0,r.useRef)(i),x=qI(e,"trapezoid-");if((0,r.useEffect)(()=>{if(f.current&&f.current.getTotalLength)try{var e=f.current.getTotalLength();e&&g(e)}catch(t){}},[]),n!==+n||i!==+i||a!==+a||o!==+o||s!==+s||0===a&&0===o||0===s)return null;var w=kd("recharts-trapezoid",l);if(!h)return r.createElement("g",null,r.createElement("path",ZI({},yS(t,!0),{className:w,d:ej(n,i,a,o,s)})));var k=m.current,E=v.current,C=y.current,A=b.current,T=_.current,S="0px ".concat(-1===p?1:p,"px"),O="".concat(p,"px 0px"),P=bI(["strokeDasharray"],u,c);return r.createElement(KI,{animationId:x,key:x,canBegin:p>0,duration:u,easing:c,isActive:h,begin:d},e=>{var l=Ld(k,a,e),c=Ld(E,o,e),u=Ld(C,s,e),d=Ld(A,n,e),h=Ld(T,i,e);f.current&&(m.current=l,v.current=c,y.current=u,b.current=d,_.current=h);var p=e>0?{transition:P,strokeDasharray:O}:{strokeDasharray:S};return r.createElement("path",ZI({},yS(t,!0),{className:w,d:ej(d,h,l,c,u),ref:f,style:XI(XI({},p),t.style)}))})};function nj(){return nj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nj.apply(null,arguments)}var ij=e=>{var{cx:t,cy:r,radius:n,angle:i,sign:a,isExternal:o,cornerRadius:s,cornerIsExternal:l}=e,c=s*(o?1:-1)+n,u=Math.asin(s/c)/Xg,d=l?i:i+a*u,h=l?i-a*u:i;return{center:Zg(t,r,c,d),circleTangency:Zg(t,r,n,d),lineTangency:Zg(t,r,c*Math.cos(u*Xg),h),theta:u}},aj=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:a,endAngle:o}=e,s=((e,t)=>Sd(t-e)*Math.min(Math.abs(t-e),359.999))(a,o),l=a+s,c=Zg(t,r,i,a),u=Zg(t,r,i,l),d="M ".concat(c.x,",").concat(c.y,"\n    A ").concat(i,",").concat(i,",0,\n    ").concat(+(Math.abs(s)>180),",").concat(+(a>l),",\n    ").concat(u.x,",").concat(u.y,"\n  ");if(n>0){var h=Zg(t,r,n,a),f=Zg(t,r,n,l);d+="L ".concat(f.x,",").concat(f.y,"\n            A ").concat(n,",").concat(n,",0,\n            ").concat(+(Math.abs(s)>180),",").concat(+(a<=l),",\n            ").concat(h.x,",").concat(h.y," Z")}else d+="L ".concat(t,",").concat(r," Z");return d},oj={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},sj=e=>{var t=tO(e,oj),{cx:n,cy:i,innerRadius:a,outerRadius:o,cornerRadius:s,forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d,className:h}=t;if(o<a||u===d)return null;var f,p=kd("recharts-sector",h),g=o-a,m=Rd(s,g,0,!0);return f=m>0&&Math.abs(u-d)<360?(e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:s,startAngle:l,endAngle:c}=e,u=Sd(c-l),{circleTangency:d,lineTangency:h,theta:f}=ij({cx:t,cy:r,radius:i,angle:l,sign:u,cornerRadius:a,cornerIsExternal:s}),{circleTangency:p,lineTangency:g,theta:m}=ij({cx:t,cy:r,radius:i,angle:c,sign:-u,cornerRadius:a,cornerIsExternal:s}),v=s?Math.abs(l-c):Math.abs(l-c)-f-m;if(v<0)return o?"M ".concat(h.x,",").concat(h.y,"\n        a").concat(a,",").concat(a,",0,0,1,").concat(2*a,",0\n        a").concat(a,",").concat(a,",0,0,1,").concat(2*-a,",0\n      "):aj({cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:l,endAngle:c});var y="M ".concat(h.x,",").concat(h.y,"\n    A").concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(d.x,",").concat(d.y,"\n    A").concat(i,",").concat(i,",0,").concat(+(v>180),",").concat(+(u<0),",").concat(p.x,",").concat(p.y,"\n    A").concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(g.x,",").concat(g.y,"\n  ");if(n>0){var{circleTangency:b,lineTangency:_,theta:x}=ij({cx:t,cy:r,radius:n,angle:l,sign:u,isExternal:!0,cornerRadius:a,cornerIsExternal:s}),{circleTangency:w,lineTangency:k,theta:E}=ij({cx:t,cy:r,radius:n,angle:c,sign:-u,isExternal:!0,cornerRadius:a,cornerIsExternal:s}),C=s?Math.abs(l-c):Math.abs(l-c)-x-E;if(C<0&&0===a)return"".concat(y,"L").concat(t,",").concat(r,"Z");y+="L".concat(k.x,",").concat(k.y,"\n      A").concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(w.x,",").concat(w.y,"\n      A").concat(n,",").concat(n,",0,").concat(+(C>180),",").concat(+(u>0),",").concat(b.x,",").concat(b.y,"\n      A").concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(_.x,",").concat(_.y,"Z")}else y+="L".concat(t,",").concat(r,"Z");return y})({cx:n,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(m,g/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):aj({cx:n,cy:i,innerRadius:a,outerRadius:o,startAngle:u,endAngle:d}),r.createElement("path",nj({},yS(t,!0),{className:p,d:f}))};Math.abs,Math.atan2;const lj=Math.cos,cj=(Math.max,Math.min,Math.sin),uj=Math.sqrt,dj=Math.PI,hj=2*dj;const fj={draw(e,t){const r=uj(t/dj);e.moveTo(r,0),e.arc(0,0,r,0,hj)}},pj={draw(e,t){const r=uj(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},gj=uj(1/3),mj=2*gj,vj={draw(e,t){const r=uj(t/mj),n=r*gj;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},yj={draw(e,t){const r=uj(t),n=-r/2;e.rect(n,n,r,r)}},bj=cj(dj/10)/cj(7*dj/10),_j=cj(hj/10)*bj,xj=-lj(hj/10)*bj,wj={draw(e,t){const r=uj(.8908130915292852*t),n=_j*r,i=xj*r;e.moveTo(0,-r),e.lineTo(n,i);for(let a=1;a<5;++a){const t=hj*a/5,o=lj(t),s=cj(t);e.lineTo(s*r,-o*r),e.lineTo(o*n-s*i,s*n+o*i)}e.closePath()}},kj=uj(3),Ej={draw(e,t){const r=-uj(t/(3*kj));e.moveTo(0,2*r),e.lineTo(-kj*r,-r),e.lineTo(kj*r,-r),e.closePath()}},Cj=-.5,Aj=uj(3)/2,Tj=1/uj(12),Sj=3*(Tj/2+1),Oj={draw(e,t){const r=uj(t/Sj),n=r/2,i=r*Tj,a=n,o=r*Tj+r,s=-a,l=o;e.moveTo(n,i),e.lineTo(a,o),e.lineTo(s,l),e.lineTo(Cj*n-Aj*i,Aj*n+Cj*i),e.lineTo(Cj*a-Aj*o,Aj*a+Cj*o),e.lineTo(Cj*s-Aj*l,Aj*s+Cj*l),e.lineTo(Cj*n+Aj*i,Cj*i-Aj*n),e.lineTo(Cj*a+Aj*o,Cj*o-Aj*a),e.lineTo(Cj*s+Aj*l,Cj*l-Aj*s),e.closePath()}};uj(3),uj(3);var Pj=["type","size","sizeType"];function Ij(){return Ij=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ij.apply(null,arguments)}function jj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Mj(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?jj(Object(r),!0).forEach(function(t){Nj(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jj(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Nj(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Rj={symbolCircle:fj,symbolCross:pj,symbolDiamond:vj,symbolSquare:yj,symbolStar:wj,symbolTriangle:Ej,symbolWye:Oj},Dj=Math.PI/180,Lj=e=>{var{type:t="circle",size:n=64,sizeType:i="area"}=e,a=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,Pj),o=Mj(Mj({},a),{},{type:t,size:n,sizeType:i}),s="circle";"string"===typeof t&&(s=t);var{className:l,cx:c,cy:u}=o,d=yS(o,!0);return c===+c&&u===+u&&n===+n?r.createElement("path",Ij({},d,{className:kd("recharts-symbols",l),transform:"translate(".concat(c,", ").concat(u,")"),d:(()=>{var e=(e=>{var t="symbol".concat(zd(e));return Rj[t]||fj})(s),t=function(e,t){let r=null,n=yP(i);function i(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return e="function"===typeof e?e:Hg(e||fj),t="function"===typeof t?t:Hg(void 0===t?64:+t),i.type=function(t){return arguments.length?(e="function"===typeof t?t:Hg(t),i):e},i.size=function(e){return arguments.length?(t="function"===typeof e?e:Hg(+e),i):t},i.context=function(e){return arguments.length?(r=null==e?null:e,i):r},i}().type(e).size(((e,t,r)=>{if("area"===t)return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return.5*e*e/Math.sqrt(3);case"square":return e*e;case"star":var n=18*Dj;return 1.25*e*e*(Math.tan(n)-Math.tan(2*n)*Math.tan(n)**2);case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}})(n,i,s));return t()})()})):null};Lj.registerSymbol=(e,t)=>{Rj["symbol".concat(zd(e))]=t};var Uj=["option","shapeType","propTransformer","activeClassName","isActive"];function Bj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function zj(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Bj(Object(r),!0).forEach(function(t){Kj(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bj(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Kj(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qj(e,t){return zj(zj({},t),e)}function Fj(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return r.createElement(QI,n);case"trapezoid":return r.createElement(rj,n);case"sector":return r.createElement(sj,n);case"symbols":if(function(e){return"symbols"===e}(t))return r.createElement(Lj,n);break;default:return null}}function Hj(e){var t,{option:n,shapeType:i,propTransformer:a=qj,activeClassName:o="recharts-active-shape",isActive:s}=e,l=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,Uj);if((0,r.isValidElement)(n))t=(0,r.cloneElement)(n,zj(zj({},l),function(e){return(0,r.isValidElement)(e)?e.props:e}(n)));else if("function"===typeof n)t=n(l);else if(pI()(n)&&"boolean"!==typeof n){var c=a(n,l);t=r.createElement(Fj,{shapeType:i,elementProps:c})}else{var u=l;t=r.createElement(Fj,{shapeType:i,elementProps:u})}return s?r.createElement(WO,{className:o},t):t}var Wj=(e,t)=>{var r=Mg();return(n,i)=>a=>{null===e||void 0===e||e(n,i,a),r(tg({activeIndex:String(i),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}},Vj=e=>{var t=Mg();return(r,n)=>i=>{null===e||void 0===e||e(r,n,i),t(rg())}},Gj=(e,t)=>{var r=Mg();return(n,i)=>a=>{null===e||void 0===e||e(n,i,a),r(ig({activeIndex:String(i),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}};function Yj(e){var{fn:t,args:n}=e,i=Mg(),a=Bm();return(0,r.useEffect)(()=>{if(!a){var e=t(n);return i($p(e)),()=>{i(Zp(e))}}},[t,n,i,a]),null}var Qj,Jj=()=>{};function Xj(e){var{legendPayload:t}=e,n=Mg(),i=Bm();return(0,r.useEffect)(()=>i?Jj:(n(_T(t)),()=>{n(xT(t))}),[n,i,t]),null}function $j(e){var{legendPayload:t}=e,n=Mg(),i=Lg(Gm);return(0,r.useEffect)(()=>"centric"!==i&&"radial"!==i?Jj:(n(_T(t)),()=>{n(xT(t))}),[n,i,t]),null}var Zj=null!==(Qj=n["useId".toString()])&&void 0!==Qj?Qj:()=>{var[e]=r.useState(()=>Nd("uid-"));return e};var eM=(0,r.createContext)(void 0),tM=e=>{var{id:t,type:n,children:i}=e,a=function(e,t){var r=Zj();return t||(e?"".concat(e,"-").concat(r):r)}("recharts-".concat(n),t);return r.createElement(eM.Provider,{value:a},i(a))};function rM(e){var t=Mg(),n=(0,r.useRef)(null);return(0,r.useEffect)(()=>{null===n.current?t(ZA(e)):n.current!==e&&t(eT({prev:n.current,next:e})),n.current=e},[t,e]),(0,r.useEffect)(()=>()=>{n.current&&(t(tT(n.current)),n.current=null)},[t]),null}function nM(e){var t=Mg();return(0,r.useEffect)(()=>(t(rT(e)),()=>{t(nT(e))}),[t,e]),null}var iM=__webpack_require__(892),aM=__webpack_require__.n(iM),oM=["labelRef"];function sM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function lM(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?sM(Object(r),!0).forEach(function(t){cM(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sM(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function cM(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uM(){return uM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uM.apply(null,arguments)}var dM=(0,r.createContext)(null),hM=e=>{var{x:t,y:n,width:i,height:a,children:o}=e,s=(0,r.useMemo)(()=>({x:t,y:n,width:i,height:a}),[t,n,i,a]);return r.createElement(dM.Provider,{value:s},o)},fM=()=>{var e=(0,r.useContext)(dM),t=qm();return e||t},pM=(0,r.createContext)(null),gM=()=>{var e=(0,r.useContext)(pM),t=Lg(sk);return e||t},mM=e=>null!=e&&"function"===typeof e,vM=(e,t,n,i,a)=>{var o,s,{offset:l,className:c}=e,{cx:u,cy:d,innerRadius:h,outerRadius:f,startAngle:p,endAngle:g,clockWise:m}=a,v=(h+f)/2,y=((e,t)=>Sd(t-e)*Math.min(Math.abs(t-e),360))(p,g),b=y>=0?1:-1;switch(t){case"insideStart":o=p+b*l,s=m;break;case"insideEnd":o=g-b*l,s=!m;break;case"end":o=g+b*l,s=m;break;default:throw new Error("Unsupported position ".concat(t))}s=y<=0?s:!s;var _=Zg(u,d,v,o),x=Zg(u,d,v,o+359*(s?1:-1)),w="M".concat(_.x,",").concat(_.y,"\n    A").concat(v,",").concat(v,",0,1,").concat(s?0:1,",\n    ").concat(x.x,",").concat(x.y),k=Bd(e.id)?Nd("recharts-radial-line-"):e.id;return r.createElement("text",uM({},i,{dominantBaseline:"central",className:kd("recharts-radial-bar-label",c)}),r.createElement("defs",null,r.createElement("path",{id:k,d:w})),r.createElement("textPath",{xlinkHref:"#".concat(k)},n))},yM=e=>"cx"in e&&Id(e.cx),bM={offset:5};function _M(e){var t=tO(e,bM),{viewBox:n,position:i,value:a,children:o,content:s,className:l="",textBreakAll:c,labelRef:u}=t,d=gM(),h=fM(),f=n||("center"===i?h:null!==d&&void 0!==d?d:h);if(!f||Bd(a)&&Bd(o)&&!(0,r.isValidElement)(s)&&"function"!==typeof s)return null;var p,g=lM(lM({},t),{},{viewBox:f});if((0,r.isValidElement)(s)){var{labelRef:m}=g,v=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(g,oM);return(0,r.cloneElement)(s,v)}if("function"===typeof s){if(p=(0,r.createElement)(s,g),(0,r.isValidElement)(p))return p}else p=(e=>{var{value:t,formatter:r}=e,n=Bd(e.children)?t:e.children;return"function"===typeof r?r(n):n})(t);var y=yM(f),b=yS(t,!0);if(y&&("insideStart"===i||"insideEnd"===i||"end"===i))return vM(t,i,p,b,f);var _=y?((e,t,r)=>{var{cx:n,cy:i,innerRadius:a,outerRadius:o,startAngle:s,endAngle:l}=e,c=(s+l)/2;if("outside"===r){var{x:u,y:d}=Zg(n,i,o+t,c);return{x:u,y:d,textAnchor:u>=n?"start":"end",verticalAnchor:"middle"}}if("center"===r)return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===r)return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===r)return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var h=(a+o)/2,{x:f,y:p}=Zg(n,i,h,c);return{x:f,y:p,textAnchor:"middle",verticalAnchor:"middle"}})(f,t.offset,t.position):((e,t)=>{var r,{parentViewBox:n,offset:i,position:a}=e;null==n||yM(n)||(r=n);var{x:o,y:s,width:l,height:c}=t,u=c>=0?1:-1,d=u*i,h=u>0?"end":"start",f=u>0?"start":"end",p=l>=0?1:-1,g=p*i,m=p>0?"end":"start",v=p>0?"start":"end";if("top"===a)return lM(lM({},{x:o+l/2,y:s-u*i,textAnchor:"middle",verticalAnchor:h}),r?{height:Math.max(s-r.y,0),width:l}:{});if("bottom"===a)return lM(lM({},{x:o+l/2,y:s+c+d,textAnchor:"middle",verticalAnchor:f}),r?{height:Math.max(r.y+r.height-(s+c),0),width:l}:{});if("left"===a){var y={x:o-g,y:s+c/2,textAnchor:m,verticalAnchor:"middle"};return lM(lM({},y),r?{width:Math.max(y.x-r.x,0),height:c}:{})}if("right"===a){var b={x:o+l+g,y:s+c/2,textAnchor:v,verticalAnchor:"middle"};return lM(lM({},b),r?{width:Math.max(r.x+r.width-b.x,0),height:c}:{})}var _=r?{width:l,height:c}:{};return"insideLeft"===a?lM({x:o+g,y:s+c/2,textAnchor:v,verticalAnchor:"middle"},_):"insideRight"===a?lM({x:o+l-g,y:s+c/2,textAnchor:m,verticalAnchor:"middle"},_):"insideTop"===a?lM({x:o+l/2,y:s+d,textAnchor:"middle",verticalAnchor:f},_):"insideBottom"===a?lM({x:o+l/2,y:s+c-d,textAnchor:"middle",verticalAnchor:h},_):"insideTopLeft"===a?lM({x:o+g,y:s+d,textAnchor:v,verticalAnchor:f},_):"insideTopRight"===a?lM({x:o+l-g,y:s+d,textAnchor:m,verticalAnchor:f},_):"insideBottomLeft"===a?lM({x:o+g,y:s+c-d,textAnchor:v,verticalAnchor:h},_):"insideBottomRight"===a?lM({x:o+l-g,y:s+c-d,textAnchor:m,verticalAnchor:h},_):a&&"object"===typeof a&&(Id(a.x)||Pd(a.x))&&(Id(a.y)||Pd(a.y))?lM({x:o+Rd(a.x,l),y:s+Rd(a.y,c),textAnchor:"end",verticalAnchor:"end"},_):lM({x:o+l/2,y:s+c/2,textAnchor:"middle",verticalAnchor:"middle"},_)})(t,f);return r.createElement(dI,uM({ref:u,className:kd("recharts-label",l)},b,_,{breakAll:c}),p)}_M.displayName="Label";var xM=(e,t,n)=>{if(!e)return null;var i={viewBox:t,labelRef:n};return!0===e?r.createElement(_M,uM({key:"label-implicit"},i)):jd(e)?r.createElement(_M,uM({key:"label-implicit",value:e},i)):(0,r.isValidElement)(e)?e.type===_M?(0,r.cloneElement)(e,lM({key:"label-implicit"},i)):r.createElement(_M,uM({key:"label-implicit",content:e},i)):mM(e)?r.createElement(_M,uM({key:"label-implicit",content:e},i)):e&&"object"===typeof e?r.createElement(_M,uM({},e,{key:"label-implicit"},i)):null};function wM(e){var{label:t}=e,r=fM();return xM(t,r)||null}var kM=["valueAccessor"],EM=["dataKey","clockWise","id","textBreakAll"];function CM(){return CM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},CM.apply(null,arguments)}function AM(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var TM=e=>Array.isArray(e.value)?aM()(e.value):e.value,SM=(0,r.createContext)(void 0),OM=SM.Provider,PM=(0,r.createContext)(void 0),IM=PM.Provider;function jM(e){var{valueAccessor:t=TM}=e,n=AM(e,kM),{dataKey:i,clockWise:a,id:o,textBreakAll:s}=n,l=AM(n,EM),c=(0,r.useContext)(SM),u=(0,r.useContext)(PM),d=c||u;return d&&d.length?r.createElement(WO,{className:"recharts-label-list"},d.map((e,a)=>{var c,u=Bd(i)?t(e,a):lm(e&&e.payload,i),d=Bd(o)?{}:{id:"".concat(o,"-").concat(a)};return r.createElement(_M,CM({},yS(e,!0),l,d,{fill:null!==(c=n.fill)&&void 0!==c?c:e.fill,parentViewBox:e.parentViewBox,value:u,textBreakAll:s,viewBox:e.viewBox,key:"label-".concat(a),index:a}))})):null}function MM(e){var{label:t}=e;return t?!0===t?r.createElement(jM,{key:"labelList-implicit"}):r.isValidElement(t)||mM(t)?r.createElement(jM,{key:"labelList-implicit",content:t}):"object"===typeof t?r.createElement(jM,CM({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}jM.displayName="LabelList";var NM=["onMouseEnter","onClick","onMouseLeave"],RM=["id"],DM=["id"];function LM(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function UM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function BM(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?UM(Object(r),!0).forEach(function(t){zM(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UM(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function zM(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KM(){return KM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},KM.apply(null,arguments)}function qM(e){var t=(0,r.useMemo)(()=>mS(e.children,hI),[e.children]),n=Lg(r=>TO(r,e.id,t));return null==n?null:r.createElement($j,{legendPayload:n})}function FM(e){var{dataKey:t,nameKey:r,sectors:n,stroke:i,strokeWidth:a,fill:o,name:s,hide:l,tooltipType:c}=e;return{dataDefinedOnItem:n.map(e=>e.tooltipPayload),positions:n.map(e=>e.tooltipPosition),settings:{stroke:i,strokeWidth:a,fill:o,dataKey:t,nameKey:r,name:km(s,t),hide:l,type:c,color:o,unit:""}}}var HM=(e,t,r)=>{var{top:n,left:i,width:a,height:o}=t,s=em(a,o),l=i+Rd(e.cx,a,a/2),c=n+Rd(e.cy,o,o/2),u=Rd(e.innerRadius,s,0),d=((e,t,r)=>Rd("function"===typeof t?t(e):t,r,.8*r))(r,e.outerRadius,s);return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:e.maxRadius||Math.sqrt(a*a+o*o)/2}},WM=(e,t)=>Sd(t-e)*Math.min(Math.abs(t-e),360);function VM(e){var{sectors:t,props:n,showLabels:i}=e,{label:a,labelLine:o,dataKey:s}=n;if(!i||!a||!t)return null;var l=dS(n),c=yS(a,!1),u=yS(o,!1),d="object"===typeof a&&"offsetRadius"in a&&"number"===typeof a.offsetRadius&&a.offsetRadius||20,h=t.map((e,t)=>{var n,i,h=(e.startAngle+e.endAngle)/2,f=Zg(e.cx,e.cy,e.outerRadius+d,h),p=BM(BM(BM(BM({},l),e),{},{stroke:"none"},c),{},{index:t,textAnchor:(n=f.x,i=e.cx,n>i?"start":n<i?"end":"middle")},f),g=BM(BM(BM(BM({},l),e),{},{fill:"none",stroke:e.fill},u),{},{index:t,points:[Zg(e.cx,e.cy,e.outerRadius,h),f],key:"line"});return r.createElement(WO,{key:"label-".concat(e.startAngle,"-").concat(e.endAngle,"-").concat(e.midAngle,"-").concat(t)},o&&((e,t)=>{if(r.isValidElement(e))return r.cloneElement(e,t);if("function"===typeof e)return e(t);var n=kd("recharts-pie-label-line","boolean"!==typeof e?e.className:"");return r.createElement(jP,KM({},t,{type:"linear",className:n}))})(o,g),((e,t,n)=>{if(r.isValidElement(e))return r.cloneElement(e,t);var i=n;if("function"===typeof e&&(i=e(t),r.isValidElement(i)))return i;var a,o=kd("recharts-pie-label-text",(a=e)&&"object"===typeof a&&"className"in a&&"string"===typeof a.className?a.className:"");return r.createElement(dI,KM({},t,{alignmentBaseline:"middle",className:o}),i)})(a,p,lm(e,s)))});return r.createElement(WO,{className:"recharts-pie-labels"},h)}function GM(e){var{sectors:t,props:n,showLabels:i}=e,{label:a}=n;return"object"===typeof a&&null!=a&&"position"in a?r.createElement(MM,{label:n.label}):r.createElement(VM,{sectors:t,props:n,showLabels:i})}function YM(e){var{sectors:t,activeShape:n,inactiveShape:i,allOtherPieProps:a}=e,o=Lg(dA),{onMouseEnter:s,onClick:l,onMouseLeave:c}=a,u=LM(a,NM),d=Wj(s,a.dataKey),h=Vj(c),f=Gj(l,a.dataKey);return null==t||0===t.length?null:r.createElement(r.Fragment,null,t.map((e,s)=>{if(0===(null===e||void 0===e?void 0:e.startAngle)&&0===(null===e||void 0===e?void 0:e.endAngle)&&1!==t.length)return null;var l=n&&String(s)===o,c=l?n:o?i:null,p=BM(BM({},e),{},{stroke:e.stroke,tabIndex:-1,[Pm]:s,[Im]:a.dataKey});return r.createElement(WO,KM({tabIndex:-1,className:"recharts-pie-sector"},lS(u,e,s),{onMouseEnter:d(e,s),onMouseLeave:h(e,s),onClick:f(e,s),key:"sector-".concat(null===e||void 0===e?void 0:e.startAngle,"-").concat(null===e||void 0===e?void 0:e.endAngle,"-").concat(e.midAngle,"-").concat(s)}),r.createElement(Hj,KM({option:c,isActive:l,shapeType:"sector"},p)))}))}function QM(e){var{showLabels:t,sectors:n,children:i}=e,a=(0,r.useMemo)(()=>t&&n?n.map(e=>({value:e.value,payload:e.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:e.cx,cy:e.cy,innerRadius:e.innerRadius,outerRadius:e.outerRadius,startAngle:e.startAngle,endAngle:e.endAngle,clockWise:!1},fill:e.fill})):[],[n,t]);return r.createElement(IM,{value:t?a:void 0},i)}function JM(e){var{props:t,previousSectorsRef:n}=e,{sectors:i,isAnimationActive:a,animationBegin:o,animationDuration:s,animationEasing:l,activeShape:c,inactiveShape:u,onAnimationStart:d,onAnimationEnd:h}=t,f=qI(t,"recharts-pie-"),p=n.current,[g,m]=(0,r.useState)(!1),v=(0,r.useCallback)(()=>{"function"===typeof h&&h(),m(!1)},[h]),y=(0,r.useCallback)(()=>{"function"===typeof d&&d(),m(!0)},[d]);return r.createElement(QM,{showLabels:!g,sectors:i},r.createElement(KI,{animationId:f,begin:o,duration:s,isActive:a,easing:l,onAnimationStart:y,onAnimationEnd:v,key:f},e=>{var a=[],o=i&&i[0],s=null===o||void 0===o?void 0:o.startAngle;return null===i||void 0===i||i.forEach((t,r)=>{var n=p&&p[r],i=r>0?Td()(t,"paddingAngle",0):0;if(n){var o=Ld(n.endAngle-n.startAngle,t.endAngle-t.startAngle,e),l=BM(BM({},t),{},{startAngle:s+i,endAngle:s+o+i});a.push(l),s=l.endAngle}else{var{endAngle:c,startAngle:u}=t,d=Ld(0,c-u,e),h=BM(BM({},t),{},{startAngle:s+i,endAngle:s+d+i});a.push(h),s=h.endAngle}}),n.current=a,r.createElement(WO,null,r.createElement(YM,{sectors:a,activeShape:c,inactiveShape:u,allOtherPieProps:t}))}),r.createElement(GM,{showLabels:!g,sectors:i,props:t}),t.children)}var XM={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!MP,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function $M(e){var{id:t}=e,n=LM(e,RM),{hide:i,className:a,rootTabIndex:o}=e,s=(0,r.useMemo)(()=>mS(e.children,hI),[e.children]),l=Lg(e=>SO(e,t,s)),c=(0,r.useRef)(null),u=kd("recharts-pie",a);return i||null==l?(c.current=null,r.createElement(WO,{tabIndex:o,className:u})):r.createElement(r.Fragment,null,r.createElement(Yj,{fn:FM,args:BM(BM({},e),{},{sectors:l})}),r.createElement(WO,{tabIndex:o,className:u},r.createElement(JM,{props:BM(BM({},n),{},{sectors:l}),previousSectorsRef:c})))}function ZM(e){var t=tO(e,XM),{id:n}=t,i=LM(t,DM),a=dS(i);return r.createElement(tM,{id:n,type:"pie"},e=>r.createElement(r.Fragment,null,r.createElement(nM,{type:"pie",id:e,data:i.data,dataKey:i.dataKey,hide:i.hide,angleAxisId:0,radiusAxisId:0,name:i.name,nameKey:i.nameKey,tooltipType:i.tooltipType,legendType:i.legendType,fill:i.fill,cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,paddingAngle:i.paddingAngle,minAngle:i.minAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius,cornerRadius:i.cornerRadius,presentationProps:a}),r.createElement(qM,KM({},i,{id:e})),r.createElement($M,KM({},i,{id:e}))))}function eN(){return eN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},eN.apply(null,arguments)}function tN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function rN(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tN(Object(r),!0).forEach(function(t){nN(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tN(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function nN(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iN(e){return Array.isArray(e)&&jd(e[0])&&jd(e[1])?e.join(" ~ "):e}ZM.displayName="Pie";var aN=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:i={},labelStyle:a={},payload:o,formatter:s,itemSorter:l,wrapperClassName:c,labelClassName:u,label:d,labelFormatter:h,accessibilityLayer:f=!1}=e,p=rN({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),g=rN({margin:0},a),m=!Bd(d),v=m?d:"",y=kd("recharts-default-tooltip",c),b=kd("recharts-tooltip-label",u);m&&h&&void 0!==o&&null!==o&&(v=h(d,o));var _=f?{role:"status","aria-live":"assertive"}:{};return r.createElement("div",eN({className:y,style:p},_),r.createElement("p",{className:b,style:g},r.isValidElement(v)?v:"".concat(v)),(()=>{if(o&&o.length){var e=(l?Bg()(o,l):o).map((e,n)=>{if("none"===e.type)return null;var a=e.formatter||s||iN,{value:l,name:c}=e,u=l,d=c;if(a){var h=a(l,c,e,n,o);if(Array.isArray(h))[u,d]=h;else{if(null==h)return null;u=h}}var f=rN({display:"block",paddingTop:4,paddingBottom:4,color:e.color||"#000"},i);return r.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(n),style:f},jd(d)?r.createElement("span",{className:"recharts-tooltip-item-name"},d):null,jd(d)?r.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,r.createElement("span",{className:"recharts-tooltip-item-value"},u),r.createElement("span",{className:"recharts-tooltip-item-unit"},e.unit||""))});return r.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},e)}return null})())},oN="recharts-tooltip-wrapper",sN={visibility:"hidden"};function lN(e){var{coordinate:t,translateX:r,translateY:n}=e;return kd(oN,{["".concat(oN,"-right")]:Id(r)&&t&&Id(t.x)&&r>=t.x,["".concat(oN,"-left")]:Id(r)&&t&&Id(t.x)&&r<t.x,["".concat(oN,"-bottom")]:Id(n)&&t&&Id(t.y)&&n>=t.y,["".concat(oN,"-top")]:Id(n)&&t&&Id(t.y)&&n<t.y})}function cN(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:i,position:a,reverseDirection:o,tooltipDimension:s,viewBox:l,viewBoxDimension:c}=e;if(a&&Id(a[n]))return a[n];var u=r[n]-s-(i>0?i:0),d=r[n]+i;if(t[n])return o[n]?u:d;var h=l[n];return null==h?0:o[n]?u<h?Math.max(d,h):Math.max(u,h):null==c?0:d+s>h+c?Math.max(u,h):Math.max(d,h)}function uN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function dN(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?uN(Object(r),!0).forEach(function(t){hN(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uN(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function hN(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class fN extends r.PureComponent{constructor(){super(...arguments),hN(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),hN(this,"handleKeyDown",e=>{var t,r,n,i;"Escape"===e.key&&this.setState({dismissed:!0,dismissedAtCoordinate:{x:null!==(t=null===(r=this.props.coordinate)||void 0===r?void 0:r.x)&&void 0!==t?t:0,y:null!==(n=null===(i=this.props.coordinate)||void 0===i?void 0:i.y)&&void 0!==n?n:0}})})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,t;this.state.dismissed&&((null===(e=this.props.coordinate)||void 0===e?void 0:e.x)===this.state.dismissedAtCoordinate.x&&(null===(t=this.props.coordinate)||void 0===t?void 0:t.y)===this.state.dismissedAtCoordinate.y||(this.state.dismissed=!1))}render(){var{active:e,allowEscapeViewBox:t,animationDuration:n,animationEasing:i,children:a,coordinate:o,hasPayload:s,isAnimationActive:l,offset:c,position:u,reverseDirection:d,useTranslate3d:h,viewBox:f,wrapperStyle:p,lastBoundingBox:g,innerRef:m,hasPortalFromProps:v}=this.props,{cssClasses:y,cssProperties:b}=function(e){var t,r,n,{allowEscapeViewBox:i,coordinate:a,offsetTopLeft:o,position:s,reverseDirection:l,tooltipBox:c,useTranslate3d:u,viewBox:d}=e;return t=c.height>0&&c.width>0&&a?function(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}({translateX:r=cN({allowEscapeViewBox:i,coordinate:a,key:"x",offsetTopLeft:o,position:s,reverseDirection:l,tooltipDimension:c.width,viewBox:d,viewBoxDimension:d.width}),translateY:n=cN({allowEscapeViewBox:i,coordinate:a,key:"y",offsetTopLeft:o,position:s,reverseDirection:l,tooltipDimension:c.height,viewBox:d,viewBoxDimension:d.height}),useTranslate3d:u}):sN,{cssProperties:t,cssClasses:lN({translateX:r,translateY:n,coordinate:a})}}({allowEscapeViewBox:t,coordinate:o,offsetTopLeft:c,position:u,reverseDirection:d,tooltipBox:{height:g.height,width:g.width},useTranslate3d:h,viewBox:f}),_=v?{}:dN(dN({transition:l&&e?"transform ".concat(n,"ms ").concat(i):void 0},b),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&s?"visible":"hidden",position:"absolute",top:0,left:0}),x=dN(dN({},_),{},{visibility:!this.state.dismissed&&e&&s?"visible":"hidden"},p);return r.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:y,style:x,ref:m},a)}}var pN=__webpack_require__(292),gN=__webpack_require__.n(pN);function mN(e,t,r){return!0===t?gN()(e,r):"function"===typeof t?gN()(e,t):e}function vN(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],[t,n]=(0,r.useState)({height:0,left:0,top:0,width:0}),i=(0,r.useCallback)(e=>{if(null!=e){var r=e.getBoundingClientRect(),i={height:r.height,left:r.left,top:r.top,width:r.width};(Math.abs(i.height-t.height)>1||Math.abs(i.left-t.left)>1||Math.abs(i.top-t.top)>1||Math.abs(i.width-t.width)>1)&&n({height:i.height,left:i.left,top:i.top,width:i.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,i]}var yN=["x","y","top","left","width","height","className"];function bN(){return bN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bN.apply(null,arguments)}function _N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function xN(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var wN=(e,t,r,n,i,a)=>"M".concat(e,",").concat(i,"v").concat(n,"M").concat(a,",").concat(t,"h").concat(r),kN=e=>{var{x:t=0,y:n=0,top:i=0,left:a=0,width:o=0,height:s=0,className:l}=e,c=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,yN),u=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_N(Object(r),!0).forEach(function(t){xN(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_N(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({x:t,y:n,top:i,left:a,width:o,height:s},c);return Id(t)&&Id(n)&&Id(o)&&Id(s)&&Id(i)&&Id(a)?r.createElement("path",bN({},yS(u,!0),{className:kd("recharts-cross",l),d:wN(t,n,o,s,i,a)})):null};function EN(e){var{cx:t,cy:r,radius:n,startAngle:i,endAngle:a}=e;return{points:[Zg(t,r,n,i),Zg(t,r,n,a)],cx:t,cy:r,radius:n,startAngle:i,endAngle:a}}function CN(e,t,r){var n,i,a,o;if("horizontal"===e)a=n=t.x,i=r.top,o=r.top+r.height;else if("vertical"===e)o=i=t.y,n=r.left,a=r.left+r.width;else if(null!=t.cx&&null!=t.cy){if("centric"!==e)return EN(t);var{cx:s,cy:l,innerRadius:c,outerRadius:u,angle:d}=t,h=Zg(s,l,c,d),f=Zg(s,l,u,d);n=h.x,i=h.y,a=f.x,o=f.y}return[{x:n,y:i},{x:a,y:o}]}function AN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function TN(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?AN(Object(r),!0).forEach(function(t){SN(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AN(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function SN(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ON=()=>{var e=Lg(fk),t=Lg(oA),r=Lg(nA);return xm(TN(TN({},e),{},{scale:r}),t)};function PN(){return PN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},PN.apply(null,arguments)}function IN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function jN(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?IN(Object(r),!0).forEach(function(t){MN(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IN(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function MN(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NN(e){var t,n,{coordinate:i,payload:a,index:o,offset:s,tooltipAxisBandSize:l,layout:c,cursor:u,tooltipEventType:d,chartName:h}=e,f=i,p=a,g=o;if(!u||!f||"ScatterChart"!==h&&"axis"!==d)return null;if("ScatterChart"===h)t=f,n=kN;else if("BarChart"===h)t=function(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:"horizontal"===e?t.x-i:r.left+.5,y:"horizontal"===e?r.top+.5:t.y-i,width:"horizontal"===e?n:r.width-1,height:"horizontal"===e?r.height-1:n}}(c,f,s,l),n=QI;else if("radial"===c){var{cx:m,cy:v,radius:y,startAngle:b,endAngle:_}=EN(f);t={cx:m,cy:v,startAngle:b,endAngle:_,innerRadius:y,outerRadius:y},n=sj}else t={points:CN(c,f,s)},n=jP;var x="object"===typeof u&&"className"in u?u.className:void 0,w=jN(jN(jN(jN({stroke:"#ccc",pointerEvents:"none"},s),t),yS(u,!1)),{},{payload:p,payloadIndex:g,className:kd("recharts-tooltip-cursor",x)});return(0,r.isValidElement)(u)?(0,r.cloneElement)(u,w):(0,r.createElement)(n,w)}function RN(e){var t=ON(),n=Hm(),i=Ym(),a=_A();return r.createElement(NN,PN({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:n,layout:i,tooltipAxisBandSize:t,chartName:a}))}function DN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function LN(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?DN(Object(r),!0).forEach(function(t){UN(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DN(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function UN(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BN(e){return e.dataKey}var zN=[],KN={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!MP,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function qN(e){var t=tO(e,KN),{active:n,allowEscapeViewBox:i,animationDuration:o,animationEasing:s,content:l,filterNull:c,isAnimationActive:u,offset:d,payloadUniqBy:h,position:f,reverseDirection:p,useTranslate3d:g,wrapperStyle:m,cursor:v,shared:y,trigger:b,defaultIndex:_,portal:x,axisId:w}=t,k=Mg(),E="number"===typeof _?String(_):_;(0,r.useEffect)(()=>{k(eg({shared:y,trigger:b,axisId:w,active:n,defaultIndex:E}))},[k,y,b,w,n,E]);var C=qm(),A=tS(),T=function(e){return Lg(t=>pC(t,e))}(y),{activeIndex:S,isActive:O}=Lg(e=>jA(e,T,b,E)),P=Lg(e=>IA(e,T,b,E)),I=Lg(e=>PA(e,T,b,E)),j=Lg(e=>OA(e,T,b,E)),M=P,N=(0,r.useContext)(zS),R=null!==n&&void 0!==n?n:O,[D,L]=vN([M,R]),U="axis"===T?I:void 0;BS(T,b,j,U,S,R);var B=null!==x&&void 0!==x?x:N;if(null==B)return null;var z=null!==M&&void 0!==M?M:zN;R||(z=zN),c&&z.length&&(z=mN(M.filter(e=>null!=e.value&&(!0!==e.hide||t.includeHidden)),h,BN));var K=z.length>0,q=r.createElement(fN,{allowEscapeViewBox:i,animationDuration:o,animationEasing:s,isAnimationActive:u,active:R,coordinate:j,hasPayload:K,offset:d,position:f,reverseDirection:p,useTranslate3d:g,viewBox:C,wrapperStyle:m,lastBoundingBox:D,innerRef:L,hasPortalFromProps:Boolean(x)},function(e,t){return r.isValidElement(e)?r.cloneElement(e,t):"function"===typeof e?r.createElement(e,t):r.createElement(aN,t)}(l,LN(LN({},t),{},{payload:z,label:U,active:R,coordinate:j,accessibilityLayer:A})));return r.createElement(r.Fragment,null,(0,a.createPortal)(q,B),R&&r.createElement(RN,{cursor:v,tooltipEventType:T,coordinate:j,payload:M,index:S}))}function FN(){return FN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},FN.apply(null,arguments)}function HN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function WN(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var VN=32;class GN extends r.PureComponent{renderIcon(e,t){var{inactiveColor:n}=this.props,i=16,a=VN/6,o=VN/3,s=e.inactive?n:e.color,l=null!==t&&void 0!==t?t:e.type;if("none"===l)return null;if("plainline"===l)return r.createElement("line",{strokeWidth:4,fill:"none",stroke:s,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:i,x2:VN,y2:i,className:"recharts-legend-icon"});if("line"===l)return r.createElement("path",{strokeWidth:4,fill:"none",stroke:s,d:"M0,".concat(i,"h").concat(o,"\n            A").concat(a,",").concat(a,",0,1,1,").concat(2*o,",").concat(i,"\n            H").concat(VN,"M").concat(2*o,",").concat(i,"\n            A").concat(a,",").concat(a,",0,1,1,").concat(o,",").concat(i),className:"recharts-legend-icon"});if("rect"===l)return r.createElement("path",{stroke:"none",fill:s,d:"M0,".concat(4,"h").concat(VN,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(r.isValidElement(e.legendIcon)){var c=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?HN(Object(r),!0).forEach(function(t){WN(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HN(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},e);return delete c.legendIcon,r.cloneElement(e.legendIcon,c)}return r.createElement(Lj,{fill:s,cx:i,cy:i,size:VN,sizeType:"diameter",type:l})}renderItems(){var{payload:e,iconSize:t,layout:n,formatter:i,inactiveColor:a,iconType:o}=this.props,s={x:0,y:0,width:VN,height:VN},l={display:"horizontal"===n?"inline-block":"block",marginRight:10},c={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((e,n)=>{var u=e.formatter||i,d=kd({"recharts-legend-item":!0,["legend-item-".concat(n)]:!0,inactive:e.inactive});if("none"===e.type)return null;var h=e.inactive?a:e.color,f=u?u(e.value,e,n):e.value;return r.createElement("li",FN({className:d,style:l,key:"legend-item-".concat(n)},lS(this.props,e,n)),r.createElement(xS,{width:t,height:t,viewBox:s,style:c,"aria-label":"".concat(f," legend icon")},this.renderIcon(e,o)),r.createElement("span",{className:"recharts-legend-item-text",style:{color:h}},f))})}render(){var{payload:e,layout:t,align:n}=this.props;if(!e||!e.length)return null;var i={padding:0,margin:0,textAlign:"horizontal"===t?n:"left"};return r.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}WN(GN,"displayName","Legend"),WN(GN,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var YN=["contextPayload"];function QN(){return QN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},QN.apply(null,arguments)}function JN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function XN(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?JN(Object(r),!0).forEach(function(t){$N(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JN(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function $N(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZN(e){return e.value}function eR(e){var{contextPayload:t}=e,n=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,YN),i=mN(t,e.payloadUniqBy,ZN),a=XN(XN({},n),{},{payload:i});return r.isValidElement(e.content)?r.cloneElement(e.content,a):"function"===typeof e.content?r.createElement(e.content,a):r.createElement(GN,a)}function tR(e){var t=Mg();return(0,r.useEffect)(()=>{t(bT(e))},[t,e]),null}function rR(e){var t=Mg();return(0,r.useEffect)(()=>(t(yT(e)),()=>{t(yT({width:0,height:0}))}),[t,e]),null}function nR(e){var t=Lg(Kg),n=(0,r.useContext)(KS),i=Lg(e=>e.layout.margin),{width:o,height:s,wrapperStyle:l,portal:c}=e,[u,d]=vN([t]),h=Wm(),f=Vm();if(null==h||null==f)return null;var p=h-(i.left||0)-(i.right||0),g=iR.getWidthOrHeight(e.layout,s,o,p),m=c?l:XN(XN({position:"absolute",width:(null===g||void 0===g?void 0:g.width)||o||"auto",height:(null===g||void 0===g?void 0:g.height)||s||"auto"},function(e,t,r,n,i,a){var o,s,{layout:l,align:c,verticalAlign:u}=t;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(o="center"===c&&"vertical"===l?{left:((n||0)-a.width)/2}:"right"===c?{right:r&&r.right||0}:{left:r&&r.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(s="middle"===u?{top:((i||0)-a.height)/2}:"bottom"===u?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),XN(XN({},o),s)}(l,e,i,h,f,u)),l),v=null!==c&&void 0!==c?c:n;if(null==v)return null;var y=r.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:d},r.createElement(tR,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),r.createElement(rR,{width:u.width,height:u.height}),r.createElement(eR,QN({},e,g,{margin:i,chartWidth:h,chartHeight:f,contextPayload:t})));return(0,a.createPortal)(y,v)}class iR extends r.PureComponent{static getWidthOrHeight(e,t,r,n){return"vertical"===e&&Id(t)?{height:t}:"horizontal"===e?{width:r||n}:null}render(){return r.createElement(nR,this.props)}}$N(iR,"displayName","Legend"),$N(iR,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});var aR=["width","height"];function oR(){return oR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oR.apply(null,arguments)}var sR={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},lR=(0,r.forwardRef)(function(e,t){var n,i=tO(e.categoricalChartProps,sR),{width:a,height:o}=i,s=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(i,aR);if(!cw(a)||!cw(o))return null;var{chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,categoricalChartProps:h}=e,f={chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,eventEmitter:void 0};return r.createElement(JT,{preloadedState:{options:f},reduxStoreName:null!==(n=h.id)&&void 0!==n?n:l},r.createElement(XT,{chartData:h.data}),r.createElement($T,{width:a,height:o,layout:i.layout,margin:i.margin}),r.createElement(ZT,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),r.createElement($S,oR({},s,{width:a,height:o,ref:t})))}),cR=["axis","item"],uR=(0,r.forwardRef)((e,t)=>r.createElement(lR,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:cR,tooltipPayloadSearcher:Gf,categoricalChartProps:e,ref:t}));function dR(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class hR{static create(e){return new hR(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:t,position:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0!==e){if(r)switch(r){case"start":default:return this.scale(e);case"middle":var n=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+n;case"end":var i=this.bandwidth?this.bandwidth():0;return this.scale(e)+i}if(t){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}return this.scale(e)}}isInRange(e){var t=this.range(),r=t[0],n=t[t.length-1];return r<=n?e>=r&&e<=n:e>=n&&e<=r}}dR(hR,"EPS",1e-4);function fR(e,t,r){if(t<1)return[];if(1===t&&void 0===r)return e;for(var n=[],i=0;i<e.length;i+=t){if(void 0!==r&&!0!==r(e[i]))return;n.push(e[i])}return n}function pR(e,t,r){return function(e){var{width:t,height:r}=e,n=function(e){return(e%180+180)%180}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),i=n*Math.PI/180,a=Math.atan(r/t),o=i>a&&i<Math.PI-a?r/Math.sin(i):t/Math.cos(i);return Math.abs(o)}({width:e.width+t.width,height:e.height+t.height},r)}function gR(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var a=r();return e*(t-e*a/2-n)>=0&&e*(t+e*a/2-i)<=0}function mR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function vR(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?mR(Object(r),!0).forEach(function(t){yR(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mR(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function yR(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bR(e,t,r){var n,{tick:i,ticks:a,viewBox:o,minTickGap:s,orientation:l,interval:c,tickFormatter:u,unit:d,angle:h}=e;if(!a||!a.length||!i)return[];if(Id(c)||MP)return null!==(n=function(e,t){return fR(e,t+1)}(a,Id(c)?c:0))&&void 0!==n?n:[];var f=[],p="top"===l||"bottom"===l?"width":"height",g=d&&"width"===p?FP(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},m=(e,n)=>{var i="function"===typeof u?u(e.value,n):e.value;return"width"===p?pR(FP(i,{fontSize:t,letterSpacing:r}),g,h):FP(i,{fontSize:t,letterSpacing:r})[p]},v=a.length>=2?Sd(a[1].coordinate-a[0].coordinate):1,y=function(e,t,r){var n="width"===r,{x:i,y:a,width:o,height:s}=e;return 1===t?{start:n?i:a,end:n?i+o:a+s}:{start:n?i+o:a+s,end:n?i:a}}(o,v,p);return"equidistantPreserveStart"===c?function(e,t,r,n,i){for(var a,o=(n||[]).slice(),{start:s,end:l}=t,c=0,u=1,d=s,h=function(){var t=null===n||void 0===n?void 0:n[c];if(void 0===t)return{v:fR(n,u)};var a,o=c,h=()=>(void 0===a&&(a=r(t,o)),a),f=t.coordinate,p=0===c||gR(e,f,h,d,l);p||(c=0,d=s,u+=1),p&&(d=f+e*(h()/2+i),c+=u)};u<=o.length;)if(a=h())return a.v;return[]}(v,y,m,a,s):(f="preserveStart"===c||"preserveStartEnd"===c?function(e,t,r,n,i,a){var o=(n||[]).slice(),s=o.length,{start:l,end:c}=t;if(a){var u=n[s-1],d=r(u,s-1),h=e*(u.coordinate+e*d/2-c);o[s-1]=u=vR(vR({},u),{},{tickCoord:h>0?u.coordinate-h*e:u.coordinate}),gR(e,u.tickCoord,()=>d,l,c)&&(c=u.tickCoord-e*(d/2+i),o[s-1]=vR(vR({},u),{},{isShow:!0}))}for(var f=a?s-1:s,p=function(t){var n,a=o[t],s=()=>(void 0===n&&(n=r(a,t)),n);if(0===t){var u=e*(a.coordinate-e*s()/2-l);o[t]=a=vR(vR({},a),{},{tickCoord:u<0?a.coordinate-u*e:a.coordinate})}else o[t]=a=vR(vR({},a),{},{tickCoord:a.coordinate});gR(e,a.tickCoord,s,l,c)&&(l=a.tickCoord+e*(s()/2+i),o[t]=vR(vR({},a),{},{isShow:!0}))},g=0;g<f;g++)p(g);return o}(v,y,m,a,s,"preserveStartEnd"===c):function(e,t,r,n,i){for(var a=(n||[]).slice(),o=a.length,{start:s}=t,{end:l}=t,c=function(t){var n,c=a[t],u=()=>(void 0===n&&(n=r(c,t)),n);if(t===o-1){var d=e*(c.coordinate+e*u()/2-l);a[t]=c=vR(vR({},c),{},{tickCoord:d>0?c.coordinate-d*e:c.coordinate})}else a[t]=c=vR(vR({},c),{},{tickCoord:c.coordinate});gR(e,c.tickCoord,u,s,l)&&(l=c.tickCoord-e*(u()/2+i),a[t]=vR(vR({},c),{},{isShow:!0}))},u=o-1;u>=0;u--)c(u);return a}(v,y,m,a,s),f.filter(e=>e.isShow))}function _R(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}var xR=["viewBox"],wR=["viewBox"];function kR(){return kR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kR.apply(null,arguments)}function ER(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function CR(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ER(Object(r),!0).forEach(function(t){TR(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ER(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function AR(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function TR(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class SR extends r.Component{constructor(e){super(e),this.tickRefs=r.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(e,t){var{viewBox:r}=e,n=AR(e,xR),i=this.props,{viewBox:a}=i,o=AR(i,wR);return!_R(r,a)||!_R(n,o)||!_R(t,this.state)}getTickLineCoord(e){var t,r,n,i,a,o,{x:s,y:l,width:c,height:u,orientation:d,tickSize:h,mirror:f,tickMargin:p}=this.props,g=f?-1:1,m=e.tickSize||h,v=Id(e.tickCoord)?e.tickCoord:e.coordinate;switch(d){case"top":t=r=e.coordinate,o=(n=(i=l+ +!f*u)-g*m)-g*p,a=v;break;case"left":n=i=e.coordinate,a=(t=(r=s+ +!f*c)-g*m)-g*p,o=v;break;case"right":n=i=e.coordinate,a=(t=(r=s+ +f*c)+g*m)+g*p,o=v;break;default:t=r=e.coordinate,o=(n=(i=l+ +f*u)+g*m)+g*p,a=v}return{line:{x1:t,y1:n,x2:r,y2:i},tick:{x:a,y:o}}}getTickTextAnchor(){var{orientation:e,mirror:t}=this.props;switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}getTickVerticalAnchor(){var{orientation:e,mirror:t}=this.props;switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}renderAxisLine(){var{x:e,y:t,width:n,height:i,orientation:a,mirror:o,axisLine:s}=this.props,l=CR(CR(CR({},yS(this.props,!1)),yS(s,!1)),{},{fill:"none"});if("top"===a||"bottom"===a){var c=+("top"===a&&!o||"bottom"===a&&o);l=CR(CR({},l),{},{x1:e,y1:t+c*i,x2:e+n,y2:t+c*i})}else{var u=+("left"===a&&!o||"right"===a&&o);l=CR(CR({},l),{},{x1:e+u*n,y1:t,x2:e+u*n,y2:t+i})}return r.createElement("line",kR({},l,{className:kd("recharts-cartesian-axis-line",Td()(s,"className"))}))}static renderTickItem(e,t,n){var i,a=kd(t.className,"recharts-cartesian-axis-tick-value");if(r.isValidElement(e))i=r.cloneElement(e,CR(CR({},t),{},{className:a}));else if("function"===typeof e)i=e(CR(CR({},t),{},{className:a}));else{var o="recharts-cartesian-axis-tick-value";"boolean"!==typeof e&&(o=kd(o,e.className)),i=r.createElement(dI,kR({},t,{className:o}),n)}return i}renderTicks(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],{tickLine:i,stroke:a,tick:o,tickFormatter:s,unit:l,padding:c,tickTextProps:u}=this.props,d=bR(CR(CR({},this.props),{},{ticks:n}),e,t),h=this.getTickTextAnchor(),f=this.getTickVerticalAnchor(),p=dS(this.props),g=yS(o,!1),m=CR(CR({},p),{},{fill:"none"},yS(i,!1)),v=d.map((e,t)=>{var{line:n,tick:v}=this.getTickLineCoord(e),y=CR(CR(CR(CR({textAnchor:h,verticalAnchor:f},p),{},{stroke:"none",fill:a},g),v),{},{index:t,payload:e,visibleTicksCount:d.length,tickFormatter:s,padding:c},u);return r.createElement(WO,kR({className:"recharts-cartesian-axis-tick",key:"tick-".concat(e.value,"-").concat(e.coordinate,"-").concat(e.tickCoord)},lS(this.props,e,t)),i&&r.createElement("line",kR({},m,n,{className:kd("recharts-cartesian-axis-tick-line",Td()(i,"className"))})),o&&SR.renderTickItem(o,y,"".concat("function"===typeof s?s(e.value,t):e.value).concat(l||"")))});return v.length>0?r.createElement("g",{className:"recharts-cartesian-axis-ticks"},v):null}render(){var{axisLine:e,width:t,height:n,className:i,hide:a}=this.props;if(a)return null;var{ticks:o}=this.props;return null!=t&&t<=0||null!=n&&n<=0?null:r.createElement(WO,{className:kd("recharts-cartesian-axis",i),ref:e=>{if(e){var t=e.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(t);var r=t[0];if(r){var n=window.getComputedStyle(r).fontSize,i=window.getComputedStyle(r).letterSpacing;n===this.state.fontSize&&i===this.state.letterSpacing||this.setState({fontSize:window.getComputedStyle(r).fontSize,letterSpacing:window.getComputedStyle(r).letterSpacing})}}}},e&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,o),r.createElement(hM,{x:this.props.x,y:this.props.y,width:this.props.width,height:this.props.height},r.createElement(wM,{label:this.props.label}),this.props.children))}}TR(SR,"displayName","CartesianAxis"),TR(SR,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var OR=["x1","y1","x2","y2","key"],PR=["offset"],IR=["xAxisId","yAxisId"],jR=["xAxisId","yAxisId"];function MR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function NR(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?MR(Object(r),!0).forEach(function(t){RR(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MR(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function RR(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DR(){return DR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},DR.apply(null,arguments)}function LR(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var UR=e=>{var{fill:t}=e;if(!t||"none"===t)return null;var{fillOpacity:n,x:i,y:a,width:o,height:s,ry:l}=e;return r.createElement("rect",{x:i,y:a,ry:l,width:o,height:s,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function BR(e,t){var n;if(r.isValidElement(e))n=r.cloneElement(e,t);else if("function"===typeof e)n=e(t);else{var{x1:i,y1:a,x2:o,y2:s,key:l}=t,c=dS(LR(t,OR)),{offset:u}=c,d=LR(c,PR);n=r.createElement("line",DR({},d,{x1:i,y1:a,x2:o,y2:s,fill:"none",key:l}))}return n}function zR(e){var{x:t,width:n,horizontal:i=!0,horizontalPoints:a}=e;if(!i||!a||!a.length)return null;var{xAxisId:o,yAxisId:s}=e,l=LR(e,IR),c=a.map((e,r)=>{var a=NR(NR({},l),{},{x1:t,y1:e,x2:t+n,y2:e,key:"line-".concat(r),index:r});return BR(i,a)});return r.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function KR(e){var{y:t,height:n,vertical:i=!0,verticalPoints:a}=e;if(!i||!a||!a.length)return null;var{xAxisId:o,yAxisId:s}=e,l=LR(e,jR),c=a.map((e,r)=>{var a=NR(NR({},l),{},{x1:e,y1:t,x2:e,y2:t+n,key:"line-".concat(r),index:r});return BR(i,a)});return r.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function qR(e){var{horizontalFill:t,fillOpacity:n,x:i,y:a,width:o,height:s,horizontalPoints:l,horizontal:c=!0}=e;if(!c||!t||!t.length)return null;var u=l.map(e=>Math.round(e+a-a)).sort((e,t)=>e-t);a!==u[0]&&u.unshift(0);var d=u.map((e,l)=>{var c=!u[l+1]?a+s-e:u[l+1]-e;if(c<=0)return null;var d=l%t.length;return r.createElement("rect",{key:"react-".concat(l),y:e,x:i,height:c,width:o,stroke:"none",fill:t[d],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return r.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function FR(e){var{vertical:t=!0,verticalFill:n,fillOpacity:i,x:a,y:o,width:s,height:l,verticalPoints:c}=e;if(!t||!n||!n.length)return null;var u=c.map(e=>Math.round(e+a-a)).sort((e,t)=>e-t);a!==u[0]&&u.unshift(0);var d=u.map((e,t)=>{var c=!u[t+1]?a+s-e:u[t+1]-e;if(c<=0)return null;var d=t%n.length;return r.createElement("rect",{key:"react-".concat(t),x:e,y:o,width:c,height:l,stroke:"none",fill:n[d],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return r.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var HR=(e,t)=>{var{xAxis:r,width:n,height:i,offset:a}=e;return um(bR(NR(NR(NR({},SR.defaultProps),r),{},{ticks:dm(r,!0),viewBox:{x:0,y:0,width:n,height:i}})),a.left,a.left+a.width,t)},WR=(e,t)=>{var{yAxis:r,width:n,height:i,offset:a}=e;return um(bR(NR(NR(NR({},SR.defaultProps),r),{},{ticks:dm(r,!0),viewBox:{x:0,y:0,width:n,height:i}})),a.top,a.top+a.height,t)},VR={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function GR(e){var t=Wm(),n=Vm(),i=Hm(),a=NR(NR({},tO(e,VR)),{},{x:Id(e.x)?e.x:i.left,y:Id(e.y)?e.y:i.top,width:Id(e.width)?e.width:i.width,height:Id(e.height)?e.height:i.height}),{xAxisId:o,yAxisId:s,x:l,y:c,width:u,height:d,syncWithTicks:h,horizontalValues:f,verticalValues:p}=a,g=Bm(),m=Lg(e=>aC(e,"xAxis",o,g)),v=Lg(e=>aC(e,"yAxis",s,g));if(!Id(u)||u<=0||!Id(d)||d<=0||!Id(l)||l!==+l||!Id(c)||c!==+c)return null;var y=a.verticalCoordinatesGenerator||HR,b=a.horizontalCoordinatesGenerator||WR,{horizontalPoints:_,verticalPoints:x}=a;if((!_||!_.length)&&"function"===typeof b){var w=f&&f.length,k=b({yAxis:v?NR(NR({},v),{},{ticks:w?f:v.ticks}):void 0,width:t,height:n,offset:i},!!w||h);Kd(Array.isArray(k),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof k,"]")),Array.isArray(k)&&(_=k)}if((!x||!x.length)&&"function"===typeof y){var E=p&&p.length,C=y({xAxis:m?NR(NR({},m),{},{ticks:E?p:m.ticks}):void 0,width:t,height:n,offset:i},!!E||h);Kd(Array.isArray(C),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof C,"]")),Array.isArray(C)&&(x=C)}return r.createElement("g",{className:"recharts-cartesian-grid"},r.createElement(UR,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),r.createElement(qR,DR({},a,{horizontalPoints:_})),r.createElement(FR,DR({},a,{verticalPoints:x})),r.createElement(zR,DR({},a,{offset:i,horizontalPoints:_,xAxis:m,yAxis:v})),r.createElement(KR,DR({},a,{offset:i,verticalPoints:x,xAxis:m,yAxis:v})))}GR.displayName="CartesianGrid";var YR=["children"],QR=["dangerouslySetInnerHTML","ticks"],JR=["id"];function XR(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $R(){return $R=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$R.apply(null,arguments)}function ZR(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function eD(e){var t=Mg(),n=(0,r.useMemo)(()=>{var{children:t}=e;return ZR(e,YR)},[e]);return(0,r.useEffect)(()=>(t(HA(n)),()=>{t(WA(n))}),[n,t]),e.children}var tD=e=>{var{xAxisId:t,className:n}=e,i=Lg(Lm),a=Bm(),o="xAxis",s=Lg(e=>FE(e,o,t,a)),l=Lg(e=>oC(e,o,t,a)),c=Lg(e=>JE(e,t)),u=Lg(e=>((e,t)=>{var r=Rm(e),n=kk(e,t);if(null!=n){var i=XE(e,n.orientation,n.mirror)[t];return null==i?{x:r.left,y:0}:{x:r.left,y:i}}})(e,t)),d=Lg(e=>wk(e,t));if(null==c||null==u||null==d)return null;var{dangerouslySetInnerHTML:h,ticks:f}=e,p=ZR(e,QR),{id:g}=d,m=ZR(d,JR);return r.createElement(SR,$R({},p,m,{scale:s,x:u.x,y:u.y,width:c.width,height:c.height,className:kd("recharts-".concat(o," ").concat(o),n),viewBox:i,ticks:l}))},rD=e=>{var t,n,i,a,o;return r.createElement(eD,{interval:null!==(t=e.interval)&&void 0!==t?t:"preserveEnd",id:e.xAxisId,scale:e.scale,type:e.type,padding:e.padding,allowDataOverflow:e.allowDataOverflow,domain:e.domain,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,includeHidden:null!==(n=e.includeHidden)&&void 0!==n&&n,reversed:e.reversed,ticks:e.ticks,height:e.height,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:null!==(i=e.angle)&&void 0!==i?i:0,minTickGap:null!==(a=e.minTickGap)&&void 0!==a?a:5,tick:null===(o=e.tick)||void 0===o||o,tickFormatter:e.tickFormatter},r.createElement(tD,e))};class nD extends r.Component{render(){return r.createElement(rD,this.props)}}XR(nD,"displayName","XAxis"),XR(nD,"defaultProps",{allowDataOverflow:xk.allowDataOverflow,allowDecimals:xk.allowDecimals,allowDuplicatedCategory:xk.allowDuplicatedCategory,height:xk.height,hide:!1,mirror:xk.mirror,orientation:xk.orientation,padding:xk.padding,reversed:xk.reversed,scale:xk.scale,tickCount:xk.tickCount,type:xk.type,xAxisId:0});var iD=["dangerouslySetInnerHTML","ticks"],aD=["id"];function oD(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sD(){return sD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sD.apply(null,arguments)}function lD(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function cD(e){var t=Mg();return(0,r.useEffect)(()=>(t(VA(e)),()=>{t(GA(e))}),[e,t]),null}var uD=e=>{var t,{yAxisId:n,className:i,width:a,label:o}=e,s=(0,r.useRef)(null),l=(0,r.useRef)(null),c=Lg(Lm),u=Bm(),d=Mg(),h="yAxis",f=Lg(e=>FE(e,h,n,u)),p=Lg(e=>ZE(e,n)),g=Lg(e=>((e,t)=>{var r=Rm(e),n=Ak(e,t);if(null!=n){var i=$E(e,n.orientation,n.mirror)[t];return null==i?{x:0,y:r.top}:{x:i,y:r.top}}})(e,n)),m=Lg(e=>oC(e,h,n,u)),v=Lg(e=>Ck(e,n));if((0,r.useLayoutEffect)(()=>{var e;if("auto"===a&&p&&!mM(o)&&!(0,r.isValidElement)(o)&&null!=v){var t=s.current,i=null===t||void 0===t||null===(e=t.tickRefs)||void 0===e?void 0:e.current,{tickSize:c,tickMargin:u}=t.props,h=(e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:a=0}=e,o=0;if(t){t.forEach(e=>{if(e){var t=e.getBoundingClientRect();t.width>o&&(o=t.width)}});var s=r?r.getBoundingClientRect().width:0,l=o+(i+a)+s+(r?n:0);return Math.round(l)}return 0})({ticks:i,label:l.current,labelGapWithTick:5,tickSize:c,tickMargin:u});Math.round(p.width)!==Math.round(h)&&d(JA({id:n,width:h}))}},[s,null===s||void 0===s||null===(t=s.current)||void 0===t||null===(t=t.tickRefs)||void 0===t?void 0:t.current,null===p||void 0===p?void 0:p.width,p,d,o,n,a]),null==p||null==g||null==v)return null;var{dangerouslySetInnerHTML:y,ticks:b}=e,_=lD(e,iD),{id:x}=v,w=lD(v,aD);return r.createElement(SR,sD({},_,w,{ref:s,labelRef:l,scale:f,x:g.x,y:g.y,tickTextProps:"auto"===a?{width:void 0}:{width:a},width:p.width,height:p.height,className:kd("recharts-".concat(h," ").concat(h),i),viewBox:c,ticks:m}))},dD=e=>{var t,n,i,a,o;return r.createElement(r.Fragment,null,r.createElement(cD,{interval:null!==(t=e.interval)&&void 0!==t?t:"preserveEnd",id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:null!==(n=e.includeHidden)&&void 0!==n&&n,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:null!==(i=e.angle)&&void 0!==i?i:0,minTickGap:null!==(a=e.minTickGap)&&void 0!==a?a:5,tick:null===(o=e.tick)||void 0===o||o,tickFormatter:e.tickFormatter}),r.createElement(uD,e))},hD={allowDataOverflow:Ek.allowDataOverflow,allowDecimals:Ek.allowDecimals,allowDuplicatedCategory:Ek.allowDuplicatedCategory,hide:!1,mirror:Ek.mirror,orientation:Ek.orientation,padding:Ek.padding,reversed:Ek.reversed,scale:Ek.scale,tickCount:Ek.tickCount,type:Ek.type,width:Ek.width,yAxisId:0};class fD extends r.Component{render(){return r.createElement(dD,this.props)}}oD(fD,"displayName","YAxis"),oD(fD,"defaultProps",hD);var pD="Invariant failed";var gD=["x","y"];function mD(){return mD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mD.apply(null,arguments)}function vD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function yD(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?vD(Object(r),!0).forEach(function(t){bD(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vD(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function bD(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _D(e,t){var{x:r,y:n}=e,i=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,gD),a="".concat(r),o=parseInt(a,10),s="".concat(n),l=parseInt(s,10),c="".concat(t.height||i.height),u=parseInt(c,10),d="".concat(t.width||i.width),h=parseInt(d,10);return yD(yD(yD(yD(yD({},t),i),o?{x:o}:{}),l?{y:l}:{}),{},{height:u,width:h,name:t.name,radius:t.radius})}function xD(e){return r.createElement(Hj,mD({shapeType:"rectangle",propTransformer:_D,activeClassName:"recharts-active-bar"},e))}var wD=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(r,n)=>{if(Id(e))return e;var i=Id(r)||Bd(r);return i?e(r,n):(i||function(e){if(!e)throw new Error(pD)}(!1),t)}},kD=["children"];var ED={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},CD=(0,r.createContext)(ED);function AD(e){var{children:t}=e,n=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,kD);return r.createElement(CD.Provider,{value:n},t)}function TD(e,t){var r,n,i=Lg(t=>kk(t,e)),a=Lg(e=>Ak(e,t)),o=null!==(r=null===i||void 0===i?void 0:i.allowDataOverflow)&&void 0!==r?r:xk.allowDataOverflow,s=null!==(n=null===a||void 0===a?void 0:a.allowDataOverflow)&&void 0!==n?n:Ek.allowDataOverflow;return{needClip:o||s,needClipX:o,needClipY:s}}function SD(e){var{xAxisId:t,yAxisId:n,clipPathId:i}=e,a=YS(),{needClipX:o,needClipY:s,needClip:l}=TD(t,n);if(!l)return null;var{x:c,y:u,width:d,height:h}=a;return r.createElement("clipPath",{id:"clipPath-".concat(i)},r.createElement("rect",{x:o?c:c-d/2,y:s?u:u-h/2,width:o?d:2*d,height:s?h:2*h}))}function OD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function PD(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?OD(Object(r),!0).forEach(function(t){ID(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OD(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ID(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var jD=Sg([Mk,(e,t,r,n,i)=>i],(e,t)=>e.filter(e=>"bar"===e.type).find(e=>e.id===t)),MD=Sg([jD],e=>null===e||void 0===e?void 0:e.maxBarSize),ND=(e,t,r)=>{var n=null!==r&&void 0!==r?r:e;if(!Bd(n))return Rd(n,t,0)},RD=Sg([Gm,Mk,(e,t)=>t,(e,t,r)=>r,(e,t,r,n)=>n],(e,t,r,n,i)=>t.filter(t=>"horizontal"===e?t.xAxisId===r:t.yAxisId===n).filter(e=>e.isPanorama===i).filter(e=>!1===e.hide).filter(e=>"bar"===e.type)),DD=Sg([RD,e=>e.rootProps.barSize,(e,t,r)=>"horizontal"===Gm(e)?eC(e,"xAxis",t):eC(e,"yAxis",r)],(e,t,r)=>{var n=e.filter(mk),i=e.filter(e=>null==e.stackId),a=n.reduce((e,t)=>(e[t.stackId]||(e[t.stackId]=[]),e[t.stackId].push(t),e),{}),o=Object.entries(a).map(e=>{var[n,i]=e;return{stackId:n,dataKeys:i.map(e=>e.dataKey),barSize:ND(t,r,i[0].barSize)}});return[...o,...i.map(e=>({stackId:void 0,dataKeys:[e.dataKey].filter(e=>null!=e),barSize:ND(t,r,e.barSize)}))]}),LD=(e,t,r,n)=>{var i,a;return"horizontal"===Gm(e)?(i=lC(e,"xAxis",t,n),a=sC(e,"xAxis",t,n)):(i=lC(e,"yAxis",r,n),a=sC(e,"yAxis",r,n)),xm(i,a)};var UD=Sg([DD,jw,e=>e.rootProps.barGap,Mw,(e,t,r,n,i)=>{var a,o,s=jD(e,t,r,n,i);if(null!=s){var l,c,u=Gm(e),d=jw(e),{maxBarSize:h}=s,f=Bd(h)?d:h;return"horizontal"===u?(l=lC(e,"xAxis",t,n),c=sC(e,"xAxis",t,n)):(l=lC(e,"yAxis",r,n),c=sC(e,"yAxis",r,n)),null!==(a=null!==(o=xm(l,c,!0))&&void 0!==o?o:f)&&void 0!==a?a:0}},LD,MD],(e,t,r,n,i,a,o)=>{var s=Bd(o)?t:o,l=function(e,t,r,n,i){var a=n.length;if(!(a<1)){var o,s=Rd(e,r,0,!0),l=[];if(lw(n[0].barSize)){var c=!1,u=r/a,d=n.reduce((e,t)=>e+(t.barSize||0),0);(d+=(a-1)*s)>=r&&(d-=(a-1)*s,s=0),d>=r&&u>0&&(c=!0,d=a*(u*=.9));var h={offset:((r-d)/2|0)-s,size:0};o=n.reduce((e,t)=>{var r,n=[...e,{stackId:t.stackId,dataKeys:t.dataKeys,position:{offset:h.offset+h.size+s,size:c?u:null!==(r=t.barSize)&&void 0!==r?r:0}}];return h=n[n.length-1].position,n},l)}else{var f=Rd(t,r,0,!0);r-2*f-(a-1)*s<=0&&(s=0);var p=(r-2*f-(a-1)*s)/a;p>1&&(p>>=0);var g=lw(i)?Math.min(p,i):p;o=n.reduce((e,t,r)=>[...e,{stackId:t.stackId,dataKeys:t.dataKeys,position:{offset:f+(p+s)*r+(p-g)/2,size:g}}],l)}return o}}(r,n,i!==a?i:a,e,s);return i!==a&&null!=l&&(l=l.map(e=>PD(PD({},e),{},{position:PD(PD({},e.position),{},{offset:e.position.offset-i/2})}))),l}),BD=Sg([UD,jD],(e,t)=>{if(null!=e&&null!=t){var r=e.find(e=>e.stackId===t.stackId&&null!=t.dataKey&&e.dataKeys.includes(t.dataKey));if(null!=r)return r.position}}),zD=Sg([(e,t,r,n)=>"horizontal"===Gm(e)?Xk(e,"yAxis",r,n):Xk(e,"xAxis",t,n),jD],(e,t)=>{var r=uk(t);if(e&&null!=r&&null!=t){var{stackId:n}=t;if(null!=n){var i=e[n];if(i){var{stackedData:a}=i;if(a)return a.find(e=>e.key===r)}}}}),KD=Sg([Rm,Lm,(e,t,r,n)=>lC(e,"xAxis",t,n),(e,t,r,n)=>lC(e,"yAxis",r,n),(e,t,r,n)=>sC(e,"xAxis",t,n),(e,t,r,n)=>sC(e,"yAxis",r,n),BD,Gm,sw,LD,zD,jD,(e,t,r,n,i,a)=>a],(e,t,r,n,i,a,o,s,l,c,u,d,h)=>{var{chartData:f,dataStartIndex:p,dataEndIndex:g}=l;if(null!=d&&null!=o&&null!=t&&("horizontal"===s||"vertical"===s)&&null!=r&&null!=n&&null!=i&&null!=a&&null!=c){var m,{data:v}=d;if(null!=(m=null!=v&&v.length>0?v:null===f||void 0===f?void 0:f.slice(p,g+1)))return function(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:i,bandSize:a,xAxis:o,yAxis:s,xAxisTicks:l,yAxisTicks:c,stackedData:u,displayedData:d,offset:h,cells:f,parentViewBox:p}=e,g="horizontal"===t?s:o,m=u?g.scale.domain():null,v=(e=>{var{numericAxis:t}=e,r=t.scale.domain();if("number"===t.type){var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return n<=0&&i>=0?0:i<0?i:n}return r[0]})({numericAxis:g});return d.map((e,d)=>{var g,y,b,_,x,w;u?g=((e,t)=>{if(!t||2!==t.length||!Id(t[0])||!Id(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!Id(e[0])||e[0]<r)&&(i[0]=r),(!Id(e[1])||e[1]>n)&&(i[1]=n),i[0]>n&&(i[0]=n),i[1]<r&&(i[1]=r),i})(u[d],m):(g=lm(e,r),Array.isArray(g)||(g=[v,g]));var k=wD(n,oL)(g[1],d);if("horizontal"===t){var E,[C,A]=[s.scale(g[0]),s.scale(g[1])];y=vm({axis:o,ticks:l,bandSize:a,offset:i.offset,entry:e,index:d}),b=null!==(E=null!==A&&void 0!==A?A:C)&&void 0!==E?E:void 0,_=i.size;var T=C-A;if(x=Od(T)?0:T,w={x:y,y:h.top,width:_,height:h.height},Math.abs(k)>0&&Math.abs(x)<Math.abs(k)){var S=Sd(x||k)*(Math.abs(k)-Math.abs(x));b-=S,x+=S}}else{var[O,P]=[o.scale(g[0]),o.scale(g[1])];if(y=O,b=vm({axis:s,ticks:c,bandSize:a,offset:i.offset,entry:e,index:d}),_=P-O,x=i.size,w={x:h.left,y:b,width:h.width,height:x},Math.abs(k)>0&&Math.abs(_)<Math.abs(k))_+=Sd(_||k)*(Math.abs(k)-Math.abs(_))}return null==y||null==b||null==_||null==x?null:YD(YD({},e),{},{x:y,y:b,width:_,height:x,value:u?g:g[1],payload:e,background:w,tooltipPosition:{x:y+_/2,y:b+x/2},parentViewBox:p},f&&f[d]&&f[d].props)}).filter(Boolean)}({layout:s,barSettings:d,pos:o,parentViewBox:t,bandSize:c,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:a,stackedData:u,displayedData:m,offset:e,cells:h})}}),qD=["onMouseEnter","onMouseLeave","onClick"],FD=["value","background","tooltipPosition"],HD=["id"],WD=["onMouseEnter","onClick","onMouseLeave"];function VD(){return VD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},VD.apply(null,arguments)}function GD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function YD(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?GD(Object(r),!0).forEach(function(t){QD(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GD(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function QD(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JD(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var XD=e=>{var{dataKey:t,name:r,fill:n,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:n,value:km(r,t),payload:e}]};function $D(e){var{dataKey:t,stroke:r,strokeWidth:n,fill:i,name:a,hide:o,unit:s}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:i,dataKey:t,nameKey:void 0,name:km(a,t),hide:o,type:e.tooltipType,color:e.fill,unit:s}}}function ZD(e){var t=Lg(dA),{data:n,dataKey:i,background:a,allOtherBarProps:o}=e,{onMouseEnter:s,onMouseLeave:l,onClick:c}=o,u=JD(o,qD),d=Wj(s,i),h=Vj(l),f=Gj(c,i);if(!a||null==n)return null;var p=yS(a,!1);return r.createElement(r.Fragment,null,n.map((e,n)=>{var{value:o,background:s,tooltipPosition:l}=e,c=JD(e,FD);if(!s)return null;var g=d(e,n),m=h(e,n),v=f(e,n),y=YD(YD(YD(YD(YD({option:a,isActive:String(n)===t},c),{},{fill:"#eee"},s),p),lS(u,e,n)),{},{onMouseEnter:g,onMouseLeave:m,onClick:v,dataKey:i,index:n,className:"recharts-bar-background-rectangle"});return r.createElement(xD,VD({key:"background-bar-".concat(n)},y))}))}function eL(e){var{showLabels:t,children:n,rects:i}=e,a=null===i||void 0===i?void 0:i.map(e=>{var t={x:e.x,y:e.y,width:e.width,height:e.height};return YD(YD({},t),{},{value:e.value,payload:e.payload,parentViewBox:e.parentViewBox,viewBox:t,fill:e.fill})});return r.createElement(OM,{value:t?a:void 0},n)}function tL(e){var{shape:t,activeBar:n,baseProps:i,entry:a,index:o,dataKey:s}=e,l=Lg(dA),c=Lg(fA),u=n&&String(o)===l&&(null==c||s===c),d=u?n:t;return r.createElement(xD,VD({},i,a,{isActive:u,option:d,index:o,dataKey:s}))}function rL(e){var{shape:t,baseProps:n,entry:i,index:a,dataKey:o}=e;return r.createElement(xD,VD({},n,i,{isActive:!1,option:t,index:a,dataKey:o}))}function nL(e){var{data:t,props:n}=e,i=dS(n),{id:a}=i,o=JD(i,HD),{shape:s,dataKey:l,activeBar:c}=n,{onMouseEnter:u,onClick:d,onMouseLeave:h}=n,f=JD(n,WD),p=Wj(u,l),g=Vj(h),m=Gj(d,l);return t?r.createElement(r.Fragment,null,t.map((e,t)=>r.createElement(WO,VD({className:"recharts-bar-rectangle"},lS(f,e,t),{onMouseEnter:p(e,t),onMouseLeave:g(e,t),onClick:m(e,t),key:"rectangle-".concat(null===e||void 0===e?void 0:e.x,"-").concat(null===e||void 0===e?void 0:e.y,"-").concat(null===e||void 0===e?void 0:e.value,"-").concat(t)}),c?r.createElement(tL,{shape:s,activeBar:c,baseProps:o,entry:e,index:t,dataKey:l}):r.createElement(rL,{shape:s,baseProps:o,entry:e,index:t,dataKey:l})))):null}function iL(e){var{props:t,previousRectanglesRef:n}=e,{data:i,layout:a,isAnimationActive:o,animationBegin:s,animationDuration:l,animationEasing:c,onAnimationEnd:u,onAnimationStart:d}=t,h=n.current,f=qI(t,"recharts-bar-"),[p,g]=(0,r.useState)(!1),m=!p,v=(0,r.useCallback)(()=>{"function"===typeof u&&u(),g(!1)},[u]),y=(0,r.useCallback)(()=>{"function"===typeof d&&d(),g(!0)},[d]);return r.createElement(eL,{showLabels:m,rects:i},r.createElement(KI,{animationId:f,begin:s,duration:l,isActive:o,easing:c,onAnimationEnd:v,onAnimationStart:y,key:f},e=>{var o=1===e?i:null===i||void 0===i?void 0:i.map((t,r)=>{var n=h&&h[r];if(n)return YD(YD({},t),{},{x:Ld(n.x,t.x,e),y:Ld(n.y,t.y,e),width:Ld(n.width,t.width,e),height:Ld(n.height,t.height,e)});if("horizontal"===a){var i=Ld(0,t.height,e);return YD(YD({},t),{},{y:t.y+t.height-i,height:i})}var o=Ld(0,t.width,e);return YD(YD({},t),{},{width:o})});return e>0&&(n.current=null!==o&&void 0!==o?o:null),null==o?null:r.createElement(WO,null,r.createElement(nL,{props:t,data:o}))}),r.createElement(MM,{label:t.label}),t.children)}function aL(e){var t=(0,r.useRef)(null);return r.createElement(iL,{previousRectanglesRef:t,props:e})}var oL=0,sL=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:lm(e,t)}};class lL extends r.PureComponent{render(){var{hide:e,data:t,dataKey:n,className:i,xAxisId:a,yAxisId:o,needClip:s,background:l,id:c}=this.props;if(e||null==t)return null;var u=kd("recharts-bar",i),d=c;return r.createElement(WO,{className:u,id:c},s&&r.createElement("defs",null,r.createElement(SD,{clipPathId:d,xAxisId:a,yAxisId:o})),r.createElement(WO,{className:"recharts-bar-rectangles",clipPath:s?"url(#clipPath-".concat(d,")"):void 0},r.createElement(ZD,{data:t,dataKey:n,background:l,allOtherBarProps:this.props}),r.createElement(aL,this.props)))}}var cL={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!MP,legendType:"rect",minPointSize:oL,xAxisId:0,yAxisId:0};function uL(e){var t,{xAxisId:n,yAxisId:i,hide:a,legendType:o,minPointSize:s,activeBar:l,animationBegin:c,animationDuration:u,animationEasing:d,isAnimationActive:h}=e,{needClip:f}=TD(n,i),p=Ym(),g=Bm(),m=mS(e.children,hI),v=Lg(t=>KD(t,n,i,g,e.id,m));if("vertical"!==p&&"horizontal"!==p)return null;var y=null===v||void 0===v?void 0:v[0];return t=null==y||null==y.height||null==y.width?0:"vertical"===p?y.height/2:y.width/2,r.createElement(AD,{xAxisId:n,yAxisId:i,data:v,dataPointFormatter:sL,errorBarOffset:t},r.createElement(lL,VD({},e,{layout:p,needClip:f,data:v,xAxisId:n,yAxisId:i,hide:a,legendType:o,minPointSize:s,activeBar:l,animationBegin:c,animationDuration:u,animationEasing:d,isAnimationActive:h})))}function dL(e){var t=tO(e,cL),n=Bm();return r.createElement(tM,{id:t.id,type:"bar"},e=>r.createElement(r.Fragment,null,r.createElement(Xj,{legendPayload:XD(t)}),r.createElement(Yj,{fn:$D,args:t}),r.createElement(rM,{type:"bar",id:e,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:gm(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),r.createElement(uL,VD({},t,{id:e}))))}dL.displayName="Bar";var hL=["axis"],fL=(0,r.forwardRef)((e,t)=>r.createElement(lR,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:hL,tooltipPayloadSearcher:Gf,categoricalChartProps:e,ref:t}));function pL(){return pL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pL.apply(null,arguments)}var gL=e=>{var{cx:t,cy:n,r:i,className:a}=e,o=kd("recharts-dot",a);return t===+t&&n===+n&&i===+i?r.createElement("circle",pL({},dS(e),sS(e),{className:o,cx:t,cy:n,r:i})):null};function mL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function vL(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?mL(Object(r),!0).forEach(function(t){yL(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mL(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function yL(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bL(e){var{points:t,mainColor:n,activeDot:i,itemDataKey:a}=e,o=Lg(dA),s=Lg(bA);if(null==t||null==s)return null;var l=t.find(e=>s.includes(e.payload));return Bd(l)?null:(e=>{var{point:t,childIndex:n,mainColor:i,activeDot:a,dataKey:o}=e;if(!1===a||null==t.x||null==t.y)return null;var s,l=vL(vL({index:n,dataKey:o,cx:t.x,cy:t.y,r:4,fill:null!==i&&void 0!==i?i:"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},yS(a,!1)),sS(a));return s=(0,r.isValidElement)(a)?(0,r.cloneElement)(a,l):"function"===typeof a?a(l):r.createElement(gL,l),r.createElement(WO,{className:"recharts-active-dot"},s)})({point:l,childIndex:Number(o),mainColor:n,dataKey:a,activeDot:i})}var _L=(e,t,r,n)=>lC(e,"xAxis",t,n),xL=(e,t,r,n)=>sC(e,"xAxis",t,n),wL=(e,t,r,n)=>lC(e,"yAxis",r,n),kL=(e,t,r,n)=>sC(e,"yAxis",r,n),EL=Sg([Gm,_L,wL,xL,kL],(e,t,r,n,i)=>cm(e,"xAxis")?xm(t,n,!1):xm(r,i,!1)),CL=Sg([Mk,(e,t,r,n,i)=>i],(e,t)=>e.filter(e=>"area"===e.type).find(e=>e.id===t)),AL=Sg([Gm,_L,wL,xL,kL,(e,t,r,n,i)=>{var a,o=CL(e,t,r,n,i);if(null!=o){var s,l=Gm(e);if(null!=(s=cm(l,"xAxis")?Xk(e,"yAxis",r,n):Xk(e,"xAxis",t,n))){var{stackId:c}=o,u=uk(o);if(null!=c&&null!=u){var d=null===(a=s[c])||void 0===a?void 0:a.stackedData;return null===d||void 0===d?void 0:d.find(e=>e.key===u)}}}},sw,EL,CL],(e,t,r,n,i,a,o,s,l)=>{var{chartData:c,dataStartIndex:u,dataEndIndex:d}=o;if(null!=l&&("horizontal"===e||"vertical"===e)&&null!=t&&null!=r&&null!=n&&null!=i&&0!==n.length&&0!==i.length&&null!=s){var h,{data:f}=l;if(null!=(h=f&&f.length>0?f:null===c||void 0===c?void 0:c.slice(u,d+1))){return function(e){var t,{areaSettings:{connectNulls:r,baseValue:n,dataKey:i},stackedData:a,layout:o,chartBaseValue:s,xAxis:l,yAxis:c,displayedData:u,dataStartIndex:d,xAxisTicks:h,yAxisTicks:f,bandSize:p}=e,g=a&&a.length,m=YL(o,s,n,l,c),v="horizontal"===o,y=!1,b=u.map((e,t)=>{var n;g?n=a[d+t]:(n=lm(e,i),Array.isArray(n)?y=!0:n=[m,n]);var o=null==n[1]||g&&!r&&null==lm(e,i);return v?{x:mm({axis:l,ticks:h,bandSize:p,entry:e,index:t}),y:o?null:c.scale(n[1]),value:n,payload:e}:{x:o?null:l.scale(n[1]),y:mm({axis:c,ticks:f,bandSize:p,entry:e,index:t}),value:n,payload:e}});t=g||y?b.map(e=>{var t=Array.isArray(e.value)?e.value[0]:null;return v?{x:e.x,y:null!=t&&null!=e.y?c.scale(t):null,payload:e.payload}:{x:null!=t?l.scale(t):null,y:e.y,payload:e.payload}}):v?c.scale(m):l.scale(m);return{points:b,baseLine:t,isRange:y}}({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:i,dataStartIndex:u,areaSettings:l,stackedData:a,displayedData:h,chartBaseValue:undefined,bandSize:s})}}}),TL=["id"],SL=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function OL(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function PL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function IL(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?PL(Object(r),!0).forEach(function(t){jL(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PL(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function jL(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ML(){return ML=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ML.apply(null,arguments)}function NL(e,t){return e&&"none"!==e?e:t}var RL=e=>{var{dataKey:t,name:r,stroke:n,fill:i,legendType:a,hide:o}=e;return[{inactive:o,dataKey:t,type:a,color:NL(n,i),value:km(r,t),payload:e}]};function DL(e){var{dataKey:t,data:r,stroke:n,strokeWidth:i,fill:a,name:o,hide:s,unit:l}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:i,fill:a,dataKey:t,nameKey:void 0,name:km(o,t),hide:s,type:e.tooltipType,color:NL(n,a),unit:l}}}function LL(e){var{clipPathId:t,points:n,props:i}=e,{needClip:a,dot:o,dataKey:s}=i;if(!function(e,t){return null!=e&&(!!t||1===e.length)}(n,o))return null;var l=vS(o),c=dS(i),u=yS(o,!0),d=n.map((e,t)=>{var i=IL(IL(IL({key:"dot-".concat(t),r:3},c),u),{},{index:t,cx:e.x,cy:e.y,dataKey:s,value:e.value,payload:e.payload,points:n});return((e,t)=>{var n;if(r.isValidElement(e))n=r.cloneElement(e,t);else if("function"===typeof e)n=e(t);else{var i=kd("recharts-area-dot","boolean"!==typeof e?e.className:"");n=r.createElement(gL,ML({},t,{className:i}))}return n})(o,i)}),h={clipPath:a?"url(#clipPath-".concat(l?"":"dots-").concat(t,")"):void 0};return r.createElement(WO,ML({className:"recharts-area-dots"},h),d)}function UL(e){var{showLabels:t,children:n,points:i}=e,a=i.map(e=>{var t={x:e.x,y:e.y,width:0,height:0};return IL(IL({},t),{},{value:e.value,payload:e.payload,parentViewBox:void 0,viewBox:t,fill:void 0})});return r.createElement(OM,{value:t?a:null},n)}function BL(e){var{points:t,baseLine:n,needClip:i,clipPathId:a,props:o}=e,{layout:s,type:l,stroke:c,connectNulls:u,isRange:d}=o,{id:h}=o,f=OL(o,TL),p=dS(f);return r.createElement(r.Fragment,null,(null===t||void 0===t?void 0:t.length)>1&&r.createElement(WO,{clipPath:i?"url(#clipPath-".concat(a,")"):void 0},r.createElement(jP,ML({},p,{id:h,points:t,connectNulls:u,type:l,baseLine:n,layout:s,stroke:"none",className:"recharts-area-area"})),"none"!==c&&r.createElement(jP,ML({},p,{className:"recharts-area-curve",layout:s,type:l,connectNulls:u,fill:"none",points:t})),"none"!==c&&d&&r.createElement(jP,ML({},p,{className:"recharts-area-curve",layout:s,type:l,connectNulls:u,fill:"none",points:n}))),r.createElement(LL,{points:t,props:f,clipPathId:a}))}function zL(e){var{alpha:t,baseLine:n,points:i,strokeWidth:a}=e,o=i[0].y,s=i[i.length-1].y;if(!lw(o)||!lw(s))return null;var l=t*Math.abs(o-s),c=Math.max(...i.map(e=>e.x||0));return Id(n)?c=Math.max(n,c):n&&Array.isArray(n)&&n.length&&(c=Math.max(...n.map(e=>e.x||0),c)),Id(c)?r.createElement("rect",{x:0,y:o<s?o:o-l,width:c+(a?parseInt("".concat(a),10):1),height:Math.floor(l)}):null}function KL(e){var{alpha:t,baseLine:n,points:i,strokeWidth:a}=e,o=i[0].x,s=i[i.length-1].x;if(!lw(o)||!lw(s))return null;var l=t*Math.abs(o-s),c=Math.max(...i.map(e=>e.y||0));return Id(n)?c=Math.max(n,c):n&&Array.isArray(n)&&n.length&&(c=Math.max(...n.map(e=>e.y||0),c)),Id(c)?r.createElement("rect",{x:o<s?o:o-l,y:0,width:l,height:Math.floor(c+(a?parseInt("".concat(a),10):1))}):null}function qL(e){var{alpha:t,layout:n,points:i,baseLine:a,strokeWidth:o}=e;return"vertical"===n?r.createElement(zL,{alpha:t,points:i,baseLine:a,strokeWidth:o}):r.createElement(KL,{alpha:t,points:i,baseLine:a,strokeWidth:o})}function FL(e){var{needClip:t,clipPathId:n,props:i,previousPointsRef:a,previousBaselineRef:o}=e,{points:s,baseLine:l,isAnimationActive:c,animationBegin:u,animationDuration:d,animationEasing:h,onAnimationStart:f,onAnimationEnd:p}=i,g=qI(i,"recharts-area-"),[m,v]=(0,r.useState)(!1),y=!m,b=(0,r.useCallback)(()=>{"function"===typeof p&&p(),v(!1)},[p]),_=(0,r.useCallback)(()=>{"function"===typeof f&&f(),v(!0)},[f]),x=a.current,w=o.current;return r.createElement(UL,{showLabels:y,points:s},i.children,r.createElement(KI,{animationId:g,begin:u,duration:d,isActive:c,easing:h,onAnimationEnd:b,onAnimationStart:_,key:g},e=>{if(x){var u,d=x.length/s.length,h=1===e?s:s.map((t,r)=>{var n=Math.floor(r*d);if(x[n]){var i=x[n];return IL(IL({},t),{},{x:Ld(i.x,t.x,e),y:Ld(i.y,t.y,e)})}return t});return u=Id(l)?Ld(w,l,e):Bd(l)||Od(l)?Ld(w,0,e):l.map((t,r)=>{var n=Math.floor(r*d);if(Array.isArray(w)&&w[n]){var i=w[n];return IL(IL({},t),{},{x:Ld(i.x,t.x,e),y:Ld(i.y,t.y,e)})}return t}),e>0&&(a.current=h,o.current=u),r.createElement(BL,{points:h,baseLine:u,needClip:t,clipPathId:n,props:i})}return e>0&&(a.current=s,o.current=l),r.createElement(WO,null,c&&r.createElement("defs",null,r.createElement("clipPath",{id:"animationClipPath-".concat(n)},r.createElement(qL,{alpha:e,points:s,baseLine:l,layout:i.layout,strokeWidth:i.strokeWidth}))),r.createElement(WO,{clipPath:"url(#animationClipPath-".concat(n,")")},r.createElement(BL,{points:s,baseLine:l,needClip:t,clipPathId:n,props:i})))}),r.createElement(MM,{label:i.label}))}function HL(e){var{needClip:t,clipPathId:n,props:i}=e,a=(0,r.useRef)(null),o=(0,r.useRef)();return r.createElement(FL,{needClip:t,clipPathId:n,props:i,previousPointsRef:a,previousBaselineRef:o})}class WL extends r.PureComponent{render(){var e,{hide:t,dot:n,points:i,className:a,top:o,left:s,needClip:l,xAxisId:c,yAxisId:u,width:d,height:h,id:f,baseLine:p}=this.props;if(t)return null;var g=kd("recharts-area",a),m=f,{r:v=3,strokeWidth:y=2}=null!==(e=yS(n,!1))&&void 0!==e?e:{r:3,strokeWidth:2},b=vS(n),_=2*v+y;return r.createElement(r.Fragment,null,r.createElement(WO,{className:g},l&&r.createElement("defs",null,r.createElement(SD,{clipPathId:m,xAxisId:c,yAxisId:u}),!b&&r.createElement("clipPath",{id:"clipPath-dots-".concat(m)},r.createElement("rect",{x:s-_/2,y:o-_/2,width:d+_,height:h+_}))),r.createElement(HL,{needClip:l,clipPathId:m,props:this.props})),r.createElement(bL,{points:i,mainColor:NL(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(p)&&r.createElement(bL,{points:p,mainColor:NL(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var VL={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!MP,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0};function GL(e){var t,n=tO(e,VL),{activeDot:i,animationBegin:a,animationDuration:o,animationEasing:s,connectNulls:l,dot:c,fill:u,fillOpacity:d,hide:h,isAnimationActive:f,legendType:p,stroke:g,xAxisId:m,yAxisId:v}=n,y=OL(n,SL),b=Ym(),_=_A(),{needClip:x}=TD(m,v),w=Bm(),{points:k,isRange:E,baseLine:C}=null!==(t=Lg(t=>AL(t,m,v,w,e.id)))&&void 0!==t?t:{},A=YS();if("horizontal"!==b&&"vertical"!==b||null==A)return null;if("AreaChart"!==_&&"ComposedChart"!==_)return null;var{height:T,width:S,x:O,y:P}=A;return k&&k.length?r.createElement(WL,ML({},y,{activeDot:i,animationBegin:a,animationDuration:o,animationEasing:s,baseLine:C,connectNulls:l,dot:c,fill:u,fillOpacity:d,height:T,hide:h,layout:b,isAnimationActive:f,isRange:E,legendType:p,needClip:x,points:k,stroke:g,width:S,left:O,top:P,xAxisId:m,yAxisId:v})):null}var YL=(e,t,r,n,i)=>{var a=null!==r&&void 0!==r?r:t;if(Id(a))return a;var o="horizontal"===e?i:n,s=o.scale.domain();if("number"===o.type){var l=Math.max(s[0],s[1]),c=Math.min(s[0],s[1]);return"dataMin"===a?c:"dataMax"===a||l<0?l:Math.max(Math.min(s[0],s[1]),0)}return"dataMin"===a?s[0]:"dataMax"===a?s[1]:s[0]};function QL(e){var t=tO(e,VL),n=Bm();return r.createElement(tM,{id:t.id,type:"area"},e=>r.createElement(r.Fragment,null,r.createElement(Xj,{legendPayload:RL(t)}),r.createElement(Yj,{fn:DL,args:t}),r.createElement(rM,{type:"area",id:e,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:gm(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:n,connectNulls:t.connectNulls}),r.createElement(GL,ML({},t,{id:e}))))}QL.displayName="Area";const JL=[{name:"Active",value:23},{name:"Warning",value:3},{name:"Expired",value:1}],XL=[{name:"Office 365 E3",active:18,warning:2,expired:0},{name:"Power BI Pro",active:12,warning:1,expired:0},{name:"Power Automate",active:8,warning:0,expired:0},{name:"Copilot Studio",active:5,warning:0,expired:1},{name:"Windows Store",active:3,warning:0,expired:0}],$L=[{month:"Jan",licenses:18},{month:"Feb",licenses:22},{month:"Mar",licenses:25},{month:"Apr",licenses:24},{month:"May",licenses:27},{month:"Jun",licenses:26}],ZL=["#10B981","#F59E0B","#EF4444"];function eU(){const[e,t]=(0,r.useState)("overview"),[n,i]=(0,r.useState)(!0);(0,r.useEffect)(()=>{const e=setTimeout(()=>{i(!1)},1e3);return()=>clearTimeout(e)},[]);const a=e=>{let{active:t,payload:r,label:n}=e;return t&&r&&r.length?(0,nu.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-3 rounded-lg shadow-md border border-gray-200 dark:border-gray-700",children:[(0,nu.jsx)("p",{className:"font-semibold text-gray-800 dark:text-white",children:n}),r.map((e,t)=>(0,nu.jsxs)("p",{className:"text-sm",style:{color:e.color},children:[e.name,": ",e.value]},t))]}):null};return n?(0,nu.jsx)("div",{className:"w-full h-[400px] bg-white dark:bg-gray-900 rounded-2xl shadow-lg p-6 flex items-center justify-center",children:(0,nu.jsxs)("div",{className:"text-center",children:[(0,nu.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,nu.jsx)("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"Loading license data..."})]})}):(0,nu.jsxs)("div",{className:"w-full bg-white dark:bg-gray-900 rounded-2xl shadow-lg p-6",children:[(0,nu.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-6",children:[(0,nu.jsx)("h2",{className:"text-2xl font-bold text-[#215ba6] dark:text-white",children:"License Analytics"}),(0,nu.jsx)("div",{className:"flex mt-4 md:mt-0 bg-gray-100 dark:bg-gray-800 rounded-lg p-1",children:["overview","distribution","trends"].map(r=>(0,nu.jsx)("button",{className:"px-4 py-2 text-sm font-medium rounded-md transition-colors ".concat(e===r?"bg-white dark:bg-gray-700 text-blue-600 dark:text-blue-400 shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"),onClick:()=>t(r),children:r.charAt(0).toUpperCase()+r.slice(1)},r))})]}),"overview"===e&&(0,nu.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,nu.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-xl p-4",children:[(0,nu.jsx)("h3",{className:"text-lg font-semibold mb-4 text-gray-800 dark:text-white",children:"License Status Distribution"}),(0,nu.jsx)(Wd,{width:"100%",height:300,children:(0,nu.jsxs)(lO,{children:[(0,nu.jsx)(ZM,{data:JL,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:"value",label:e=>{let{name:t,percent:r}=e;return"".concat(t,": ").concat((100*r).toFixed(0),"%")},labelLine:!1,children:JL.map((e,t)=>(0,nu.jsx)(hI,{fill:ZL[t%ZL.length]},"cell-".concat(t)))}),(0,nu.jsx)(qN,{content:(0,nu.jsx)(a,{})}),(0,nu.jsx)(iR,{iconType:"circle",iconSize:10,formatter:e=>(0,nu.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:e})})]})})]}),(0,nu.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-xl p-4",children:[(0,nu.jsx)("h3",{className:"text-lg font-semibold mb-4 text-gray-800 dark:text-white",children:"License Overview"}),(0,nu.jsxs)("div",{className:"space-y-4",children:[(0,nu.jsxs)("div",{className:"flex justify-between items-center p-4 bg-white dark:bg-gray-700 rounded-lg shadow-sm",children:[(0,nu.jsxs)("div",{children:[(0,nu.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Total Licenses"}),(0,nu.jsx)("p",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"27"})]}),(0,nu.jsx)("div",{className:"w-12 h-12 rounded-full bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center",children:(0,nu.jsx)("svg",{className:"w-6 h-6 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,nu.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})})]}),(0,nu.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,nu.jsxs)("div",{className:"p-4 bg-white dark:bg-gray-700 rounded-lg shadow-sm",children:[(0,nu.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Active"}),(0,nu.jsx)("p",{className:"text-xl font-bold text-green-600 dark:text-green-400",children:"23"})]}),(0,nu.jsxs)("div",{className:"p-4 bg-white dark:bg-gray-700 rounded-lg shadow-sm",children:[(0,nu.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Warning"}),(0,nu.jsx)("p",{className:"text-xl font-bold text-amber-600 dark:text-amber-400",children:"3"})]}),(0,nu.jsxs)("div",{className:"p-4 bg-white dark:bg-gray-700 rounded-lg shadow-sm",children:[(0,nu.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Expired"}),(0,nu.jsx)("p",{className:"text-xl font-bold text-red-600 dark:text-red-400",children:"1"})]}),(0,nu.jsxs)("div",{className:"p-4 bg-white dark:bg-gray-700 rounded-lg shadow-sm",children:[(0,nu.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Utilization"}),(0,nu.jsx)("p",{className:"text-xl font-bold text-blue-600 dark:text-blue-400",children:"85%"})]})]})]})]})]}),"distribution"===e&&(0,nu.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-xl p-4",children:[(0,nu.jsx)("h3",{className:"text-lg font-semibold mb-4 text-gray-800 dark:text-white",children:"License Distribution by Product"}),(0,nu.jsx)(Wd,{width:"100%",height:350,children:(0,nu.jsxs)(uR,{data:XL,margin:{top:20,right:30,left:20,bottom:70},children:[(0,nu.jsx)(GR,{strokeDasharray:"3 3",stroke:"#eee",strokeOpacity:.3}),(0,nu.jsx)(nD,{dataKey:"name",angle:-45,textAnchor:"end",height:60,tick:{fontSize:12}}),(0,nu.jsx)(fD,{tick:{fontSize:12}}),(0,nu.jsx)(qN,{content:(0,nu.jsx)(a,{})}),(0,nu.jsx)(iR,{}),(0,nu.jsx)(dL,{dataKey:"active",stackId:"a",fill:"#10B981",name:"Active"}),(0,nu.jsx)(dL,{dataKey:"warning",stackId:"a",fill:"#F59E0B",name:"Warning"}),(0,nu.jsx)(dL,{dataKey:"expired",stackId:"a",fill:"#EF4444",name:"Expired"})]})})]}),"trends"===e&&(0,nu.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-xl p-4",children:[(0,nu.jsx)("h3",{className:"text-lg font-semibold mb-4 text-gray-800 dark:text-white",children:"License Growth Trends"}),(0,nu.jsx)(Wd,{width:"100%",height:350,children:(0,nu.jsxs)(fL,{data:$L,margin:{top:10,right:30,left:0,bottom:0},children:[(0,nu.jsx)("defs",{children:(0,nu.jsxs)("linearGradient",{id:"colorLicenses",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,nu.jsx)("stop",{offset:"5%",stopColor:"#3B82F6",stopOpacity:.8}),(0,nu.jsx)("stop",{offset:"95%",stopColor:"#3B82F6",stopOpacity:.1})]})}),(0,nu.jsx)(GR,{strokeDasharray:"3 3",stroke:"#eee",strokeOpacity:.3}),(0,nu.jsx)(nD,{dataKey:"month",tick:{fontSize:12}}),(0,nu.jsx)(fD,{tick:{fontSize:12}}),(0,nu.jsx)(qN,{content:(0,nu.jsx)(a,{})}),(0,nu.jsx)(QL,{type:"monotone",dataKey:"licenses",stroke:"#3B82F6",fillOpacity:1,fill:"url(#colorLicenses)",name:"Total Licenses"})]})})]}),(0,nu.jsx)("div",{className:"mt-6 pt-6 border-t border-gray-200 dark:border-gray-700",children:(0,nu.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,nu.jsxs)("div",{className:"text-center",children:[(0,nu.jsx)("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:"5"}),(0,nu.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Products"})]}),(0,nu.jsxs)("div",{className:"text-center",children:[(0,nu.jsx)("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:"23"}),(0,nu.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Active Licenses"})]}),(0,nu.jsxs)("div",{className:"text-center",children:[(0,nu.jsx)("p",{className:"text-2xl font-bold text-amber-600 dark:text-amber-400",children:"3"}),(0,nu.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Need Attention"})]}),(0,nu.jsxs)("div",{className:"text-center",children:[(0,nu.jsx)("p",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:"1"}),(0,nu.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Expired"})]})]})})]})}const tU=[{name:"Mouse",stok:15,tipe:"Input Device"},{name:"Keyboard",stok:12,tipe:"Input Device"},{name:"Hardisk",stok:8,tipe:"Media Penyimpanan"},{name:"SSD",stok:10,tipe:"Media Penyimpanan"},{name:"Webcam",stok:5,tipe:"Audio"},{name:"Kabel HDMI",stok:3,tipe:"Kabel"},{name:"Switch Jaringan",stok:7,tipe:"Jaringan"},{name:"USB Hub",stok:9,tipe:"Hub/Expander"}],rU={"Input Device":"#8884d8",Kabel:"#82ca9d","Media Penyimpanan":"#ffc658",Audio:"#ff8042",Jaringan:"#0088fe","Operating System":"#ffbb28","Hub/Expander":"#00c49f",Item:"#ff6b6b"};function nU(e){let{peripheralData:t=tU}=e;const[n,i]=(0,r.useState)([]),[a,o]=(0,r.useState)("all"),[s,l]=(0,r.useState)("name");(0,r.useEffect)(()=>{c()},[t,a,s]);const c=()=>{let e=[...t];"all"!==a&&(e=e.filter(e=>e.tipe===a)),e.sort((e,t)=>"name"===s?e.name.localeCompare(t.name):t.stok-e.stok),i(e)},u=n.reduce((e,t)=>e+t.stok,0),d=n.filter(e=>e.stok<5).length,h=e=>{let{active:t,payload:r,label:n}=e;return t&&r&&r.length?(0,nu.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-3 rounded-lg shadow-md border border-gray-200 dark:border-gray-700",children:[(0,nu.jsx)("p",{className:"font-bold text-gray-800 dark:text-white",children:n}),(0,nu.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:["Tipe: ",(0,nu.jsx)("span",{className:"font-medium",children:r[0].payload.tipe})]}),(0,nu.jsxs)("p",{className:"text-sm",children:["Stok: ",(0,nu.jsx)("span",{className:"font-medium text-blue-600 dark:text-blue-400",children:r[0].value})]})]}):null};return(0,nu.jsxs)("div",{className:"w-full bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-6 transition-all duration-300 hover:shadow-xl",children:[(0,nu.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-6",children:[(0,nu.jsx)("h2",{className:"text-2xl font-bold text-[#215ba6] dark:text-white mb-4 md:mb-0",children:"Grafik Stok Peripheral"}),(0,nu.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,nu.jsxs)("select",{value:a,onChange:e=>o(e.target.value),className:"px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,nu.jsx)("option",{value:"all",children:"Semua Tipe"}),Object.keys(rU).map(e=>(0,nu.jsx)("option",{value:e,children:e},e))]}),(0,nu.jsxs)("select",{value:s,onChange:e=>l(e.target.value),className:"px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,nu.jsx)("option",{value:"name",children:"Urutkan berdasarkan Nama"}),(0,nu.jsx)("option",{value:"stok",children:"Urutkan berdasarkan Stok"})]})]})]}),(0,nu.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[(0,nu.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/30 p-4 rounded-lg",children:[(0,nu.jsx)("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:"Total Item"}),(0,nu.jsx)("p",{className:"text-2xl font-bold text-blue-800 dark:text-blue-200",children:u})]}),(0,nu.jsxs)("div",{className:"bg-red-50 dark:bg-red-900/30 p-4 rounded-lg",children:[(0,nu.jsx)("p",{className:"text-sm text-red-700 dark:text-red-300",children:"Stok Rendah (<5)"}),(0,nu.jsx)("p",{className:"text-2xl font-bold text-red-800 dark:text-red-200",children:d})]})]}),(0,nu.jsx)("div",{className:"h-80",children:(0,nu.jsx)(Wd,{width:"100%",height:"100%",children:(0,nu.jsxs)(uR,{data:n,margin:{top:5,right:30,left:20,bottom:50},children:[(0,nu.jsx)(GR,{strokeDasharray:"3 3",stroke:"#374151",opacity:.1}),(0,nu.jsx)(nD,{dataKey:"name",angle:-45,textAnchor:"end",height:60,tick:{fill:"#6B7280",fontSize:12}}),(0,nu.jsx)(fD,{tick:{fill:"#6B7280",fontSize:12},label:{value:"Jumlah Stok",angle:-90,position:"insideLeft",offset:-10,style:{fill:"#6B7280",fontSize:12}}}),(0,nu.jsx)(qN,{content:(0,nu.jsx)(h,{})}),(0,nu.jsx)(iR,{verticalAlign:"top",height:36,formatter:e=>(0,nu.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:e})}),(0,nu.jsx)(dL,{dataKey:"stok",name:"Stok",radius:[4,4,0,0],children:n.map((e,t)=>(0,nu.jsx)(hI,{fill:rU[e.tipe]||"#8884d8"},"cell-".concat(t)))})]})})}),(0,nu.jsx)("div",{className:"mt-4 flex flex-wrap gap-2 justify-center",children:Object.entries(rU).map(e=>{let[t,r]=e;return(0,nu.jsxs)("div",{className:"flex items-center",children:[(0,nu.jsx)("div",{className:"w-3 h-3 rounded-full mr-1",style:{backgroundColor:r}}),(0,nu.jsx)("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:t})]},t)})}),(0,nu.jsx)("div",{className:"mt-6 text-center text-sm text-gray-500 dark:text-gray-400",children:(0,nu.jsxs)("p",{children:["Data diperbarui: ",(new Date).toLocaleDateString("id-ID")]})})]})}const iU=[{status:"Dipakai",jumlah:74},{status:"Spare",jumlah:0},{status:"Rusak",jumlah:0},{status:"Hilang",jumlah:0},{status:"Perbaikan",jumlah:4},{status:"Tersedia",jumlah:3}],aU=["#4f8cff","#01cfc9","#f56c6c","#b99aff","#f7b731","#6d6ad7"],oU={Dipakai:"Dipakai",Spare:"Spare",Rusak:"Rusak",Hilang:"Hilang",Perbaikan:"Perbaikan",Tersedia:"Tersedia"};function sU(){return(0,nu.jsxs)("div",{className:"w-full bg-white dark:bg-gray-900 rounded-2xl shadow-lg p-6",children:[(0,nu.jsx)("h2",{className:"text-2xl font-bold mb-6 text-[#215ba6] dark:text-white",children:"Device Chart"}),(0,nu.jsx)(Wd,{width:"100%",height:340,children:(0,nu.jsxs)(uR,{data:iU,margin:{top:16,right:24,left:0,bottom:24},barSize:36,children:[(0,nu.jsx)(GR,{strokeDasharray:"4 2",vertical:!1}),(0,nu.jsx)(nD,{dataKey:"status",fontSize:16,tickLine:!1,axisLine:!1,style:{fontWeight:600}}),(0,nu.jsx)(fD,{allowDecimals:!1,tickLine:!1,axisLine:!1}),(0,nu.jsx)(qN,{contentStyle:{borderRadius:14,fontSize:15},cursor:{fill:"#4f8cff22"}}),(0,nu.jsx)(iR,{iconType:"circle",verticalAlign:"top",height:36,formatter:e=>(0,nu.jsx)("span",{style:{fontSize:14,color:"#666"},children:oU[e]||e})}),(0,nu.jsx)(dL,{dataKey:"jumlah",name:"Jumlah",radius:[12,12,4,4],animationDuration:800,label:{position:"top",fontSize:15,fill:"#215ba6",fontWeight:600},children:iU.map((e,t)=>(0,nu.jsx)(hI,{fill:aU[t%aU.length]},"cell-".concat(t)))})]})}),(0,nu.jsx)("div",{className:"mt-5 flex flex-wrap gap-3 text-sm text-gray-700 dark:text-gray-200 font-semibold",children:iU.map((e,t)=>(0,nu.jsxs)("span",{className:"flex items-center gap-2",children:[(0,nu.jsx)("span",{className:"inline-block w-4 h-4 rounded-full",style:{background:aU[t]}}),oU[e.status]]},e.status))})]})}var lU=__webpack_require__(1102);const cU=function(e,t){var r,n;let i={};try{i={}}catch(o){}const a="undefined"!==typeof process&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_BASE:"http://localhost:4000",REACT_APP_API_BASE_URL:"http://localhost:3001/api"}||{};return null!==(r=null!==(n=i[e])&&void 0!==n?n:a[t])&&void 0!==r?r:""}("VITE_API_BASE","REACT_APP_API_BASE")||"http://localhost:4000",uU=String(cU).replace(/\/+$/,""),dU="waskitainfra.sharepoint.com,32252c41-8aed-4ed2-ba35-b6e2731b0d4a,fb2ae80c-1283-4942-a3e8-0d47e8d004fb",hU="e4a152ba-ee6e-4e1d-9c74-04e8d32ea912",fU="https://waskitainfra.sharepoint.com/sites/ITHELPDESK",pU=["Sites.ReadWrite.All"],gU=["https://waskitainfra.sharepoint.com/.default"],mU="ScreenshotBuktiTicketsudahDilaku",vU=["IT & System","Business Development","Direksi","Engineering","Finance & Accounting","Human Capital","Legal","Marketing & Sales","Operation & Maintenance","Procurement & Logistic","Project","QHSE","Sekper","Warehouse","Umum"],yU=e=>String(null!==e&&void 0!==e?e:"").replaceAll("&","&amp;").replaceAll("<","&lt;").replaceAll(">","&gt;");function bU(e){try{return new Date(e).toLocaleString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"})}catch(t){return e||"-"}}function _U(e,t){const r=e.fields||e,n=t.fields||t,i=Date.parse(r.DateFinished||r.Created||r.DateReported||0)||0;return(Date.parse(n.DateFinished||n.Created||n.DateReported||0)||0)-i}function xU(e){if(!e)return null;if("string"===typeof e){var t;const r=e.includes("@")&&(null===(t=e.match(/[^\s|;<>"]+@[^\s|;<>"]+/))||void 0===t?void 0:t[0])||"",n=e.split("|").pop()||e;return{displayName:r?r.split("@")[0].replace(/[._]/g," "):n,email:r}}return"object"===typeof e?{displayName:e.displayName||e.Title||e.title||e.Name||e.EMail||e.email||e.mail||"",email:e.email||e.EMail||e.mail||""}:null}function wU(e){const t=e.fields||{};console.log("=== DEBUG: Struktur Lengkap Item ==="),console.log("Item:",e),console.log("Fields:",t);let r=null;const n=["UserRequestor","User_x0020_Requestor","RequestedBy","Requestor","Pemohon","Author","CreatedBy"];for(const s of n)if(t[s])if("object"===typeof t[s]){if(r="CreatedBy"===s&&t[s].user?{displayName:t[s].user.displayName||"",email:t[s].user.email||""}:{displayName:t[s].Title||t[s].displayName||t[s].Name||"",email:t[s].EMail||t[s].Email||t[s].mail||""},r.displayName)break}else if("string"===typeof t[s]&&(r=xU(t[s]),r.displayName))break;let i=null;const a=["Assignedto0","AssignedTo","Pelaksana","Executor"];for(const s of a)if(t[s])if("object"===typeof t[s]){if(i={displayName:t[s].Title||t[s].displayName||t[s].Name||"",email:t[s].EMail||t[s].Email||t[s].mail||""},i.displayName)break}else if("string"===typeof t[s]&&(i=xU(t[s]),i.displayName))break;const o=i||(t.Issueloggedby?{displayName:t.Issueloggedby,email:""}:null);return{spId:e.id,Title:t.Title||"",TicketNumber:t.TicketNumber||e.id,Description:t.Description||"",Priority:t.Priority||"Normal",Status:t.Status||"",Divisi:t.Divisi||"Umum",DateReported:t.DateReported||t.Created||"",DateFinished:t.DateFinished||"",UserRequestor:r,Assignedto0:o,TipeTicket:t.TipeTicket||"",Issueloggedby:t.Issueloggedby||"",Author:xU(t.Author)||null,[mU]:t[mU]||"",HasAttachments:!!t.Attachments}}function kU(){const{instance:e,accounts:t}=(0,Ne.dk)(),[n,i]=(0,r.useState)("sp"),[a,o]=(0,r.useState)([]),[s,l]=(0,r.useState)(!1),[c,u]=(0,r.useState)(""),[d,h]=(0,r.useState)(""),[f,p]=(0,r.useState)({Divisi:"",Priority:"",Status:""}),[g,m]=(0,r.useState)(null),[v,y]=(0,r.useState)({open:!1,mode:"",data:{}}),[b,_]=(0,r.useState)(null),[x,w]=(0,r.useState)(""),k=(0,r.useRef)(null),[E,C]=(0,r.useState)([]),[A,T]=(0,r.useState)(!1),[S,O]=(0,r.useState)(""),[P,I]=(0,r.useState)(null),j=(0,r.useMemo)(()=>{const e=d.trim().toLowerCase();return a.filter(t=>{var r,n,i,a,o;const s=t.fields;if(f.Status&&(s.Status||"")!==f.Status)return!1;if(f.Divisi&&(s.Divisi||"")!==f.Divisi)return!1;if(f.Priority&&(s.Priority||"")!==f.Priority)return!1;if(!e)return!0;const l=(null===(r=s.UserRequestor)||void 0===r?void 0:r.displayName)||"",c=(null===(n=s.Assignedto0)||void 0===n?void 0:n.displayName)||s.Issueloggedby||"";return[s.TicketNumber,s.Title,s.Description,s.Divisi,s.Priority,s.Status,s.TipeTicket,c,l,null===(i=s.Author)||void 0===i?void 0:i.displayName,null===(a=s.Author)||void 0===a?void 0:a.email,t.id,null===(o=t.fields)||void 0===o?void 0:o.spId].join(" ").toLowerCase().includes(e)}).sort(_U)},[a,d,f]),M=(0,r.useMemo)(()=>{const e=S.trim().toLowerCase();return E.filter(t=>!e||[t.ticketNo,t.userRequestor,t.pelaksana,t.divisi,t.prioritas,t.deskripsi,t.status,t.email].join(" ").toLowerCase().includes(e)).sort((e,t)=>{const r=Date.parse(e.DateFinished||e.Created||e.waktu||0)||0;return(Date.parse(t.DateFinished||t.Created||t.waktu||0)||0)-r})},[E,S]);async function N(){l(!0);try{const n=null===t||void 0===t?void 0:t[0];if(!n)throw new Error("Belum login MSAL");const i=await e.acquireTokenSilent({scopes:pU,account:n}),a="https://graph.microsoft.com/v1.0/sites/".concat(dU,"/lists/").concat(hU,"/items")+"?$expand=fields($select=id,Title,TicketNumber,Description,Priority,Status,Divisi,DateReported,DateFinished,TipeTicket,Issueloggedby,".concat(mU,",Attachments,UserRequestor,User_x0020_Requestor,Assignedto0,AssignedTo,Pelaksana,Author)")+"&$top=2000",s=await fetch(a,{headers:{Authorization:"Bearer ".concat(i.accessToken),Prefer:"HonorNonIndexedQueriesWarningMayFailRandomly=true"}}),l=await s.json();if(!s.ok){var r;const e=(null===l||void 0===l||null===(r=l.error)||void 0===r?void 0:r.message)||JSON.stringify(l).slice(0,200);throw new Error(e)}console.log("Data dari SharePoint (struktur lengkap):",l.value),I(l.value&&l.value.length>0?l.value[0]:l);const c=(l.value||[]).map(e=>({id:e.id,fields:wU(e)})).sort(_U);o(c),m(null)}catch(QU){console.error(QU),u("Gagal mengambil data SharePoint: "+((null===QU||void 0===QU?void 0:QU.message)||QU)),o([])}finally{l(!1)}}function R(e){try{return new URL(e,window.location.origin).host!==window.location.host}catch(t){return!1}}async function D(e){const t={headers:{},credentials:R(e)?"omit":"include"},r=await fetch(e,t),n=r.headers.get("content-type")||"";if(!r.ok)throw console.warn("try url fail: ".concat(e," HTTP ").concat(r.status," @ ").concat(e)),new Error("HTTP ".concat(r.status," @ ").concat(e));if(!n.includes("application/json")){const t=(await r.text().catch(()=>"")).slice(0,160).replace(/\s+/g," ");throw new Error("Non-JSON (".concat(r.status,") @ ").concat(e,": ").concat(t))}return await r.json()}async function L(){T(!0);try{const t=["".concat(uU,"/api/tickets?status=Selesai"),"".concat(uU,"/api/tickets"),"/api/tickets?status=Selesai","/api/tickets","/tickets?status=Selesai","/tickets"];let r=null;for(const i of t)try{if(r=await D(i),r&&(Array.isArray(r.rows)||Array.isArray(r)))break}catch(e){}if(!r){const e=localStorage.getItem("helpdesk_demo_tickets_solved");if(e)return C(JSON.parse(e)),void T(!1);r={rows:[{id:9001,TicketNumber:"TKT-DUMMY-9001",Created:(new Date).toISOString(),DateFinished:(new Date).toISOString(),Title:"User Dummy",Division:"Umum",Priority:"Normal",Status:"Selesai",Description:"Contoh tiket solved (dummy).",PhotoUrl:""}]}}const n=(Array.isArray(r)?r:r.rows||[]).map(NU).sort((e,t)=>{const r=Date.parse(e.DateFinished||e.Created||e.waktu||0)||0;return(Date.parse(t.DateFinished||t.Created||t.waktu||0)||0)-r});C(n),localStorage.setItem("helpdesk_demo_tickets_solved",JSON.stringify(n))}catch(QU){console.error(QU),C([])}finally{T(!1)}}function U(){_(null),x&&URL.revokeObjectURL(x),w(""),k.current&&(k.current.value="")}function B(){U()}return(0,r.useEffect)(()=>{"sp"===n&&N(),"staging"===n&&L()},[n]),(0,nu.jsxs)("div",{className:"relative min-h-screen flex flex-col items-center py-4 bg-gray-100 dark:bg-gray-900 text-gray-900 dark:text-white",children:[c&&(0,nu.jsx)("div",{className:"fixed top-4 left-1/2 -translate-x-1/2 z-50 bg-emerald-600 text-white px-6 py-3 rounded shadow-md font-bold",onClick:()=>u(""),children:c}),(0,nu.jsxs)("div",{className:"relative z-10 w-full max-w-[95vw]",children:[(0,nu.jsxs)("div",{className:"mb-3 flex gap-2",children:[(0,nu.jsx)("button",{className:"px-4 py-2 rounded-xl border ".concat("sp"===n?"bg-indigo-600 text-white":"bg-white dark:bg-gray-700 text-gray-900 dark:text-white hover:bg-gray-50 dark:hover:bg-gray-600"),onClick:()=>i("sp"),children:"Dari SharePoint"}),(0,nu.jsx)("button",{className:"px-4 py-2 rounded-xl border ".concat("staging"===n?"bg-indigo-600 text-white":"bg-white dark:bg-gray-700 text-gray-900 dark:text-white hover:bg-gray-50 dark:hover:bg-gray-600"),onClick:()=>i("staging"),children:"Dari Ticket Entry (Staging)"})]}),"sp"===n&&(0,nu.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-xl",children:[(0,nu.jsxs)("div",{className:"flex flex-wrap justify-between items-start gap-3 mb-4",children:[(0,nu.jsxs)("div",{children:[(0,nu.jsx)("h2",{className:"text-3xl font-bold mb-1 text-[#215ba6] dark:text-blue-400",children:"Ticket Solved"}),(0,nu.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Data SharePoint List: ",(0,nu.jsx)("code",{className:"bg-gray-100 dark:bg-gray-700 px-1 rounded",children:"TICKETS"})]})]}),(0,nu.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,nu.jsx)("input",{value:d,onChange:e=>h(e.target.value),placeholder:"Cari\u2026",className:"px-3 py-2 rounded border border-gray-300 dark:bg-gray-700 dark:text-white dark:border-gray-600 w-64"}),(0,nu.jsxs)("select",{className:"px-3 py-2 rounded border border-gray-300 dark:bg-gray-700 dark:text-white dark:border-gray-600",value:f.Divisi,onChange:e=>p(t=>(0,Re.A)((0,Re.A)({},t),{},{Divisi:e.target.value})),children:[(0,nu.jsx)("option",{value:"",children:"All Divisi"}),vU.map(e=>(0,nu.jsx)("option",{value:e,children:e},e))]}),(0,nu.jsxs)("select",{className:"px-3 py-2 rounded border border-gray-300 dark:bg-gray-700 dark:text-white dark:border-gray-600",value:f.Priority,onChange:e=>p(t=>(0,Re.A)((0,Re.A)({},t),{},{Priority:e.target.value})),children:[(0,nu.jsx)("option",{value:"",children:"All Prioritas"}),["Low","Normal","High"].map(e=>(0,nu.jsx)("option",{value:e,children:e},e))]}),(0,nu.jsx)("select",{className:"px-3 py-2 rounded border border-gray-300 dark:bg-gray-700 dark:text-white dark:border-gray-600",value:f.Status,onChange:e=>p(t=>(0,Re.A)((0,Re.A)({},t),{},{Status:e.target.value})),children:["","Belum","Selesai","Pending"].map(e=>(0,nu.jsx)("option",{value:e,children:e||"All Status"},e||"all"))}),(0,nu.jsx)("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded",onClick:N,disabled:s,children:s?"Loading...":"Reload"}),(0,nu.jsx)("button",{className:"px-4 py-2 rounded border border-gray-300 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-700 dark:text-white",onClick:function(){const e=j.map(e=>{var t,r;const n=e.fields,i=(null===(t=n.UserRequestor)||void 0===t?void 0:t.displayName)||"",a=(null===(r=n.Assignedto0)||void 0===r?void 0:r.displayName)||n.Issueloggedby||"";return"\n        <tr>\n          <td>".concat(yU(n.TicketNumber),"</td>\n          <td>").concat(yU(bU(n.DateReported)),"</td>\n          <td>").concat(yU(bU(n.DateFinished)),"</td>\n          <td>").concat(yU(i),"</td>\n          <td>").concat(yU(a),"</td>\n          <td>").concat(yU(n.Divisi),"</td>\n          <td>").concat(yU(n.Priority),"</td>\n          <td>").concat(yU(n.Status),"</td>\n          <td>").concat(yU(n.Description),"</td>\n        </tr>")}).join(""),t="<!doctype html><html><head>".concat('\n      <meta charset="utf-8"/>\n      <title>Ticket Solved (SharePoint)</title>\n      <style>\n        @page { size: A4 landscape; margin: 12mm; }\n        body { font: 12px/1.45 system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif; color:#000; }\n        h1 { margin:0 0 8px; font-size:18px; }\n        table { width:100%; border-collapse:collapse; border:1.5pt solid #000; }\n        th,td { border:0.9pt solid\n                th,td { border:0.9pt solid #000; padding:6px 8px; vertical-align:top; }\n        thead th { background:#f3f4f6; text-align:left; }\n      </style>\n    ',"</head><body>\n      <h1>Ticket Solved (SharePoint)</h1>\n      <table>\n        <thead><tr>\n          <th>No. Ticket</th><th>Waktu Lapor</th><th>Waktu Selesai</th><th>User Requestor</th><th>Pelaksana</th>\n          <th>Divisi</th><th>Prioritas</th><th>Status</th><th>Deskripsi</th>\n        </tr></thead><tbody>").concat(e,"</tbody></table>\n      <script>onload=()=>{print();setTimeout(()=>close(),300)}<\/script>\n    </body></html>"),r=window.open("","_blank","noopener,noreferrer");r.document.open(),r.document.write(t),r.document.close()},children:"Print"}),(0,nu.jsx)("button",{className:"px-5 py-2 rounded bg-cyan-600 hover:bg-cyan-700 text-white font-bold",onClick:function(){B(),y({open:!0,mode:"create",data:{Title:"",TicketNumber:"",Description:"",Priority:"Normal",Status:"Selesai",Divisi:"Umum",DateReported:(new Date).toISOString(),DateFinished:(new Date).toISOString(),TipeTicket:"",Assignedto0:"",Issueloggedby:""}})},children:"+ Tambah Ticket"}),g&&(0,nu.jsxs)(nu.Fragment,{children:[(0,nu.jsx)("button",{className:"px-4 py-2 rounded bg-yellow-500 hover:bg-yellow-600 text-black",onClick:function(){g&&(B(),y({open:!0,mode:"edit",data:(0,Re.A)((0,Re.A)({},g.fields),{},{spId:g.id})}))},children:"Edit"}),(0,nu.jsx)("button",{className:"px-4 py-2 rounded bg-red-600 hover:bg-red-700 text-white",onClick:async function(){if(g&&window.confirm("Hapus Ticket #".concat(g.fields.TicketNumber||g.id,"?"))){l(!0);try{const r=null===t||void 0===t?void 0:t[0],n=await e.acquireTokenSilent({scopes:pU,account:r}),i=await fetch("https://graph.microsoft.com/v1.0/sites/".concat(dU,"/lists/").concat(hU,"/items/").concat(g.id),{method:"DELETE",headers:{Authorization:"Bearer ".concat(n.accessToken)}});if(!i.ok)throw new Error(await i.text());u("Data berhasil dihapus."),await N()}catch(QU){console.error(QU),u("Gagal menghapus: "+((null===QU||void 0===QU?void 0:QU.message)||QU))}finally{l(!1)}}},children:"Hapus"})]})]})]}),(0,nu.jsxs)("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:["Total: ",j.length,d?" (dari ".concat(a.length,")"):""]}),(0,nu.jsx)("div",{className:"overflow-x-auto bg-white dark:bg-gray-700 rounded-xl shadow min-h-[350px]",children:(0,nu.jsxs)("table",{className:"min-w-full w-full text-base table-auto",children:[(0,nu.jsx)("thead",{children:(0,nu.jsxs)("tr",{className:"bg-blue-50 dark:bg-blue-900 text-[#215ba6] dark:text-blue-300 text-lg",children:[(0,nu.jsx)(EU,{className:"w-28",children:"No. Ticket"}),(0,nu.jsx)(EU,{className:"w-44",children:"Waktu Lapor"}),(0,nu.jsx)(EU,{className:"w-44",children:"Waktu Selesai"}),(0,nu.jsx)(EU,{className:"w-56",children:"User Requestor"}),(0,nu.jsx)(EU,{className:"w-56",children:"Pelaksana (Tim IT)"}),(0,nu.jsx)(EU,{className:"w-40",children:"Divisi"}),(0,nu.jsx)(EU,{className:"w-32",children:"Prioritas"}),(0,nu.jsx)(EU,{className:"w-28",children:"Status"}),(0,nu.jsx)(EU,{children:"Deskripsi"}),(0,nu.jsx)(EU,{className:"w-28",children:"Lampiran"})]})}),(0,nu.jsx)("tbody",{children:s?(0,nu.jsx)("tr",{children:(0,nu.jsx)("td",{colSpan:10,className:"px-5 py-10 text-center text-gray-400",children:"Loading data..."})}):0===j.length?(0,nu.jsx)("tr",{children:(0,nu.jsx)("td",{colSpan:10,className:"px-5 py-10 text-center text-gray-400",children:"Tidak ada data."})}):j.map((r,n)=>(0,nu.jsx)(PU,{r:r,zebra:n%2===1,onSelect:()=>m(r),selected:(null===g||void 0===g?void 0:g.id)===r.id,msal:{instance:e,accounts:t}},r.id))})]})})]}),"staging"===n&&(0,nu.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-xl",children:[(0,nu.jsxs)("div",{className:"flex flex-wrap justify-between items-start gap-3 mb-4",children:[(0,nu.jsxs)("div",{children:[(0,nu.jsx)("h2",{className:"text-3xl font-bold mb-1 text-[#215ba6] dark:text-blue-400",children:"Ticket Solved \u2014 Dari Ticket Entry (Staging)"}),(0,nu.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Sumber data: ",(0,nu.jsxs)("code",{className:"bg-gray-100 dark:bg-gray-700 px-1 rounded",children:[uU,"/api/tickets?status=Selesai"]})]})]}),(0,nu.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,nu.jsx)("input",{value:S,onChange:e=>O(e.target.value),placeholder:"Cari\u2026",className:"px-3 py-2 rounded border border-gray-300 dark:bg-gray-700 dark:text-white dark:border-gray-600 w-64"}),(0,nu.jsx)("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded",onClick:L,disabled:A,children:A?"Loading...":"Reload"}),(0,nu.jsx)("button",{className:"px-4 py-2 rounded border border-gray-300 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-700 dark:text-white",onClick:function(){const e=M.map(e=>"\n      <tr>\n        <td>".concat(yU(e.ticketNo||e.TicketNumber||""),"</td>\n        <td>").concat(yU(bU(e.Created||e.waktu)),"</td>\n        <td>").concat(yU(bU(e.DateFinished||"")),"</td>\n        <td>").concat(yU(e.userRequestor||e.Title||""),"</td>\n        <td>").concat(yU(e.pelaksana||""),"</td>\n        <td>").concat(yU(e.divisi||e.Division||"Umum"),"</td>\n        <td>").concat(yU(e.prioritas||e.Priority||"Normal"),"</td>\n        <td>").concat(yU(e.status||e.Status||""),"</td>\n        <td>").concat(yU(e.deskripsi||e.Description||""),"</td>\n      </tr>\n    ")).join(""),t="<!doctype html><html><head>".concat('\n      <meta charset="utf-8"/>\n      <title>Ticket Solved (Staging)</title>\n      <style>\n        @page { size: A4 landscape; margin: 12mm; }\n        body { font: 12px/1.45 system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif; color:#000; }\n        h1 { margin:0 0 8px; font-size:18px; }\n        table { width:100%; border-collapse:collapse; border:1.5pt solid #000; }\n        th,td { border:0.9pt solid #000; padding:6px 8px; vertical-align:top; }\n        thead th { background:#f3f4f6; text-align:left; }\n      </style>\n    ',"</head><body>\n      <h1>Ticket Solved (Staging)</h1>\n      <table>\n        <thead><tr>\n          <th>No. Ticket</th><th>Waktu Lapor</th><th>Waktu Selesai</th><th>User Requestor</th><th>Pelaksana</th>\n          <th>Divisi</th><th>Prioritas</th><th>Status</th><th>Deskripsi</th>\n        </tr></thead><tbody>").concat(e,"</tbody></table>\n      <script>onload=()=>{print();setTimeout(()=>close(),300)}<\/script>\n    </body></html>"),r=window.open("","_blank","noopener,noreferrer");r.document.open(),r.document.write(t),r.document.close()},children:"Print"})]})]}),(0,nu.jsxs)("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:["Total: ",M.length,S?" (dari ".concat(E.length,")"):""]}),(0,nu.jsx)("div",{className:"overflow-x-auto bg-white dark:bg-gray-700 rounded-xl shadow min-h-[350px]",children:(0,nu.jsxs)("table",{className:"min-w-full w-full text-base table-auto",children:[(0,nu.jsx)("thead",{children:(0,nu.jsxs)("tr",{className:"bg-blue-50 dark:bg-blue-900 text-[#215ba6] dark:text-blue-300 text-lg",children:[(0,nu.jsx)(EU,{className:"w-28",children:"No. Ticket"}),(0,nu.jsx)(EU,{className:"w-44",children:"Waktu Lapor"}),(0,nu.jsx)(EU,{className:"w-44",children:"Waktu Selesai"}),(0,nu.jsx)(EU,{className:"w-56",children:"User Requestor"}),(0,nu.jsx)(EU,{className:"w-56",children:"Pelaksana (Tim IT)"}),(0,nu.jsx)(EU,{className:"w-40",children:"Divisi"}),(0,nu.jsx)(EU,{className:"w-32",children:"Prioritas"}),(0,nu.jsx)(EU,{className:"w-28",children:"Status"}),(0,nu.jsx)(EU,{children:"Deskripsi"}),(0,nu.jsx)(EU,{className:"w-28",children:"Lampiran"})]})}),(0,nu.jsx)("tbody",{children:A?(0,nu.jsx)("tr",{children:(0,nu.jsx)("td",{colSpan:10,className:"px-5 py-10 text-center text-gray-400",children:"Loading data..."})}):0===M.length?(0,nu.jsx)("tr",{children:(0,nu.jsx)("td",{colSpan:10,className:"px-5 py-10 text-center text-gray-400",children:"Tidak ada data."})}):M.map((e,t)=>(0,nu.jsx)(IU,{r:e,zebra:t%2===1},e.id||e.ticketNo||t))})]})})]})]}),v.open&&"sp"===n&&(0,nu.jsx)(jU,{mode:v.mode,data:v.data,onClose:()=>{y({open:!1,mode:"",data:{}}),B()},onSubmit:async function(r){if(r.preventDefault(),!s){l(!0);try{const n=null===t||void 0===t?void 0:t[0],i=await e.acquireTokenSilent({scopes:pU,account:n}),a=new FormData(r.currentTarget),o=Object.fromEntries(a.entries()),s=function(e){return{Title:e.Title||(e.Description?String(e.Description).slice(0,120):"Ticket ".concat(e.TicketNumber||"")),TicketNumber:e.TicketNumber||"",Description:e.Description||"",Priority:e.Priority||"Normal",Status:e.Status||"Selesai",Divisi:e.Divisi||"Umum",DateReported:e.DateReported||void 0,DateFinished:e.DateFinished||void 0,TipeTicket:e.TipeTicket||void 0,Assignedto0:e.Assignedto0||void 0,Issueloggedby:e.Issueloggedby||void 0}}({Title:o.Title,TicketNumber:o.TicketNumber,Description:o.Description,Priority:o.Priority||"Normal",Status:o.Status||"Selesai",Divisi:o.Divisi||"Umum",DateReported:o.DateReported||void 0,DateFinished:o.DateFinished||void 0,TipeTicket:o.TipeTicket||void 0,Assignedto0:o.Assignedto0||void 0,Issueloggedby:o.Issueloggedby||void 0});let l=null;if("create"===v.mode){const e=await fetch("https://graph.microsoft.com/v1.0/sites/".concat(dU,"/lists/").concat(hU,"/items"),{method:"POST",headers:{Authorization:"Bearer ".concat(i.accessToken),"Content-Type":"application/json"},body:JSON.stringify({fields:s})});if(!e.ok)throw new Error(await e.text());const t=await e.json();l=null===t||void 0===t?void 0:t.id}else{if(l=null===g||void 0===g?void 0:g.id,!l)throw new Error("Tidak ada item terpilih.");const e=await fetch("https://graph.microsoft.com/v1.0/sites/".concat(dU,"/lists/").concat(hU,"/items/").concat(l,"/fields"),{method:"PATCH",headers:{Authorization:"Bearer ".concat(i.accessToken),"Content-Type":"application/json"},body:JSON.stringify(s)});if(!e.ok)throw new Error(await e.text())}if(l&&b){const r=await async function(e,t,r,n){const i=null===t||void 0===t?void 0:t[0],a=await e.acquireTokenSilent({scopes:gU,account:i}),o=await n.arrayBuffer(),s="".concat(fU,"/_api/web/lists(guid'").concat(hU,"')/items(").concat(r,")/AttachmentFiles/add(FileName='").concat(encodeURIComponent(n.name),"')"),l=await fetch(s,{method:"POST",headers:{Authorization:"Bearer ".concat(a.accessToken),Accept:"application/json;odata=verbose","Content-Type":"application/octet-stream"},body:o}),c=await l.text();if(!l.ok)throw console.error("Upload error:",c),new Error("Gagal upload lampiran");return{fileName:n.name}}(e,t,l,b);await async function(e,t,r,n){const i=null===t||void 0===t?void 0:t[0],a=await e.acquireTokenSilent({scopes:pU,account:i}),o={[mU]:n},s=await fetch("https://graph.microsoft.com/v1.0/sites/".concat(dU,"/lists/").concat(hU,"/items/").concat(r,"/fields"),{method:"PATCH",headers:{Authorization:"Bearer ".concat(a.accessToken),"Content-Type":"application/json"},body:JSON.stringify(o)});if(!s.ok){const e=await s.text();console.warn("Set photo meta failed:",e)}}(e,t,l,r.fileName)}u("create"===v.mode?"Berhasil menambahkan data.":"Perubahan tersimpan."),y({open:!1,mode:"",data:{}}),B(),await N()}catch(r){console.error(r),u("Gagal simpan: "+((null===r||void 0===r?void 0:r.message)||r))}finally{l(!1)}}},onPickPhoto:function(e){var t;const r=null===(t=e.target.files)||void 0===t?void 0:t[0];if(r){_(r);const e=URL.createObjectURL(r);w(e)}},onRemovePhoto:U,fileInputRef:k,photoPreview:x}),(0,nu.jsx)(RU,{data:P,title:"Struktur Data SharePoint"})]})}function EU(e){let{children:t,className:r=""}=e;return(0,nu.jsx)("th",{className:"px-5 py-4 font-semibold text-xs uppercase tracking-wide ".concat(r),children:t})}function CU(e){let{children:t,className:r=""}=e;return(0,nu.jsx)("td",{className:"px-5 py-3 align-top text-gray-900 dark:text-white ".concat(r),children:t})}function AU(e){let{name:t=""}=e;const n=(0,r.useMemo)(()=>{var e,r;const n=String(t||"").trim().split(/\s+/);return((null===(e=n[0])||void 0===e?void 0:e[0])||"?")+((null===(r=n[1])||void 0===r?void 0:r[0])||"")},[t]);return(0,nu.jsx)("div",{className:"w-9 h-9 rounded-full bg-gradient-to-br from-indigo-500 to-purple-500 text-white flex items-center justify-center text-sm font-semibold shadow",children:String(n).toUpperCase()})}function TU(e){let{children:t}=e;return(0,nu.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 rounded bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-gray-600 text-xs",children:t})}function SU(e){let{value:t=""}=e;const r=String(t||"").toLowerCase(),n=r.includes("high")||r.includes("tinggi")?"bg-red-100 dark:bg-red-800 text-red-800 dark:text-red-100 border-red-200 dark:border-red-700":r.includes("low")||r.includes("rendah")?"bg-green-100 dark:bg-green-800 text-green-800 dark:text-green-100 border-green-200 dark:border-green-700":"bg-yellow-100 dark:bg-yellow-800 text-yellow-800 dark:text-yellow-100 border-yellow-200 dark:border-yellow-700";return(0,nu.jsx)("span",{className:"inline-flex px-2 py-0.5 rounded border text-xs ".concat(n),children:t||"-"})}function OU(e){let{value:t=""}=e;const r=String(t||"").toLowerCase(),n="selesai"===r?"bg-emerald-100 dark:bg-emerald-800 text-emerald-800 dark:text-emerald-100 border-emerald-200 dark:border-emerald-700":"belum"===r?"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 border-gray-200 dark:border-gray-600":"bg-yellow-100 dark:bg-yellow-800 text-yellow-800 dark:text-yellow-100 border-yellow-200 dark:border-yellow-700";return(0,nu.jsx)("span",{className:"inline-flex px-2 py-0.5 rounded border text-xs ".concat(n),children:t||"-"})}function PU(e){var t,r,n,i;let{r:a,zebra:o,onSelect:s,selected:l,msal:c}=e;const u=a.fields,d=(null===(t=u.UserRequestor)||void 0===t?void 0:t.displayName)||"-",h=(null===(r=u.UserRequestor)||void 0===r?void 0:r.email)||"",f=(null===(n=u.Assignedto0)||void 0===n?void 0:n.displayName)||u.Issueloggedby||"-",p=(null===(i=u.Assignedto0)||void 0===i?void 0:i.email)||"";return(0,nu.jsxs)("tr",{onClick:s,className:"cursor-pointer ".concat(l?"bg-purple-200 dark:bg-purple-800 font-bold":o?"bg-blue-50/60 dark:bg-blue-900/60":""," hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors"),children:[(0,nu.jsx)(CU,{children:u.TicketNumber||a.id}),(0,nu.jsx)(CU,{children:bU(u.DateReported)}),(0,nu.jsx)(CU,{children:bU(u.DateFinished)}),(0,nu.jsx)(CU,{children:(0,nu.jsxs)("div",{className:"flex items-center gap-3",children:[(0,nu.jsx)(AU,{name:d}),(0,nu.jsxs)("div",{className:"leading-tight",children:[(0,nu.jsx)("div",{className:"font-medium",children:d}),(0,nu.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:h})]})]})}),(0,nu.jsx)(CU,{children:(0,nu.jsxs)("div",{className:"flex items-center gap-3",children:[(0,nu.jsx)(AU,{name:f}),(0,nu.jsxs)("div",{className:"leading-tight",children:[(0,nu.jsx)("div",{className:"font-medium",children:f}),(0,nu.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:p})]})]})}),(0,nu.jsx)(CU,{children:(0,nu.jsx)(TU,{children:u.Divisi||"-"})}),(0,nu.jsx)(CU,{children:(0,nu.jsx)(SU,{value:u.Priority})}),(0,nu.jsx)(CU,{children:(0,nu.jsx)(OU,{value:u.Status})}),(0,nu.jsx)(CU,{children:(0,nu.jsx)("div",{className:"max-w-[560px] whitespace-pre-wrap",children:u.Description||"-"})}),(0,nu.jsx)(CU,{children:u[mU]?(0,nu.jsx)("button",{className:"text-indigo-600 dark:text-indigo-400 hover:underline",onClick:e=>{e.stopPropagation(),async function(e,t,r,n){const i=null===t||void 0===t?void 0:t[0],a=await e.acquireTokenSilent({scopes:gU,account:i}),o="".concat(fU,"/_api/web/lists(guid'").concat(hU,"')/items(").concat(r,")/AttachmentFiles('").concat(encodeURIComponent(n),"')/$value"),s=await fetch(o,{headers:{Authorization:"Bearer ".concat(a.accessToken)}});if(!s.ok)throw new Error("Gagal ambil lampiran: ".concat(s.status));const l=await s.blob(),c=URL.createObjectURL(l);window.open(c,"_blank","noopener,noreferrer"),setTimeout(()=>URL.revokeObjectURL(c),3e4)}(c.instance,c.accounts,a.id,u[mU])},children:"Lihat"}):(0,nu.jsx)("span",{className:"text-gray-400",children:"-"})})]})}function IU(e){let{r:t,zebra:r}=e;return(0,nu.jsxs)("tr",{className:"".concat(r?"bg-blue-50/60 dark:bg-blue-900/60":""," hover:bg-gray-50 dark:hover:bg-gray-700"),children:[(0,nu.jsx)(CU,{children:t.ticketNo||t.TicketNumber||"-"}),(0,nu.jsx)(CU,{children:bU(t.Created||t.waktu)}),(0,nu.jsx)(CU,{children:bU(t.DateFinished||"")}),(0,nu.jsx)(CU,{children:(0,nu.jsxs)("div",{className:"flex items-center gap-3",children:[(0,nu.jsx)(AU,{name:t.userRequestor||t.Title||""}),(0,nu.jsxs)("div",{className:"leading-tight",children:[(0,nu.jsx)("div",{className:"font-medium",children:t.userRequestor||t.Title||"-"}),(0,nu.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:t.email||""})]})]})}),(0,nu.jsx)(CU,{children:(0,nu.jsxs)("div",{className:"flex items-center gap-3",children:[(0,nu.jsx)(AU,{name:t.pelaksana||""}),(0,nu.jsx)("div",{className:"leading-tight",children:(0,nu.jsx)("div",{className:"font-medium",children:t.pelaksana||"-"})})]})}),(0,nu.jsx)(CU,{children:(0,nu.jsx)(TU,{children:t.divisi||t.Division||"-"})}),(0,nu.jsx)(CU,{children:(0,nu.jsx)(SU,{value:t.prioritas||t.Priority})}),(0,nu.jsx)(CU,{children:(0,nu.jsx)(OU,{value:t.status||t.Status||""})}),(0,nu.jsx)(CU,{children:(0,nu.jsx)("div",{className:"max-w-[560px] whitespace-pre-wrap",children:t.deskripsi||t.Description||"-"})}),(0,nu.jsx)(CU,{children:t.PhotoUrl?(0,nu.jsx)("a",{href:t.PhotoUrl,target:"_blank",rel:"noreferrer",className:"text-indigo-600 dark:text-indigo-400 hover:underline",children:"Lihat"}):(0,nu.jsx)("span",{className:"text-gray-400",children:"-"})})]})}function jU(e){var t;let{mode:r,data:n,onClose:i,onSubmit:a,onPickPhoto:o,onRemovePhoto:s,photoPreview:l,fileInputRef:c}=e;return(0,nu.jsxs)("div",{className:"fixed inset-0 z-50",children:[(0,nu.jsx)("div",{className:"absolute inset-0 bg-black/40",onClick:i}),(0,nu.jsxs)("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 bg-white dark:bg-gray-800 text-gray-900 dark:text-white w-[720px] max-w-[92vw] rounded-2xl shadow-2xl border border-gray-200 dark:border-gray-700",children:[(0,nu.jsxs)("div",{className:"px-5 py-4 border-b border-gray-100 dark:border-gray-700 flex items-center justify-between",children:[(0,nu.jsxs)("div",{className:"font-semibold",children:["edit"===r?"Edit":"Tambah"," Ticket"]}),(0,nu.jsx)("button",{onClick:i,className:"text-sm text-gray-500 hover:underline",children:"tutup"})]}),(0,nu.jsxs)("form",{onSubmit:a,className:"px-5 py-4 space-y-4",children:[(0,nu.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,nu.jsxs)("div",{children:[(0,nu.jsx)("label",{className:"block text-sm font-semibold mb-1",children:"No. Ticket"}),(0,nu.jsx)("input",{name:"TicketNumber",defaultValue:n.TicketNumber||"",className:"border rounded w-full px-3 py-2 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-white"})]}),(0,nu.jsxs)("div",{children:[(0,nu.jsx)("label",{className:"block text-sm font-semibold mb-1",children:"Judul (Title)"}),(0,nu.jsx)("input",{name:"Title",defaultValue:n.Title||"",className:"border rounded w-full px-3 py-2 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-white"})]}),(0,nu.jsxs)("div",{children:[(0,nu.jsx)("label",{className:"block text-sm font-semibold mb-1",children:"Divisi"}),(0,nu.jsx)("select",{name:"Divisi",defaultValue:n.Divisi||"Umum",className:"border rounded w-full px-3 py-2 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-white",children:vU.map(e=>(0,nu.jsx)("option",{value:e,children:e},e))})]}),(0,nu.jsxs)("div",{children:[(0,nu.jsx)("label",{className:"block text-sm font-semibold mb-1",children:"Prioritas"}),(0,nu.jsx)("select",{name:"Priority",defaultValue:n.Priority||"Normal",className:"border rounded w-full px-3 py-2 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-white",children:["Low","Normal","High"].map(e=>(0,nu.jsx)("option",{value:e,children:e},e))})]}),(0,nu.jsxs)("div",{children:[(0,nu.jsx)("label",{className:"block text-sm font-semibold mb-1",children:"Status"}),(0,nu.jsx)("select",{name:"Status",defaultValue:n.Status||"Selesai",className:"border rounded w-full px-3 py-2 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-white",children:["Belum","Pending","Selesai"].map(e=>(0,nu.jsx)("option",{value:e,children:e},e))})]}),(0,nu.jsxs)("div",{children:[(0,nu.jsx)("label",{className:"block text-sm font-semibold mb-1",children:"Tipe Ticket"}),(0,nu.jsx)("input",{name:"TipeTicket",defaultValue:n.TipeTicket||"",className:"border rounded w-full px-3 py-2 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-white"})]}),(0,nu.jsxs)("div",{children:[(0,nu.jsx)("label",{className:"block text-sm font-semibold mb-1",children:"Assigned To"}),(0,nu.jsx)("input",{name:"Assignedto0",defaultValue:(null===(t=n.Assignedto0)||void 0===t?void 0:t.displayName)||n.Assignedto0||"",className:"border rounded w-full px-3 py-2 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-white",placeholder:"Nama/ID internal"})]}),(0,nu.jsxs)("div",{children:[(0,nu.jsx)("label",{className:"block text-sm font-semibold mb-1",children:"Pelaksana (Operator)"}),(0,nu.jsx)("input",{name:"Issueloggedby",defaultValue:n.Issueloggedby||"",className:"border rounded w-full px-3 py-2 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-white"})]}),(0,nu.jsxs)("div",{children:[(0,nu.jsx)("label",{className:"block text-sm font-semibold mb-1",children:"Waktu Lapor"}),(0,nu.jsx)("input",{name:"DateReported",defaultValue:n.DateReported||"",className:"border rounded w-full px-3 py-2 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-white",placeholder:"ISO string / yyyy-mm-dd"})]}),(0,nu.jsxs)("div",{children:[(0,nu.jsx)("label",{className:"block text-sm font-semibold mb-1",children:"Waktu Selesai"}),(0,nu.jsx)("input",{name:"DateFinished",defaultValue:n.DateFinished||"",className:"border rounded w-full px-3 py-2 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-white",placeholder:"ISO string / yyyy-mm-dd"})]}),(0,nu.jsxs)("div",{className:"sm:col-span-2",children:[(0,nu.jsx)("label",{className:"block text-sm font-semibold mb-1",children:"Deskripsi"}),(0,nu.jsx)("textarea",{name:"Description",defaultValue:n.Description||"",rows:3,className:"border rounded w-full px-3 py-2 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-white"})]})]}),(0,nu.jsxs)("div",{children:[(0,nu.jsx)("label",{className:"block text-sm font-semibold mb-1",children:"Foto Bukti Selesai (opsional)"}),(0,nu.jsx)("input",{ref:c,type:"file",accept:"image/*",onChange:o,className:"block w-full text-sm file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"}),l?(0,nu.jsxs)("div",{className:"mt-3 flex items-center gap-3",children:[(0,nu.jsx)("img",{src:l,alt:"preview",className:"h-20 w-20 object-cover rounded-lg border"}),(0,nu.jsx)("button",{type:"button",onClick:s,className:"text-red-600 hover:underline",children:"Hapus foto"})]}):null!==n&&void 0!==n&&n[mU]?(0,nu.jsx)(MU,{metaName:n[mU],itemId:n.spId}):null]}),(0,nu.jsxs)("div",{className:"flex justify-end gap-2 pt-2",children:[(0,nu.jsx)("button",{type:"button",className:"px-4 py-2 rounded bg-gray-200 dark:bg-gray-700 dark:text-white",onClick:i,children:"Batal"}),(0,nu.jsx)("button",{type:"submit",className:"px-5 py-2 rounded bg-blue-600 text-white font-bold",children:"Simpan"})]})]})]})]})}function MU(e){let{metaName:t,itemId:r}=e;if(!t||!r)return null;const n=((e,t)=>"".concat(fU,"/_api/web/lists(guid'").concat(hU,"')/items(").concat(e,")/AttachmentFiles('").concat(encodeURIComponent(t),"')/$value"))(r,t);return(0,nu.jsx)("div",{className:"mt-3",children:(0,nu.jsx)("img",{src:n,alt:"current",className:"h-20 w-20 object-cover rounded-lg border"})})}function NU(e){var t,r,n,i,a,o,s,l,c,u,d,h;const f=e.fields||e,p=f["Divisi/ Departemen"]||f.Division||f.Divisi||e.Division||"Umum",g=f.Prioritas||f.Priority||e.Priority||"Normal";return{id:null!==(t=null!==(r=e.id)&&void 0!==r?r:f.id)&&void 0!==t?t:f.ID,ticketNo:f.TicketNumber||f["Ticket Number"]||e.TicketNumber||"",Created:f.Created||e.createdDateTime||e.Created||(new Date).toISOString(),DateFinished:f.DateFinished||e.DateFinished||"",userRequestor:(null===(n=f["User Requestor"])||void 0===n?void 0:n.displayName)||(null===(i=f.UserRequestor)||void 0===i?void 0:i.displayName)||(null===(a=f.RequestedBy)||void 0===a?void 0:a.displayName)||(null===(o=f.Requestor)||void 0===o?void 0:o.displayName)||f.Nama||f.Title||"\u2014",email:(null===(s=f["User Requestor"])||void 0===s?void 0:s.email)||(null===(l=f.UserRequestor)||void 0===l?void 0:l.email)||(null===(c=f.RequestedBy)||void 0===c?void 0:c.email)||(null===(u=f.Requestor)||void 0===u?void 0:u.email)||f.email||e.email||"",pelaksana:f.Pelaksana||e.Pelaksana||(null===(d=f.Assignedto0)||void 0===d?void 0:d.displayName)||(null===(h=e.Assignedto0)||void 0===h?void 0:h.displayName)||"",divisi:p,prioritas:g,deskripsi:f["Insiden/ Keluhan saat ini"]||f.Description||f.Deskripsi||e.Description||"",PhotoUrl:f["Screenshot Bukti Insiden/ Keluhan"]||f.PhotoUrl||e.PhotoUrl||"",status:f.Status||e.Status||"Selesai"}}function RU(e){let{data:t,title:n="Debug Info"}=e;const[i,a]=(0,r.useState)(!1);return t?(0,nu.jsxs)("div",{className:"fixed bottom-4 right-4 z-50",children:[(0,nu.jsx)("button",{onClick:()=>a(!i),className:"bg-red-500 text-white px-3 py-1 rounded-md text-sm",children:i?"Tutup Debug":"Buka Debug"}),i&&(0,nu.jsxs)("div",{className:"mt-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md shadow-lg p-4 max-w-lg max-h-96 overflow-auto",children:[(0,nu.jsx)("h3",{className:"font-bold mb-2",children:n}),(0,nu.jsx)("pre",{className:"text-xs whitespace-pre-wrap",children:JSON.stringify(t,null,2)})]})]}):null}var DU=__webpack_require__(605);const LU="adminapp@waskitainfrastruktur.co.id",UU="wki_admin_emails_v2";function BU(e){return e?Array.isArray(e)?e.map(e=>String(e).toLowerCase().trim()).filter(Boolean):String(e).split(",").map(e=>e.toLowerCase().trim()).filter(Boolean):[]}const zU=LU;const KU="development"===void 0||!1,qU=function(){return KU&&console.log(...arguments)};function FU(){const{accounts:e}=(0,Ne.dk)(),[t,n]=(0,r.useState)(null),i=(0,r.useMemo)(()=>function(e){if(!e)return"";const t=e.idTokenClaims||{};return String(t.preferred_username||t.email||e.username||"").toLowerCase().trim()}(null===e||void 0===e?void 0:e[0]),[e]);(0,r.useEffect)(()=>{let e=!0;return(async()=>{const t=await async function(){try{const e=sessionStorage.getItem(UU);if(e){const t=BU(JSON.parse(e));return t.includes(LU)||t.push(LU),new Set(t)}}catch(t){}let e=[];try{const t=await fetch("/api/config"),r=await t.json();e=BU(null===r||void 0===r?void 0:r.adminEmails)}catch(r){}e.includes(LU)||e.push(LU);try{sessionStorage.setItem(UU,JSON.stringify(e))}catch(n){}return new Set(e)}();e&&n(t)})(),()=>{e=!1}},[]);const a=null!==t;return{ready:a,isAdmin:a&&!!i&&(t.has(i)||i===zU),email:i}}function HU(e){let{children:t}=e;const{ready:r,isAdmin:n}=FU();return r?n?t:(0,nu.jsx)(ge,{to:"/chat",replace:!0}):(0,nu.jsx)("div",{className:"p-6",children:"Loading\u2026"})}function WU(e){let{children:t}=e;const[n,i]=(0,r.useState)(()=>{const e=localStorage.getItem("theme");return e?"dark"===e:window.matchMedia("(prefers-color-scheme: dark)").matches});return(0,r.useEffect)(()=>{const e=document.documentElement;n?(e.classList.add("dark"),localStorage.setItem("theme","dark")):(e.classList.remove("dark"),localStorage.setItem("theme","light"))},[n]),(0,nu.jsxs)("div",{className:"flex bg-gray-100 dark:bg-gray-900 min-h-screen",children:[(0,nu.jsx)(Wu,{dark:n,toggleDark:()=>i(e=>!e)}),(0,nu.jsx)("div",{className:"flex-1 p-6 md:p-10",children:t})]})}function VU(){const{ready:e,isAdmin:t,email:n}=FU(),i=ee();return(0,r.useEffect)(()=>{if(!e)return;const r=t?"/dashboard":"/chat";qU("[LandingRouter] email:",n,"\u2192",r),i(r,{replace:!0})},[e,t,i,n]),(0,nu.jsx)("div",{className:"p-6",children:"Mengarahkan\u2026"})}function GU(){return(0,nu.jsxs)(ye,{children:[(0,nu.jsx)(me,{path:"/",element:(0,nu.jsx)(VU,{})}),(0,nu.jsx)(me,{path:"/chat",element:(0,nu.jsx)(DU.A,{})}),(0,nu.jsx)(me,{path:"/dashboard",element:(0,nu.jsx)(HU,{children:(0,nu.jsx)(WU,{children:(0,nu.jsx)($u,{})})})}),(0,nu.jsx)(me,{path:"/devices",element:(0,nu.jsx)(HU,{children:(0,nu.jsx)(WU,{children:(0,nu.jsx)(cd,{})})})}),(0,nu.jsx)(me,{path:"/peripheral",element:(0,nu.jsx)(HU,{children:(0,nu.jsx)(WU,{children:(0,nu.jsx)(vd,{})})})}),(0,nu.jsx)(me,{path:"/licenses",element:(0,nu.jsx)(HU,{children:(0,nu.jsx)(WU,{children:(0,nu.jsx)(hd,{})})})}),(0,nu.jsx)(me,{path:"/settings",element:(0,nu.jsx)(HU,{children:(0,nu.jsx)(WU,{children:(0,nu.jsx)(xd,{})})})}),(0,nu.jsx)(me,{path:"/charts/license",element:(0,nu.jsx)(HU,{children:(0,nu.jsx)(WU,{children:(0,nu.jsx)(eU,{})})})}),(0,nu.jsx)(me,{path:"/charts/peripheral",element:(0,nu.jsx)(HU,{children:(0,nu.jsx)(WU,{children:(0,nu.jsx)(nU,{})})})}),(0,nu.jsx)(me,{path:"/charts/device",element:(0,nu.jsx)(HU,{children:(0,nu.jsx)(WU,{children:(0,nu.jsx)(sU,{})})})}),(0,nu.jsx)(me,{path:"/helpdesk/entry",element:(0,nu.jsx)(HU,{children:(0,nu.jsx)(WU,{children:(0,nu.jsx)(lU.A,{})})})}),(0,nu.jsx)(me,{path:"/helpdesk/solved",element:(0,nu.jsx)(HU,{children:(0,nu.jsx)(WU,{children:(0,nu.jsx)(kU,{})})})}),(0,nu.jsx)(me,{path:"*",element:(0,nu.jsx)(ge,{to:"/",replace:!0})})]})}function YU(){const e=(0,Ne.XI)();return(0,nu.jsx)(ou.N,{children:e?(0,nu.jsx)(GU,{}):(0,nu.jsx)(du,{})})}i.createRoot(document.getElementById("root")).render((0,nu.jsx)(Ae,{children:(0,nu.jsx)(au,{children:(0,nu.jsx)(YU,{})})}))})()})();
//# sourceMappingURL=main.94bb7a36.js.map